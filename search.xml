<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Leetcode åˆ·é¢˜å‰è¨€</title>
      <link href="/cn/algo-intro/"/>
      <url>/cn/algo-intro/</url>
      
        <content type="html"><![CDATA[<p>Englishï¼ŸClick <a href="https://tianzhe.me/en/algo-intro/">here</a></p><h1 id="å†™åœ¨æœ€å‰"><a href="#å†™åœ¨æœ€å‰" class="headerlink" title="å†™åœ¨æœ€å‰"></a>å†™åœ¨æœ€å‰</h1><p>ä½œä¸º Leetcode åˆ·é¢˜ç³»åˆ—çš„å‰è¨€ï¼Œæˆ‘æƒ³ç»™å¤§ä¼™å„¿å’Œæˆ‘è‡ªå·±è¯´æ˜ä¸€ä¸‹è¿™ä¸ªç³»åˆ—çš„ç›®çš„å’Œå‚è€ƒã€‚å¤§å®¶å¦‚æœç‚¹è¿›è¿™ç¯‡æ–‡ç« å°±è¯´æ˜å¤§å®¶å…¶å®éƒ½æƒ³é€šè¿‡ Leetcode æ¥æå‡è‡ªå·±çš„ç å­—å®åŠ›ï¼Œæˆ‘ä¸å¤§å®¶ä¸€æ ·ä¹Ÿæ¸´æœ›é€šè¿‡åˆ·é¢˜é€šè¿‡åé¢çš„é¢è¯•ï¼Œè€Œè®°å½•åœ¨åšå®¢ä¸å•å•æ˜¯ä¸ºäº†è®°å½•è¿™è¿‡ç¨‹ä¸­æˆ‘çš„æ‰€åšæ‰€æƒ³ï¼ŒåŒæ ·è¿˜ä¸ºäº†å¯¹æœªæ¥çš„è‡ªå·±æä¾›ä¸€ä¸ªå¯ä»¥å¿«é€Ÿå¤ä¹ çš„èµ„æºã€‚å½“ç„¶å¦‚æœè¿™äº›æ–‡ç« èƒ½ç»™ä½ ä»¬ä¹Ÿå¸¦æ¥å¸®åŠ©é‚£æ›´å¥½ï¼Œè¿™ä¹Ÿè¯æ˜æˆ‘çš„æ–‡ç¬”æ²¡æœ‰æƒ³çš„é‚£ä¹ˆçƒ‚å“ˆå“ˆå“ˆå“ˆğŸ˜‚ </p><h1 id="é¢˜ç»„æ¥è‡ªå“ªï¼Ÿ"><a href="#é¢˜ç»„æ¥è‡ªå“ªï¼Ÿ" class="headerlink" title="é¢˜ç»„æ¥è‡ªå“ªï¼Ÿ"></a>é¢˜ç»„æ¥è‡ªå“ªï¼Ÿ</h1><p>å¾ˆå¤šäººè·Ÿæˆ‘ä¸€æ ·åœ¨ç¬¬ä¸€æ¬¡æ¥è§¦ Leetcode æ—¶å¯¹äºè¯¥å»åˆ·å“ªé“é¢˜å®Œå…¨æ²¡æœ‰å¤´ç»ªï¼Œåœ¨è¿™é‡Œå°±è¦éå¸¸æ„Ÿè°¢è¿™äº›å°†æ‰€æœ‰çš„é¢˜ç›®è¿›è¡Œè¿‡æ»¤å¹¶è¿›è¡Œæ’åºç»„åˆçš„å¤§ä½¬ä»¬ç»™åè¾ˆä»¬é“ºå¥½äº†è·¯ï¼èµ„æºæœ‰å¾ˆå¤šï¼Œä½†ç›®å‰æ¥è¯´æˆ‘å°†ä»¥ â€œä»£ç éšæƒ³å½•â€ æä¾›çš„åˆ·é¢˜æ”»ç•¥è¿›è¡Œç»ƒä¹ ï¼Œåœ¨è¿™é‡Œå†æ¬¡æ„Ÿè°¢ä»–ä»¬æ— ç§çš„å¥‰çŒ®ï¼ï¼ï¼</p><h1 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="headerlink" title="ä»£ç è§„èŒƒ"></a>ä»£ç è§„èŒƒ</h1><p>åœ¨åˆ·é¢˜æ—¶ï¼Œä»£ç çš„è§„èŒƒæ€§åŒæ ·éœ€è¦æ³¨æ„ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå·©å›ºè‡ªå·±ä»£ç è§„èŒƒçš„æœºä¼šã€‚å¾ˆå¤šäººä¸å±‘äºäº†è§£ä»£ç è§„èŒƒï¼Œå°†é‡å¿ƒæ”¾åœ¨åŠŸèƒ½çš„å®ç°ä¸Šï¼Œè¿™åœ¨æœªæ¥å¤§å…¬å¸çš„å°ç»„é‡Œæ˜¯éå¸¸è‡´å‘½çš„ï¼ä¸è§„èŒƒçš„ä»£ç ä¼šå¯¹åæœŸçš„ç»´æŠ¤ååˆ†å›°éš¾ï¼Œä¹Ÿæ˜¯å…¬å¸æ‹›äººçš„ä¸€ä¸ªæ ‡å‡†ã€‚</p><h2 id="å˜é‡å‘½å"><a href="#å˜é‡å‘½å" class="headerlink" title="å˜é‡å‘½å"></a>å˜é‡å‘½å</h2><p>ä¸»æµæœ‰ä¸‰ç§ï¼š</p><ul><li>å°é©¼å³°ã€å¤§é©¼å³°å‘½åæ³•</li><li>ä¸‹åˆ’çº¿å‘½åæ³•</li><li>åŒˆç‰™åˆ©å‘½åæ³•</li></ul><p><code>å°é©¼å³°</code>: ç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ï¼Œåé¢å…¶ä»–å•è¯é¦–å­—æ¯å¤§å†™ã€‚ä¾‹å¦‚ <code>int myAge;</code><br><code>å¤§é©¼å³°</code>: ç¬¬ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯ä¹Ÿå¤§å†™äº†ã€‚ä¾‹å¦‚ï¼š<code>int MyAge;</code><br><code>ä¸‹åˆ’çº¿</code>: åç§°ä¸­çš„æ¯ä¸€ä¸ªé€»è¾‘æ–­ç‚¹éƒ½ç”¨ä¸€ä¸ªä¸‹åˆ’çº¿æ¥æ ‡è®°ï¼Œä¾‹å¦‚ï¼š<code>int my_age;</code><br><code>åŒˆç‰™åˆ©</code>: å˜é‡å &#x3D; å±æ€§ + ç±»å‹ + å¯¹è±¡æè¿°ï¼Œä¾‹å¦‚ï¼š<code>int iMyAge;</code>          </p><h2 id="ä»£ç ç©ºæ ¼"><a href="#ä»£ç ç©ºæ ¼" class="headerlink" title="ä»£ç ç©ºæ ¼"></a>ä»£ç ç©ºæ ¼</h2><p>åœ¨è¿ç®—ç¬¦ä¸å‡½æ•°ä¹‹é—´ä½¿ç”¨ç©ºæ ¼éš”å¼€ä»¥å¢åŠ ä»£ç å¯è¯»æ€§ï¼Œä¾‹å­å¦‚ä¸‹ï¼š      </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ“ä½œç¬¦å·¦å³ä¸€å®šè¦æœ‰ç©ºæ ¼</span></span><br><span class="line">i = i + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i, j;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> listIndex = <span class="number">0</span>; listIndex &lt; num.<span class="built_in">size</span>(); listIndex++)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤§æ‹¬å·å’Œå‡½æ•°ä¿æŒåŒä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">while</span> (n) &#123;</span><br><span class="line">  n--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ§åˆ¶è¯­å¥ (while, if, for) åéƒ½æœ‰ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line"><span class="keyword">while</span> (n) &#123;</span><br><span class="line">  <span class="keyword">if</span> (k &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">9</span>;</span><br><span class="line">  n--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>ä¸Šè¿°æ‰€æœ‰ä»£ç æºè‡ª <a href="https://programmercarl.com/%E5%89%8D%E5%BA%8F/%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC.html#%E9%A2%98%E5%A4%96%E8%AF%9D">https://programmercarl.com/å‰åº/ä»£ç é£æ ¼.html#é¢˜å¤–è¯</a></em>        </p><h1 id="åˆ·åŠ›æ‰£-Leetcode-ç”¨ä¸ç”¨åº“å‡½æ•°ï¼Ÿ"><a href="#åˆ·åŠ›æ‰£-Leetcode-ç”¨ä¸ç”¨åº“å‡½æ•°ï¼Ÿ" class="headerlink" title="åˆ·åŠ›æ‰£ (Leetcode) ç”¨ä¸ç”¨åº“å‡½æ•°ï¼Ÿ"></a>åˆ·åŠ›æ‰£ (Leetcode) ç”¨ä¸ç”¨åº“å‡½æ•°ï¼Ÿ</h1><p>åˆ·é¢˜çš„æœ¬è´¨å°±æ˜¯è®©æˆ‘ä»¬æ¸…æ¥šå¦‚ä½•å¯¹ä¸€äº›æ¦‚å¿µçš„å®ç°ï¼Œè€Œåº“å‡½æ•°åŒæ ·ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœä¸€é“é¢˜å¯ä»¥ç›´æ¥è°ƒåº“å‡½æ•°å°±èƒ½è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ï¼Œé‚£ä¹ˆè¿™å°±å¤±å»äº†å®ƒçš„æ„ä¹‰ã€‚å°±å¥½æ¯”ä½ åœ¨åšä½œä¸šï¼Œä½ å¯ä»¥å‚è€ƒç­”æ¡ˆå»æ€è€ƒå¦‚ä½•åšè¿™é“é¢˜ï¼Œä½†æ˜¯å¦‚æœä½ ç›´æ¥é€‰æ‹©æŠŠç­”æ¡ˆæŠ„ä¸‹æ¥ï¼Œé‚£ä¹ˆä½ ä»€ä¹ˆä¹Ÿå­¦ä¸åˆ°ã€‚å› æ­¤åœ¨è¿™é‡Œå…³äºæ˜¯å¦ä½¿ç”¨åº“å‡½æ•°æœ‰ä¸€ä¸ªæ ‡å‡†ï¼š       </p><ol><li>å¦‚æœé¢˜ç›®å…³é”®çš„éƒ¨åˆ†ç›´æ¥ç”¨åº“å‡½æ•°å°±å¯ä»¥è§£å†³ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨åº“å‡½æ•°ã€‚</li><li>å¦‚æœåº“å‡½æ•°ä»…ä»…æ˜¯ è§£é¢˜è¿‡ç¨‹ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œå¹¶ä¸”ä½ å·²ç»å¾ˆæ¸…æ¥šè¿™ä¸ªåº“å‡½æ•°çš„å†…éƒ¨å®ç°åŸç†çš„è¯ï¼Œé‚£ä¹ˆç›´æ¥ç”¨åº“å‡½æ•°ã€‚</li></ol><p>ä½¿ç”¨åº“å‡½æ•°æœ€å¤§çš„å¿Œè®³å°±æ˜¯ä¸çŸ¥é“è¿™ä¸ªåº“å‡½æ•°æ€ä¹ˆå®ç°çš„ï¼Œä¹Ÿä¸çŸ¥é“å…¶æ—¶é—´å¤æ‚åº¦ï¼Œä¸Šæ¥å°±ç”¨ï¼Œè¿™æ ·å†™å‡ºæ¥çš„ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦è‡ªå·±éƒ½æŒæ¡ä¸å¥½çš„ã€‚         </p><p>ä¾‹å¦‚forå¾ªç¯é‡Œå¥—ä¸€ä¸ªå­—ç¬¦ä¸²çš„insertï¼Œeraseä¹‹ç±»çš„æ“ä½œï¼Œä½ è¯´æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Œå¾ˆæ˜æ˜¾æ˜¯O(n^2)çš„æ—¶é—´å¤æ‚åº¦äº†ã€‚          </p><h1 id="æ ¸å¿ƒä»£ç æ¨¡å¼-amp-ACMæ¨¡å¼"><a href="#æ ¸å¿ƒä»£ç æ¨¡å¼-amp-ACMæ¨¡å¼" class="headerlink" title="æ ¸å¿ƒä»£ç æ¨¡å¼ &amp; ACMæ¨¡å¼"></a>æ ¸å¿ƒä»£ç æ¨¡å¼ &amp; ACMæ¨¡å¼</h1><p>ä»¥ä¸€æ®µä»£ç å®ä¾‹ä¸ºä¾‹ï¼š      </p><p>æ ¸å¿ƒä»£ç æ¨¡å¼ï¼š     </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getDays</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; work, vector&lt;<span class="type">int</span>&gt;&amp; gym)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ACMæ¨¡å¼ï¼š    </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; n) &#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">gym</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">work</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; work[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; gym[i];</span><br><span class="line">        <span class="type">int</span> result = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šè¿°ä»£ç å¯¹æ¯”å¯ä»¥çœ‹å‡ºï¼Œæ ¸å¿ƒä»£ç æ¨¡å¼ç›´æ¥å†™æ ¸å¿ƒé€»è¾‘å°±è¡Œäº†ï¼Œworkæ•°ç»„ï¼Œgymæ•°ç»„éƒ½æ˜¯å¡«å¥½çš„ï¼Œç›´æ¥æ‹¿æ¥ç”¨å°±è¡Œï¼Œå¤„ç†å®Œä¹‹å return ç»“æœå°±å®Œäº‹äº†ã€‚ è€ŒACMæ¨¡å¼è¦æ±‚å†™å‡ºæ¥çš„ä»£ç æ˜¯ç›´æ¥å¯ä»¥æœ¬åœ°è¿è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå·±å†™includeå“ªäº›åº“å‡½æ•°ï¼Œæ„é€ è¾“å…¥ç”¨ä¾‹ï¼Œæ„é€ è¾“å‡ºç”¨ä¾‹ã€‚     </p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://github.com/youngyangyang04/leetcode-master">leetcode-master</a> by <em>youngyangyang04</em> from GitHub </p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Algorithm Introduction</title>
      <link href="/en/algo-intro/"/>
      <url>/en/algo-intro/</url>
      
        <content type="html"><![CDATA[<p>çœ‹ä¸æ‡‚è‹±æ–‡ï¼Ÿç‚¹<a href="https://tianzhe.me/cn/algo-intro/">è¿™é‡Œ</a>      </p><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>This series of posts are used to record how I learned and understand by algorithm practice on leetcode. Hopefully, these post would be a great review of what I learned, and might give you some advice on how to solve these questions.</p><h1 id="Where-they-from-Link-at-References"><a href="#Where-they-from-Link-at-References" class="headerlink" title="Where they from? (Link at References)"></a>Where they from? (Link at References)</h1><p>It is better to now what&#x2F;which question should you take before we start doing them, or you will not know where to start, where to go next level. Thus, I found a GitHub repository about the leetcode questions raiders. General speaking, it gives you a full list of question and their solution, but that is all in chinises which means it would be a great chance to also practice my english skill, sounds great right?ğŸ˜‚  This also means the following posts (include this postâ€¦) might have some grammer issues, hope you guys can understand what I speak here.ğŸ¥²       </p><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p><a href="https://github.com/youngyangyang04/leetcode-master">leetcode-master</a> by <em>youngyangyang04</em> from GitHub </p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec3-6:Immutability</title>
      <link href="/cn/LO3-6-Immutability/"/>
      <url>/cn/LO3-6-Immutability/</url>
      
        <content type="html"><![CDATA[<p>Just the Lecture Question!!!</p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Restriction:</strong><br>No state is allowed in this question. Specifically, the keyword â€œvarâ€ is banned</p><p><strong>Question:</strong><br>In a package named â€œfunctionsâ€ write a class named VoteCounter with the following features:</p><ul><li>Has a constructor that takes a List of Strings representing all votes that have been cast</li><li>A method named â€œcastVoteâ€ that takes a String as a parameter representing a vote for a candidate and returns a new VoteCounter with this vote added to the List of votes</li><li>A method named â€œsubmitVotesâ€ that takes a String representing a candidate to vote for and an Int representing the number of votes to cast for that candidate and returns a new VoteCounter with these votes added</li><li>A method named â€œcountVotesâ€ that takes a String representing a candidate and returns the number of votes cast for that candidate</li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestVoteCounterâ€ as a test suite that tests all the functionality listed above</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec5-6:WebSocket_App</title>
      <link href="/cn/LO5-6-WebSocket-App/"/>
      <url>/cn/LO5-6-WebSocket-App/</url>
      
        <content type="html"><![CDATA[<h1 id="Chatting-with-Web-Sockets"><a href="#Chatting-with-Web-Sockets" class="headerlink" title="Chatting with Web Sockets"></a>Chatting with Web Sockets</h1><p>This is the last Lecture you need to take(without the expansion)    </p><h1 id="Clicker-App"><a href="#Clicker-App" class="headerlink" title="Clicker App"></a>Clicker App</h1><ul><li>When the app starts<ul><li>An actor system is created</li><li>A ClickerServer actor is added to the system</li><li>UpdateGames message is sent to the server at regular intervals</li></ul></li></ul><br><ul><li>When a client connects and chooses a username<ul><li>This username is sent to the server in a WebSocket message of type startGame</li></ul></li></ul><br><ul><li>In response to receiving the gameStart message, the server:<ul><li>Sends the client the game configuration in a message of type initialize</li><li>Creates a GameActor in the actor system</li><li>Updates data structure(s) to remember that this game actor is associated with this web socket</li></ul></li></ul><br><ul><li>To create a new Actor<ul><li>Use the context variable of any actor</li><li>Use this context the same as the actor system</li><li>Ex. clickerServer.context.actorOfâ€¦</li></ul></li></ul><br><ul><li>A new game actor is created for each connected client</li><li>Important to update all data structures to associate clients with their actors</li></ul><br><ul><li>When th server recevies click and buy message from a web socket<ul><li>Forward the action as an actor message to the appropriate actor</li><li>Game actor will update its state according to the configuration of the game</li></ul></li></ul><br><ul><li>Each time the clicker server receives the UpdateGames actor message<ul><li>Send an Update message to each game actor</li></ul></li></ul><br><ul><li>Each game actor responds with the GameState message (to the sender())</li><li>GameState contains all information of the fame in a JSON string</li></ul><br><ul><li>The clicker server forwards each game state to the appropriate client in a gameState message</li><li>Each client parses the JSON string and updates the GUI for the user to see</li></ul><br><ul><li>This update process occurs at regular intervals<ul><li>10 times &#x2F; second in the handout code</li></ul></li><li>Notice that all the game logic occurs on the server</li><li>Client only sends user inputs and renders the game state</li></ul><br><ul><li>Expansion objective - AutoSave</li><li>Send messages to save all games at regular intervals</li><li>Store all game states in a way that will persist</li><li>If a user sends the startGame message with a username that has saved game, load their game</li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Write a Web Socket Server for Direct Messages (DMs)</p><br><p>In a package named server, write a class named <code>DMServer</code> that:</p><ul><li>When created, sets up a web socket server listening for connections on localhost:8080</li><li>Listens for messages of type â€œregisterâ€ containing a username as a String (Use data structures to remember which socket belongs to which username)</li><li>Listens for messages of type â€œdirect_messageâ€ containing a JSON string in the format {â€œtoâ€:â€usernameâ€, â€œmessageâ€:â€textâ€}. When such a message is received:<ul><li>Send a message of type â€œdmâ€ to the â€œtoâ€ username containing a JSON string in the format {â€œfromâ€:â€usernameâ€, â€œmessageâ€:â€textâ€}</li></ul></li></ul><br><ul><li>Example: If 2 different users connect to the server and send:<ul><li>emit(â€œregisterâ€, â€œAesopâ€) and emit(â€œregisterâ€, â€œRobâ€)</li><li>User â€œAesopâ€ sends emit(â€œdirect_messageâ€, â€˜{â€œtoâ€: â€œRobâ€, â€œmessageâ€: â€œHappy to be on the food chain at allâ€}â€™)</li></ul></li><li>User â€œRobâ€ will receive a message from the server of type â€œdmâ€ containing the string â€˜{â€œfromâ€: â€œAesopâ€, â€œmessageâ€: â€œHappy to be on the food chain at allâ€}â€™</li></ul><p><strong>Testing:</strong><br>No test:)</p><p><strong>Hint:</strong><br>If you have no idea how to write, check prof. example repo -&gt; <a href="https://github.com/hartloff/CSE116-Examples">link</a>   </p><p>If you forgot how to convert JSON, go check <a href="https://tianzhe.me/2020/09/28/JSON/">Lecture 2-3: JSON</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec5-5:WebSocket_Clients</title>
      <link href="/cn/LO5-5-WebSocket-Clients/"/>
      <url>/cn/LO5-5-WebSocket-Clients/</url>
      
        <content type="html"><![CDATA[<h1 id="WebSocket-Clients"><a href="#WebSocket-Clients" class="headerlink" title="WebSocket Clients"></a>WebSocket Clients</h1><p>Teach you how to write a clients:)    </p><h1 id="WebSocket-Client-Scala"><a href="#WebSocket-Client-Scala" class="headerlink" title="WebSocket Client - Scala"></a>WebSocket Client - Scala</h1><ul><li>Another new library!</li><li>Weâ€™ll use the Scala &#x2F; Java version of the socket.io client Library<ul><li>Follows the same structure as the web client</li></ul></li><li>Add to pom.xml and use maven to download<ul><li>Included in examples repo</li></ul></li></ul><br><ul><li>Import relavent code from the socket.io library</li><li>Use IO.socket to create a socket<ul><li>Returns a reference to the created socket</li></ul></li><li>Call connect() to connect to the server</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.socket.client.&#123;<span class="type">IO</span>, <span class="type">Socket</span>&#125; </span><br><span class="line"><span class="keyword">import</span> io.socket.emitter.<span class="type">Emitter</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProcessMessageFromServer</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">Emitter</span>.<span class="title">Listenner</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">call</span></span>(objects: <span class="type">Object</span>*): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> message = <span class="keyword">object</span>.apply(<span class="number">0</span>).toString</span><br><span class="line">        println(message)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SimpleClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> &#123;</span><br><span class="line">        <span class="keyword">val</span> socket: <span class="type">Socket</span> = <span class="type">IO</span>.socket(<span class="string">&quot;http://localhost:8080&quot;</span>)</span><br><span class="line">        socket.on(<span class="string">&quot;ACK&quot;</span>, <span class="keyword">new</span> <span class="type">ProcessMessageFromServer</span>())</span><br><span class="line"></span><br><span class="line">        socket.connect()</span><br><span class="line">        socket.emit(<span class="string">&quot;chat_message&quot;</span>, <span class="string">&quot;hello&quot;</span>)</span><br><span class="line">        socket.close()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><ul><li>Call the â€œonâ€ method to define the behavior for each message type received from server<ul><li>Takes a message type and an object that extends Emitter.Listener</li><li>Implement call(Object*)<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProcessMessageFromServer</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">Emitter</span>.<span class="title">Listenner</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">call</span></span>(objects: <span class="type">Object</span>*): <span class="type">Unit</span> = &#123; <span class="comment">// Implement call(Object*)</span></span><br><span class="line">        <span class="keyword">val</span> message = <span class="keyword">object</span>.apply(<span class="number">0</span>).toString</span><br><span class="line">        println(message)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.on(<span class="string">&quot;ACK&quot;</span>, <span class="keyword">new</span> <span class="type">ProcessMessageFromServer</span>()) <span class="comment">// &quot;on&quot; method</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Implement call(Objects*) which is called the content of the message as an Array (sort of) of Objects<ul><li>The library is written in Java ans uses Javaâ€™s Objec class</li></ul></li><li>Objecy contains a toString method so we accrss the first element and convert it to a String to process the content of the message<ul><li>If there is no content to the message this will throw an index out of bounds error<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProcessMessageFromServer</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">Emitter</span>.<span class="title">Listenner</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">call</span></span>(objects: <span class="type">Object</span>*): <span class="type">Unit</span> = &#123; </span><br><span class="line">        <span class="keyword">val</span> message = <span class="keyword">object</span>.apply(<span class="number">0</span>).toString <span class="comment">// toString method</span></span><br><span class="line">        println(message)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Send message to the server using the emit method<ul><li>Same syntax as the web version of socket.io</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.emit(<span class="string">&quot;chat_message&quot;</span>, <span class="string">&quot;hello&quot;</span>) <span class="comment">// emit method</span></span><br></pre></td></tr></table></figure><br><ul><li>If you need to interact with a ScalaFX GUI when a socket message is reveived, call Platform.funLater</li><li>Platform.runLater will run your method on the same thread as the GUI</li><li>This allows you to access the GUI elements &#x2F; variables from your Emitter.Listener<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServerStopped</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">Emitter</span>.<span class="title">Listener</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">call</span></span>(objects: <span class="type">Object</span>*): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="type">Platform</span>.runLater(() =&gt; &#123;</span><br><span class="line">            <span class="type">GUIClient</span>.textOutput.text.value = <span class="string">&quot;The server has stopped&quot;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">GUIClient</span> <span class="keyword">extends</span> <span class="title">JFXApp</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    socket.on(<span class="string">&quot;server_stopped&quot;</span>, <span class="keyword">new</span> <span class="type">ServerStopped</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> textOutput: <span class="type">Label</span> = <span class="keyword">new</span> <span class="type">Label</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Takes an object extending Runnable with a method named run with no parameters and return type Unit</li><li>Using Scala syntax to condense this inheritance<ul><li>This syntax can be used when extending a trait with a single method</li><li>Can create your listeners and event handlers with this syntax if youâ€™d perfer<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServerStopped</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">Emitter</span>.<span class="title">Listener</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">call</span></span>(objects: <span class="type">Object</span>*): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="type">Platform</span>.runLater(() =&gt; &#123; <span class="comment">// This part</span></span><br><span class="line">            <span class="type">GUIClient</span>.textOutput.text.value = <span class="string">&quot;The server has stopped&quot;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h1 id="Chat-Demo"><a href="#Chat-Demo" class="headerlink" title="Chat Demo"></a>Chat Demo</h1><ul><li>Letâ€™s build a chat app!<ul><li>Code is in the repo</li></ul></li><li>User can connect to the chat server<ul><li>Use a web or desktop front end</li><li>Server doesnâ€™t care what type of app a client is using</li></ul></li><li>All connected users can communicate through text messages</li></ul><br><ul><li>Chat server starts up</li><li>Listener for WebSocket connections on port 8080</li><li>Initialize data structures that will store references to each WebSocket</li></ul><br><ul><li>Server connects to a MySQL database to store the chat history</li><li>Communicates via SQL statements<ul><li>MySQL reacts to the event of receving a statement</li></ul></li><li><strong>More details on MySQL in a later lecture</strong></li></ul><br><ul><li>Cliens connect to the server using WebSockets<ul><li>Client could be web or desktop</li></ul></li><li>After the connection is established:<ul><li>Client sends a message of type register containing their username</li></ul></li></ul><br><ul><li>The server receives the register message and reacts to this event</li><li>Adds the new user to the data structures<ul><li>Data structure remembers the username associated with this socket</li><li>Retrieve the chat history from the database and send it to the client</li></ul></li></ul><br><ul><li>Client reacts to the chat_history message<ul><li>Renders all the content and displays it to the user</li></ul></li></ul><br><ul><li>Multiple cliens can be connected simultaneously</li><li>Each client sends their username in a register message</li><li>Chat server maps usernames to sockets for all connections</li></ul><br><ul><li>All user can send messages of type chat_message to the server<ul><li>Message is sent when a user sends a message using the GUI</li></ul></li><li>This message inly contains the message (No username)</li></ul><br><ul><li>When the server receives a chat_message:<ul><li>Lookup the username for the sending socket</li><li>Store username &#x2F; message in the database</li><li>Send username &#x2F; message to all connected sockets in a message of type new_message</li></ul></li></ul><br><ul><li>Clients receive the new_message</li><li>Add it to the GUI for the user to read</li></ul><br><ul><li>When a client disconnects the server reacts to the disconnect event</li><li>Remove the user from data structures</li></ul><p><strong>To the Code</strong></p><hr><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Write a Web Socket Server that echos back to clients the messages they send</p><br><p>In a package named server, write a class named <code>EchoServer</code> that:</p><ul><li>When created, sets up a web socket server listening for connections on localhost:8080</li><li>Listens for messages of type â€œsend_backâ€ containing a String and sends back to the client a message of type â€œechoâ€ containing the exact string sent by the client</li></ul><p><strong>Testing:</strong><br>No test:)</p><p><strong>Hint:</strong><br>If you have no idea how to write, check prof. example repo -&gt; <a href="https://github.com/hartloff/CSE116-Examples">link</a>   </p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec5-4:WebSocket_Server</title>
      <link href="/cn/LO5-4-WebSocket-Server/"/>
      <url>/cn/LO5-4-WebSocket-Server/</url>
      
        <content type="html"><![CDATA[<h1 id="WebSocket-Server"><a href="#WebSocket-Server" class="headerlink" title="WebSocket Server"></a>WebSocket Server</h1><p>Teach you how to write a simple server:)</p><h1 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h1><ul><li>In CSE115 you used HTTP request &#x2F; responses to build web apps</li><li>If you wanted more data from the server after the page loads, you used AJAX<ul><li>Server hosts JSON data at certain end points</li><li>Client makes an AJAX call to retrieve the most current data</li></ul></li><li>But the server has to wait for a request before sending a response</li></ul><br><ul><li>What if the server wants to send time-sensitive data without waiting for a request?</li><li>In CSE115<ul><li>Built a chat app using polling</li><li>Client sent AJAX requests at regular intervals</li><li>Only get updates when AJAX request is sent</li></ul></li><li>Can use long-polling<ul><li>Server hangs on poll requests until it has new data to send</li></ul></li></ul><br><ul><li>A newer solution (Standardized in 2011)</li><li>Establishes a lasting connection<ul><li>Enables 2-way communication between server and client</li></ul></li><li>Server can push updates to clients over the web socket without waiting for the client to make a new request</li></ul><h1 id="socket-io"><a href="#socket-io" class="headerlink" title="socket.io"></a>socket.io</h1><ul><li>A library built on top of web sockets</li><li>Maintains connections and reconnecting</li><li>Uses message types<ul><li>Similar to actors, except the message type is always a string</li></ul></li><li>Add listeners to react to different message types<ul><li>Receiving a message is an event</li><li>Listener code will be called when the event occurs</li></ul></li></ul><h1 id="socket-io-Server-in-Scala"><a href="#socket-io-Server-in-Scala" class="headerlink" title="socket.io Server in Scala"></a>socket.io Server in Scala</h1><ul><li>New library</li><li>Link on the course website</li><li>Dependency included in pom.xml in examples repo</li></ul><h1 id="Web-Socket-Server"><a href="#Web-Socket-Server" class="headerlink" title="Web Socket Server"></a>Web Socket Server</h1><ul><li>Import from the new library</li><li>Setup and start the server<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.corundumstudio.socketio.listener.&#123;<span class="type">ConnectListener</span>, <span class="type">DataListener</span>, <span class="type">DisconnectListener</span>&#125;</span><br><span class="line"><span class="keyword">import</span> com.corundumstudio.socketio.&#123;<span class="type">AckRequest</span>, <span class="type">Configuration</span>, <span class="type">SocketIOClient</span>, <span class="type">SocketIOServer</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Server</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> config: <span class="type">Configuration</span> = <span class="keyword">new</span> <span class="type">Configuration</span> &#123;</span><br><span class="line">        setHostname(<span class="string">&quot;localhost&quot;</span>)</span><br><span class="line">        setPort(<span class="number">8080</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> server: <span class="type">SocketIOServer</span> = <span class="keyword">new</span> <span class="type">SocketIOServer</span>(config)</span><br><span class="line"></span><br><span class="line">    server.addConnectListener(<span class="keyword">new</span> <span class="type">ConnectionListener</span>())</span><br><span class="line">    server.addDisconnectListener(<span class="keyword">new</span> <span class="type">DisconnectionListener</span>())</span><br><span class="line">    server.addEventListener(<span class="string">&quot;chat_message&quot;</span>, classOf[<span class="type">String</span>], <span class="keyword">new</span> <span class="type">MessageListener</span>())</span><br><span class="line">    server.addEventListener(<span class="string">&quot;stop_server&quot;</span>, classOf[<span class="type">Nothing</span>], <span class="keyword">new</span> <span class="type">StopListener</span>(<span class="keyword">this</span>))</span><br><span class="line"></span><br><span class="line">    server.start()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Create a configuration object for the server</li><li>This server will run on localhost port 8080<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> config: <span class="type">Configuration</span> = <span class="keyword">new</span> <span class="type">Configuration</span> &#123;</span><br><span class="line">    setHostname(<span class="string">&quot;localhost&quot;</span>)</span><br><span class="line">    setPort(<span class="number">8080</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Create and start the server</li><li>Use the configuration to tell the library how to setup the server</li><li>Call the start() method to start listening for connections<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> server: <span class="type">SocketIOServer</span> = <span class="keyword">new</span> <span class="type">SocketIOServer</span>(config) <span class="comment">// Create a server</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">server.start() <span class="comment">// Start the server</span></span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Add listener to handle different event types</li><li>Connect and disconnect listeners to react to clients connecting and disconnecting</li><li>Event listeners for each different message tyoe received from clients<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server.addConnectListener(<span class="keyword">new</span> <span class="type">ConnectionListener</span>()) <span class="comment">// added connect listener</span></span><br><span class="line">server.addDisconnectListener(<span class="keyword">new</span> <span class="type">DisconnectionListener</span>()) <span class="comment">// added disconnect listener</span></span><br><span class="line">server.addEventListener(<span class="string">&quot;chat_message&quot;</span>, classOf[<span class="type">String</span>], <span class="keyword">new</span> <span class="type">MessageListener</span>()) <span class="comment">// added event listener</span></span><br><span class="line">server.addEventListener(<span class="string">&quot;stop_server&quot;</span>, classOf[<span class="type">Nothing</span>], <span class="keyword">new</span> <span class="type">StopListener</span>(<span class="keyword">this</span>)) <span class="comment">// added event listener</span></span><br></pre></td></tr></table></figure></li></ul><br><ul><li>For connect and disconnect<ul><li>Create classes overriding ConnectListener and DisconnectListener</li><li>Implement the onConnect &#x2F; onDisconnect methods</li></ul></li><li>These methods take a reference to the sending socket as a parameter<ul><li>Can use this reference to send messages to the client</li><li>Usually want to store each reference to send messages later<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server.addConnectListener(<span class="keyword">new</span> <span class="type">ConnectionListener</span>())</span><br><span class="line">server.addConnectListener(<span class="keyword">new</span> <span class="type">DisconnectionListener</span>())</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConnectionListener</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">ConnectListener</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">onConnect</span></span>(socket: <span class="type">SocketIOClient</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;Connected: &quot;</span> + socket)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DisconnectionListener</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">DisconnectListener</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">onDisconnect</span></span>(socket: <span class="type">SocketIOClient</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;Disconnected: &quot;</span> + socket)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>To receive messages, specify the message type and the class of the message<ul><li>Create classes extending DataListener[message_type]</li></ul></li><li>For message class weâ€™ll use<ul><li>String to receive text data</li><li>Nothing if itâ€™s just a message (Similar to an actor receiving a case object)<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server.addEventListener(<span class="string">&quot;chat_message&quot;</span>, classOf[<span class="type">String</span>], <span class="keyword">new</span> <span class="type">MessageListener</span>())</span><br><span class="line">server.addEventListener(<span class="string">&quot;stop_server&quot;</span>, classOf[<span class="type">Nothing</span>], <span class="keyword">new</span> <span class="type">StopListener</span>(<span class="keyword">this</span>))</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessageListener</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">DataListener</span>[<span class="type">String</span>] </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">onData</span></span>(socket: <span class="type">SocketIOClient</span>, data: <span class="type">String</span>, ackRequest: <span class="type">AckRequest</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;received_message: &quot;</span> + data + <span class="string">&quot;from: &quot;</span> + socket)</span><br><span class="line">        socket.sendEvent(<span class="string">&quot;ACK&quot;</span>, <span class="string">&quot;I received your message of &quot;</span> + data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StopListener</span>(<span class="params">server: <span class="type">Server</span></span>) <span class="keyword">extends</span> <span class="title">DataListener</span>[<span class="type">Nothing</span>] </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">onData</span></span>(socket: <span class="type">SocketIOClient</span>, data: <span class="type">Nothing</span>, ackRequest: <span class="type">AckRequest</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;stopping server&quot;</span>)</span><br><span class="line">        server.server.stop()</span><br><span class="line">        println(<span class="string">&quot;safe to stop program&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Use the reference to the Socket to send messages to the client</li><li>Specify the type of the message as a String</li><li>If the message contains data, use a second String<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.sendEvent(<span class="string">&quot;ACK&quot;</span>, <span class="string">&quot;I received your message of &quot;</span> + data)</span><br></pre></td></tr></table></figure></li></ul><h1 id="Web-Socket-Clients"><a href="#Web-Socket-Clients" class="headerlink" title="Web Socket Clients"></a>Web Socket Clients</h1><ul><li>Weâ€™ve set up a web socket server that will listen for connections and process message</li><li>Now, letâ€™s build a web socket client that will connect to the server</li></ul><h1 id="WebSocket-Client-Web"><a href="#WebSocket-Client-Web" class="headerlink" title="WebSocket Client - Web"></a>WebSocket Client - Web</h1><ul><li>First, setup the HTML</li><li>Layout and style of the page<ul><li>Could add CSS for more style<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Web Socket Client Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;chat_input&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;gold&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;sendMessage();&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;display_message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;WebClient.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Download the socket.io JavaScript client library</li><li>This library contains all the code weâ€™ll need to connect to pur server<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Add elements for the user to enter and send a message</li><li>In JavaScript, weâ€™ll implement the sendMessage() function<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;chat_input&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;gold&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;sendMessage();&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">botton</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;display_message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Download our JavaScript file</li><li>This script runs codes to connect to the server as soon as itâ€™s downloaded<ul><li>Include this at the end of the body so the page loads before connecting to the server<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;WebClient.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>In WebClinet.js</li><li>Call io.connect to the server<ul><li>Returns a reference to the created socket<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> socket = io.<span class="title function_">connect</span>(<span class="string">&quot;http://localhost:8080&quot;</span>, &#123;<span class="attr">transports</span>: &#123;<span class="string">&#x27;websocket&#x27;</span>&#125;&#125;);</span><br><span class="line"></span><br><span class="line">socket.<span class="title function_">on</span>(<span class="string">&#x27;ACK&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;display_message&quot;</span>).<span class="property">innerHTML</span> = event;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">socker.<span class="title function_">on</span>(<span class="string">&#x27;server_stopped&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;display_message&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;The server has stopped&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> message = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;chat_input&quot;</span>).<span class="property">value</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;chat_input&quot;</span>).<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    socket.<span class="title function_">emit</span>(<span class="string">&quot;chat_message&quot;</span>, message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Define how the socket will react to different message types with the â€œonâ€ method</li><li>The â€œonâ€ method takes the message type and a function as arguments<ul><li>Call the function whenever a message of that type is received from the server<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">socket.<span class="title function_">on</span>(<span class="string">&#x27;ACK&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;display_message&quot;</span>).<span class="property">innerHTML</span> = event;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">socker.<span class="title function_">on</span>(<span class="string">&#x27;server_stopped&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;display_message&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;The server has stopped&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>The function should take a parameter which will contain the data of the message if there is any</li><li>We receive an ACK message containing a string which we display on the page (Similar to case class)</li><li>We receive a server_stopped message and inform he user that the server stopped (Similar to case object)</li></ul><br><ul><li>To send a message, call emit</li><li>Takes the message type and the content of the message, if any</li><li>Can call emit with only message type to send a message with no content (Similar to case object)</li></ul><p><strong>Web Socket Demo</strong></p><hr><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Write a Web Socket Server that counts the number of messages it receives</p><br><p>In a package named server, write a class named <code>LectureServer</code> that:</p><ul><li>When created, sets up a web socket server listening for connections on localhost:8080</li><li>Listens for messages of type â€œincrementâ€ with no data</li><li>Has a method named <code>numberOfMessages</code> that returns (as an Int) the number of times a message of type â€œincrementâ€ was received</li></ul><p><strong>Testing:</strong><br>No test:)</p><p><strong>Hint:</strong><br>If you have no idea how to write, check prof. example repo -&gt; <a href="https://github.com/hartloff/CSE116-Examples">link</a>   </p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec5-3:Actors</title>
      <link href="/cn/LO5-3-Actors/"/>
      <url>/cn/LO5-3-Actors/</url>
      
        <content type="html"><![CDATA[<h1 id="Actors"><a href="#Actors" class="headerlink" title="Actors"></a>Actors</h1><p>actors again!</p><h1 id="Stock-Trader-Example"><a href="#Stock-Trader-Example" class="headerlink" title="Stock Trader Example"></a>Stock Trader Example</h1><ul><li>Simulate stock changing prices and a trader purchasing stocks</li></ul><br><ul><li>Stock<ul><li>Receives a Tick message and changes its price<ul><li>Price changes are random for this simulation</li><li>Tick messages are sent to all stocks at regular intervals</li></ul></li><li>Receives a GetPrice message and responds with its current price</li></ul></li></ul><br><ul><li>Trader<ul><li>Knows each stockâ€™s ticker symbol and actor reference</li><li>Receives a CheckStocks message and checks the price of all known stocks</li><li>Receives Price messages from stocks and decides [randomly] whether or not buy some shares</li></ul></li></ul><p><strong>To the Code</strong></p><h1 id="Traffic-Example"><a href="#Traffic-Example" class="headerlink" title="Traffic Example"></a>Traffic Example</h1><ul><li>Intersections<ul><li>North &#x2F; South road intersects with an East &#x2F; West road</li><li>Initially Green light East &#x2F; West</li><li>Alternate green light at a fixed interval</li></ul></li></ul><br><ul><li>Cars<ul><li>Have a List of directions to follow</li><li>Each direction has:<ul><li>A destination Intersection</li><li>The time it takes to each that Intersection</li><li>Whether the intersection will be approached from the East &#x2F; West or North &#x2F; South</li></ul></li></ul></li></ul><br><ul><li>When a car approaches an intersection:<ul><li>Inform the Intersection</li><li>Intersection gives the GreenLight for the car to go<ul><li>If the light is red, the Intersection will wait until itâ€™s green before sending the GreenLight message</li></ul></li></ul></li></ul><br><ul><li>When a car receives a GreenLight message<ul><li>Proceed to next Intersection in the direction list</li></ul></li></ul><h1 id="Delayed-Messages"><a href="#Delayed-Messages" class="headerlink" title="Delayed Messages"></a>Delayed Messages</h1><ul><li>There are two cases where weâ€™ll have message that need to be sent with a delay<ul><li>Intersections changing lights at fixed intervals</li><li>Cars waiting the appropriate amount of time before checking an intersection for a green light</li></ul></li><li>Similar syntax as repeatedly sending a message (Supervisor example)</li><li>Use scheduleOnce<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> context.dispatcher</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">context.system.scheduler.scheduleOnce(</span><br><span class="line">    timeInterval.milliseconds, </span><br><span class="line">    self,</span><br><span class="line">    <span class="type">ChangeLight</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Must import the dispatcher from inside the Actorâ€™s class</li><li>Speccify:<ul><li>The time delay</li><li>The recipient<ul><li>self contains an ActorRef to this actor</li></ul></li><li>The message to be sent</li></ul></li></ul><h1 id="Actors-Creating-Actors"><a href="#Actors-Creating-Actors" class="headerlink" title="Actors Creating Actors"></a>Actors Creating Actors</h1><ul><li>this.context can be used to add new actors to the system</li><li>Use the same â€œactorOfâ€ syntax as used when adding actors using the system directly<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.context.actorOf(<span class="type">Props</span>(classOf[<span class="type">TimerActor</span>]))</span><br></pre></td></tr></table></figure></li></ul><br><p><strong>To the Code</strong></p><hr><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Create and test an actor class to set and sound an alarm</p><ul><li>In a package named actors, create a class named AlarmActor that extends Actor</li><li>Create the following case class in the actors package that will be used as messages<ul><li>A case class named <code>SetAlarm</code> that takes a Double and a String in its constructor</li><li>A case class named <code>Alarm</code> that takes a String in its constructor</li></ul></li><li>The AlarmActor class must respond to messages of type SetAlarm by:<ul><li>Interpreting the Double as the number of seconds to wait before sounding the alarm</li><li>When the alarm â€œsoundsâ€ send an Alarm message back to the actor that sent the SetAlarm message containing the same String that was in the SetAlarm message</li></ul></li></ul><p><strong>Testing:</strong><br>Write a test suite named tests.TestAlarmActor to test this functionality</p><p><strong>No test after this LQ!!!!</strong></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec5-2:Testing_Actors</title>
      <link href="/cn/LO5-2-Testing-Actors/"/>
      <url>/cn/LO5-2-Testing-Actors/</url>
      
        <content type="html"><![CDATA[<h1 id="Testing-Actors"><a href="#Testing-Actors" class="headerlink" title="Testing Actors"></a>Testing Actors</h1><p>testing the actors:)</p><h1 id="Traits-and-Mixins"><a href="#Traits-and-Mixins" class="headerlink" title="Traits and Mixins"></a>Traits and Mixins</h1><ul><li>Weâ€™ve seen inheritance by extending abstract class</li><li>What if we want to extend multiple classes?<ul><li>Example: You want an object class that extends PhysicalObject to have physics applied and extend Actor to run concurrently</li><li><strong>This is not allowed</strong></li></ul></li><li>Can avoid this need by using composition<ul><li>Make a class that extends actor and stores a PhysicalObject in a state variable</li></ul></li></ul><br><ul><li>Traits<ul><li>Similar to abstract classes</li><li><strong>Cannot have a constructor</strong></li></ul></li><li>No limit to the number of traits that can be extended<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Database</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">playerExists</span></span>(username: <span class="type">String</span>): <span class="type">Boolean</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createPlayer</span></span>(username: <span class="type">String</span>): <span class="type">Unit</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">saveGameState</span></span>(username: <span class="type">String</span>, gameState: <span class="type">String</span>): <span class="type">Unit</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loadGameState</span></span>(username: <span class="type">String</span>): <span class="type">String</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Mixins<ul><li>When extending multiple traits, we use the term mixin(ie. The traits are mixed into the class)</li></ul></li><li>Extend any one class &#x2F; abstract class &#x2F; trait using â€œextendsâ€</li><li>Add any number of Traits using â€œwithâ€</li><li>Must implement all abstract methods from all inheritances<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ActorAndDatabase</span> <span class="keyword">extends</span> <span class="title">Actor</span> <span class="keyword">with</span> <span class="title">Database</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">Receive</span> = &#123;</span><br><span class="line">        case_ =&gt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">playerExists</span></span>(username: <span class="type">String</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">        <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">createPlayer</span></span>(username: <span class="type">String</span>): <span class="type">Unit</span> = &#123;&#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">saveGameState</span></span>(username: <span class="type">String</span>, gameState: <span class="type">String</span>): <span class="type">Unit</span> = &#123;&#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">loadGameState</span></span>(username: <span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="Testing-Actors-1"><a href="#Testing-Actors-1" class="headerlink" title="Testing Actors"></a>Testing Actors</h1><ul><li>Weâ€™ve seen our first actor system where multiple actors can run concurrently</li><li><strong>But how would we test such a program?</strong></li><li>Use a FunSuite like we have all semester?<ul><li>FunSuite starts the actor system</li><li>Creates actors</li><li>Send messages</li><li>Runds some asserts that likely execuye <strong>before</strong> the first message is received by an actor</li></ul></li><li>Can wait with Thread.sleep to wait for messages, but the FunSuite canâ€™t receive messages from the actors<ul><li>Now way of gainning infomation from the actors</li></ul></li></ul><h1 id="Testing-Actors-Library"><a href="#Testing-Actors-Library" class="headerlink" title="Testing Actors - Library"></a>Testing Actors - Library</h1><ul><li>Letâ€™s pull in a new library to help us out</li><li>The testing library weâ€™ll use is the Akka testkit</li><li>Make sure thr version number matches your version of the Akka actor library<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.typesafe.akka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>akka-actor_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.typesafe.akka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>akka-testkit_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h1 id="Testing-Actors-Setup"><a href="#Testing-Actors-Setup" class="headerlink" title="Testing Actors - Setup"></a>Testing Actors - Setup</h1><ul><li>Using this library, weâ€™ll setup a new type of TestSuite using the TestKit class</li><li>This setup is directly from the test kit documentation and can be reused whenever you setup a test suite for actors<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> akka.testkit.&#123;<span class="type">ImplicitSender</span>, <span class="type">TestKit</span>&#125;</span><br><span class="line"><span class="keyword">import</span> org.scalatest.&#123;<span class="type">BeforeAndAfterAll</span>, <span class="type">Matchers</span>, <span class="type">WordSpecLike</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.concurrent.duration._</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestActors</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">TestKit</span>(<span class="params"><span class="type">ActorSystem</span>(&quot;<span class="type">TestStringActor</span>&quot;</span>)) <span class="keyword">with</span> <span class="title">ImplicitSender</span></span></span><br><span class="line">    <span class="keyword">with</span> <span class="type">WordSpecLike</span></span><br><span class="line">    <span class="keyword">with</span> <span class="type">Matchers</span></span><br><span class="line">    <span class="keyword">with</span> <span class="type">BeforeAndAfterAll</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">afterAll</span></span>: <span class="type">Unit</span> = &#123; </span><br><span class="line">        <span class="type">TestKit</span>.shutdownActorSystem(system)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;A string actor&quot;</span> must &#123; </span><br><span class="line">        <span class="string">&quot;track a string&quot;</span> in &#123; </span><br><span class="line">            <span class="comment">// Test actors here</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>Import classes &#x2F; traits from the libraries</li><li>The test kit is built on top of scalatest so weâ€™ll use both libraries</li><li>Import the duration package from Scala to use 100.millis syntax<ul><li>Important: This muest be manually added. IntelliJ will not suggest importing the duration package and you will have an error on you millis</li></ul></li></ul><br><ul><li>Extend the TestKit class which has a constructor that takes an ActorSystem</li><li>Name and Create a new ActorSystem directly in the constructor</li></ul><br><ul><li>Mixin traits for additional functionality</li><li>These traits contain defined methods<ul><li>No abstract methods that need to be implemented</li></ul></li></ul><br><ul><li>From tje BeforeAndAfterAll trait, we inherited the afterAll method which is called after all our tests complete</li><li>By default, afterAll is implement but does nothing</li><li>We override afterAll to properly shutdown the actor system</li></ul><br><ul><li>Finally, we can setup our tests</li><li>Instead of unit testing, the test kit uses behavioral tests<ul><li>Name tests by the expect behavior of your code</li></ul></li></ul><br><ul><li>Methods â€œmustâ€ and â€œinâ€ are inherited from WordSpecLike and are called inline<ul><li>Uses a string wrapper class (ie. â€œA value actorâ€ is implicitly converted to the wrapper class which contains the must method)</li></ul></li><li>All this to achieve more human readable syntax</li></ul><h1 id="Testing-Actors-2"><a href="#Testing-Actors-2" class="headerlink" title="Testing Actors"></a>Testing Actors</h1><ul><li>With the test suite setup, weâ€™re ready to start testing our actors</li><li>We have access to the actor system we created in the constructor in the system variable<ul><li>Use this system to start your actor(s)<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;A string actor&quot;</span> must &#123;</span><br><span class="line">    <span class="string">&quot;track a string&quot;</span> in &#123;</span><br><span class="line">        <span class="keyword">val</span> valueActor = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">StringActor</span>], <span class="string">&quot;Hello&quot;</span>))</span><br><span class="line"></span><br><span class="line">        valueActor ! <span class="type">Append</span>(<span class="string">&quot; CSE&quot;</span>)</span><br><span class="line">        valueActor ! <span class="type">Append</span>(<span class="string">&quot;116&quot;</span>)</span><br><span class="line"></span><br><span class="line">        expectNoMessage(<span class="number">100.</span>millis)</span><br><span class="line"></span><br><span class="line">        valueActor ! <span class="type">GetValue</span></span><br><span class="line">        <span class="keyword">val</span> value: <span class="type">Value</span> = expectMsgType[<span class="type">Value</span>](<span class="number">1000.</span>millis)</span><br><span class="line"></span><br><span class="line">        assert(value == <span class="type">Value</span>(<span class="string">&quot;Hello CSE116&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Send messages to the actor using the ! method<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;A string actor&quot;</span> must &#123;</span><br><span class="line">    <span class="string">&quot;track a string&quot;</span> in &#123;</span><br><span class="line">        <span class="keyword">val</span> valueActor = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">StringActor</span>], <span class="string">&quot;Hello&quot;</span>))</span><br><span class="line"></span><br><span class="line">        valueActor ! <span class="type">Append</span>(<span class="string">&quot; CSE&quot;</span>)</span><br><span class="line">        expectNoMessage(<span class="number">100.</span>millis)</span><br><span class="line">        valueActor ! <span class="type">Append</span>(<span class="string">&quot;116&quot;</span>)</span><br><span class="line">        expectNoMessage(<span class="number">100.</span>millis)</span><br><span class="line"></span><br><span class="line">        valueActor ! <span class="type">GetValue</span></span><br><span class="line">        <span class="keyword">val</span> value: <span class="type">Value</span> = expectMsgType[<span class="type">Value</span>](<span class="number">1000.</span>millis)</span><br><span class="line"></span><br><span class="line">        assert(value == <span class="type">Value</span>(<span class="string">&quot;Hello CSE116&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li><strong>New</strong>: Use the expectNoMessage method (inherited from TestKit) to wait for messages to resolve before testing</li><li>The test suite will wait for the specified amount of time<ul><li>If thereâ€™s an error on millis, donâ€™t forget to import the duration package<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expectNoMessage(<span class="number">100.</span>millis)</span><br></pre></td></tr></table></figure></li></ul></li><li>In this example, each expectNoMessage will wait for 100 milliseconds before moving to the next line of code<ul><li>This allows sample time for messages to be processed in a controlled order</li></ul></li><li>If any message is received while waiting, the test will fail</li></ul><br><ul><li>Send a message to an actor that expects a response</li><li>The test suite is part of the actor system and can receive the response for testing<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valueActor ! <span class="type">GetValue</span></span><br></pre></td></tr></table></figure></li></ul><br><ul><li><strong>New</strong>: When you expect to receive a message, call expectMsgType with the message type you expect</li><li>The time provided is the maximum amount to time to wait before failing the test<ul><li>If we donâ€™t receive a message of type Value within 1 second, this test fails<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> value: <span class="type">Value</span> = expectMsgType[<span class="type">Value</span>](<span class="number">1000.</span>millis)</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>expectMsgType does not wait for the <strong>full duration</strong>!</li><li>As soon as a message is received, the test <strong>moves on</strong></li><li>This test will wait for 11.5dats, or until it receives a message<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;A string actor&quot;</span> must &#123;</span><br><span class="line">    <span class="string">&quot;track a string&quot;</span> in &#123;</span><br><span class="line">        <span class="keyword">val</span> valueActor = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">StringActor</span>], <span class="string">&quot;Hello&quot;</span>))</span><br><span class="line"></span><br><span class="line">        valueActor ! <span class="type">Append</span>(<span class="string">&quot; CSE&quot;</span>)</span><br><span class="line">        expectNoMessage(<span class="number">100.</span>millis)</span><br><span class="line">        valueActor ! <span class="type">Append</span>(<span class="string">&quot;116&quot;</span>)</span><br><span class="line">        expectNoMessage(<span class="number">100.</span>millis)</span><br><span class="line"></span><br><span class="line">        valueActor ! <span class="type">GetValue</span></span><br><span class="line">        <span class="keyword">val</span> value: <span class="type">Value</span> = expectMsgType[<span class="type">Value</span>](<span class="number">1000000000.</span>millis)</span><br><span class="line"></span><br><span class="line">        assert(value == <span class="type">Value</span>(<span class="string">&quot;Hello CSE116&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>When the message is received, use asserts to test it<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert(value == <span class="type">Value</span>(<span class="string">&quot;Hello CSE116&quot;</span>))</span><br></pre></td></tr></table></figure></li></ul><br><ul><li><strong>Caution</strong>: When testing message types with underfined variable names <strong>do not access the variables for testing</strong><ul><li>For todayâ€™s lecture question, the names of the Int variables are not defined and it is unlikely that we will use the same names</li><li>If we use different names &#x3D;&gt; error in AutoLab</li></ul></li></ul><br><ul><li>Instead, create a new message of that type and check foor equality<ul><li>Recall that case classes have an equals method that compares the values of its variables instead of references</li></ul></li></ul><hr><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Create and test an actor class to track funds in a bank account</p><ul><li>This question is similar to Mondayâ€™s in that your actor will only track a single value. Through this question you will practice writing a test suite for actors</li><li>In a package named bank create a class named <code>BankAccount</code> that extends Actor</li><li>Create the following case class&#x2F;objects in the bank package that will be used as messages<ul><li>A case class named <code>Deposit</code> that takes an Int in its constructor</li><li>A case class named <code>Withdraw</code> that takes an Int in its constructor</li><li>A case object named <code>CheckBalance</code></li><li>A case class named <code>Balance</code> that takes an Int in its constructor</li></ul></li><li>The BankAccount class must:<ul><li>Initially contain no funds</li><li>When it receives a Deposit message, increases its funds by the amount in the message</li><li>When it receives a Withdraw message, decrease its funds by the amount in the message only if the account has enough money to cover the withdrawal. If it doesnâ€™t have enough money for the full withdrawal, no funds are removed</li><li>When it receives a CheckBalance message, sends its current funds back to the sender in a Balance message</li></ul></li></ul><p><strong>Testing:</strong><br>In a package named tests, write a class named TestBankAccount as a test suite that tests the BankAccount functionality       </p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec5-1:Actors</title>
      <link href="/cn/LO5-1-Actors/"/>
      <url>/cn/LO5-1-Actors/</url>
      
        <content type="html"><![CDATA[<h1 id="Concurrency-and-Actors"><a href="#Concurrency-and-Actors" class="headerlink" title="Concurrency and Actors"></a>Concurrency and Actors</h1><p>new chapter :)</p><h1 id="Concurrency"><a href="#Concurrency" class="headerlink" title="Concurrency"></a>Concurrency</h1><ul><li>Most programs weâ€™ve written execute code sequentially<ul><li>Each statement of code is executed in the order they are written</li><li>Can have control flow to decide which statements are executed and in which order</li></ul></li><li><strong>What if we want multiple pieces of code to execute at the same time?</strong></li></ul><br><ul><li>Weâ€™ve written 2 types of concurrent software already</li><li>In CSE115, you wrote a web server<ul><li>What if 2 users are visiting your site at the same time?</li><li>Server waits for requests and handles them as they are recevied</li><li>You provide callback functions that are called when a request arrives</li></ul></li><li>In CSE116, we saw GUIs on each HW assignment<ul><li>GUI runs an update loop to display the current state of the software</li><li>GUI simultaneously listens for user inputs</li><li>You provide listener classes with a method that is called when the user takes an action</li></ul></li></ul><br><ul><li>For both web servers and GUIs<ul><li>We used libraries that hid the concurrency</li></ul></li><li>What if we want to write concurrent code that is not part of a web server or GUI?</li><li>Weâ€™ll see how to write concurrent programs using actors</li></ul><br><h1 id="Concurrency-Actors"><a href="#Concurrency-Actors" class="headerlink" title="Concurrency - Actors"></a>Concurrency - Actors</h1><ul><li>Receving a message is an event</li><li><strong>Event-Based Architecture</strong><ul><li>Write code that is executed when an event occurs</li><li>Create events that cause code to run</li></ul></li></ul><h2 id="Case-Class-x2F-Object"><a href="#Case-Class-x2F-Object" class="headerlink" title="Case Class &#x2F; Object"></a>Case Class &#x2F; Object</h2><ul><li>Case class<ul><li>A different type of class in Scala</li><li>Primarily used to store values provided through its constructor</li><li>Typically have no body</li><li><strong>Are compared by value, not reference</strong></li></ul></li><li>Case object<ul><li>Used when no values are store (no constructor)</li><li>Can be used to signal that an event has occured</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">BuyEquipment</span>(<span class="params">equipmentID: <span class="type">String</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">object</span> <span class="title">Setup</span></span></span><br></pre></td></tr></table></figure><h1 id="Concurrency-Actors-1"><a href="#Concurrency-Actors-1" class="headerlink" title="Concurrency - Actors"></a>Concurrency - Actors</h1><ul><li>To define an Actor<ul><li>Extend the Actor class</li><li>Implement the receive method to define how the Actor responds to different message types<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> akka.actor._</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">object</span> <span class="title">CustomMessageType</span></span></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">AnotherMessageType</span>(<span class="params">message: <span class="type">String</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActor</span> <span class="keyword">extends</span> <span class="title">Actor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">Recevie</span> = &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">CustomMessageType</span> =&gt; <span class="comment">// do somethong</span></span><br><span class="line">        <span class="keyword">case</span> received: <span class="type">AnotherMessageType</span> =&gt; received.message <span class="comment">// do something</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Messages are instances of case classes or case objects</li><li>Use a case statement to make decisions based on the type of the message</li><li>If the message is a case class, declare a variable to access its values</li></ul><br><ul><li>Create an actor and add it to actor system<ul><li>The actor is now running concurrently with your program</li></ul></li><li>Send messages using the ! method</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CounterTest</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> system = <span class="type">ActorSystem</span>(<span class="string">&quot;FirstSystem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> actor = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">MyActor</span>]))</span><br><span class="line"></span><br><span class="line">    actor ! <span class="type">CustomMessageType</span></span><br><span class="line">    actor ! <span class="type">AnotherMessageType</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><ul><li><strong>Cannot create an Actor using the new keyword</strong></li><li>Use Props (part of the Akka library) and pass the class as an argument<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> actor = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">MyActor</span>]))</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>If your Actor class takes a constructor parameters pass them in the Props call<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActor</span>(<span class="params">n: <span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Actor</span> </span>&#123; <span class="comment">// added parameters</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">Recevie</span> = &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">CustomMessageType</span> =&gt; <span class="comment">// do somethong</span></span><br><span class="line">        <span class="keyword">case</span> received: <span class="type">AnotherMessageType</span> =&gt; received.message <span class="comment">// do something</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CounterTest</span>(<span class="params">n</span>) <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> system = <span class="type">ActorSystem</span>(<span class="string">&quot;FirstSystem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> actor = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">MyActor</span>], <span class="number">10</span>)) <span class="comment">// added value</span></span><br><span class="line"></span><br><span class="line">    actor ! <span class="type">CustomMessageType</span></span><br><span class="line">    actor ! <span class="type">AnotherMessageType</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="Counting-Example"><a href="#Counting-Example" class="headerlink" title="Counting Example"></a>Counting Example</h1><h1 id="Actors-Counting-Example"><a href="#Actors-Counting-Example" class="headerlink" title="Actors - Counting Example"></a>Actors - Counting Example</h1><ul><li>Create an Actor class that counts down from 20 as fast as it can</li><li>Send the actor a Start message to start the countdown<ul><li>Start is a case object</li></ul></li><li>Weâ€™ll create 3 of these actors and watch them count down concurrently</li></ul><br><ul><li>4 different message types<ul><li>All are case objects<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">case object Start</span><br><span class="line">case object IsDone</span><br><span class="line">case object Done</span><br><span class="line">case object NotDone</span><br></pre></td></tr></table></figure></li></ul></li><li>Start - Tells a Counter to start its countdown</li><li>IsDone - Sent to Counter to ask it itâ€™s done or not</li><li>Done - Sent from Counter to indicate that it is done counting</li><li>NotDone - Sent from Counter to indicate that it is not done counting</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span>(<span class="params">name: <span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Actor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countDown</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">if</span> ( n&gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            println(<span class="keyword">this</span>.name + <span class="string">&quot; - &quot;</span> + n)</span><br><span class="line">            n -= <span class="number">1</span></span><br><span class="line">            countDown()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            println(<span class="keyword">this</span>.name + <span class="string">&quot; fininshed&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">Receive</span> = &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Start</span> =&gt;</span><br><span class="line">            <span class="keyword">this</span>.n = <span class="number">20</span></span><br><span class="line">            countDown()</span><br><span class="line">        <span class="keyword">case</span> <span class="type">IsDone</span> =&gt;</span><br><span class="line">            <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sender() ! <span class="type">Done</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                sender() ! <span class="type">NotDone</span></span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><ul><li>We define actors just like any other class<ul><li>Can have constructor, variables, methods</li></ul></li><li>This class:<ul><li>Takes a String in the constructor</li><li>Initializes a variable n to 0</li><li>Has a countDown method to start a countdown and print the progess along the way</li></ul></li></ul><br><ul><li>Since we extend Actor, we must implement Receive</li><li>Use case syntax to react differently to different message types</li><li>Whenever this actor receives a message of type Start, it resets its counter to 20 and starts a countdown</li></ul><br>- To use the Actor we'll create 3 objects of this type with different names- Send each Actor the Start message so they count down  <figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span>(<span class="params">name: <span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Actor</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">Receive</span> = &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Start</span> =&gt;</span><br><span class="line">        <span class="keyword">this</span>.n = <span class="number">20</span></span><br><span class="line">        countDown()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">obejct <span class="type">CounterTest</span> <span class="keyword">extends</span> <span class="type">App</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> system = <span class="type">ActorSystem</span>(<span class="string">&quot;CountingSystem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> one = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">Counter</span>], <span class="string">&quot;1&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> two = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">Counter</span>], <span class="string">&quot;2&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> three = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">Counter</span>], <span class="string">&quot;3&quot;</span>))</span><br><span class="line"></span><br><span class="line">    one ! <span class="type">Start</span></span><br><span class="line">    two ! <span class="type">Start</span></span><br><span class="line">    three ! <span class="type">Start</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><ul><li>All three counters count down concurrently</li><li>No way to know which will finish first</li></ul><h1 id="Actors-Counting-Example-1"><a href="#Actors-Counting-Example-1" class="headerlink" title="Actors - Counting Example"></a>Actors - Counting Example</h1><ul><li>Letâ€™s create another Actor that will communicate with the three counters</li><li>This actor will â€œaskâ€ each counter if itâ€™s done or not</li><li>Once all counters are done, it will print a message to the screen</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Supervisor</span>(<span class="params">counters: <span class="type">List</span>[<span class="type">ActorRef</span>]</span>) <span class="keyword">extends</span> <span class="title">Actor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> total: <span class="type">Int</span> = counter.size</span><br><span class="line">    <span class="keyword">var</span> completed: <span class="type">List</span>[<span class="type">ActorRed</span>] = <span class="type">List</span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">Receive</span> = &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Update</span> =&gt;</span><br><span class="line">            counters.foreach((actor: <span class="type">ActorRef</span>) =&gt; actor ! <span class="type">IsDone</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Done</span> =&gt; </span><br><span class="line">            <span class="keyword">if</span>(!completed.contains(sender())) &#123;</span><br><span class="line">                completed ::= sender()</span><br><span class="line">                <span class="keyword">if</span> (completed.size == <span class="keyword">this</span>.total)&#123;</span><br><span class="line">                    println(<span class="string">&quot;All counters complete&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">NotDone</span> =&gt; </span><br><span class="line">            println(<span class="string">&quot;A counter is not done yet&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><ul><li>Use the ActorRef class to send messages to other actors<ul><li>sender() returns the ActorRef of the sender of a message</li></ul></li></ul><br><ul><li>Add the supervisor to the system and have it update twice per second</li><li>Use a scheduler to repeatedly send a message<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">obejct <span class="type">CounterTest</span> <span class="keyword">extends</span> <span class="type">App</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> system = <span class="type">ActorSystem</span>(<span class="string">&quot;CountingSystem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> one = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">Counter</span>], <span class="string">&quot;1&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> two = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">Counter</span>], <span class="string">&quot;2&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> three = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">Counter</span>], <span class="string">&quot;3&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> supervisor = system.actorOf(<span class="type">Props</span>(classOf[<span class="type">Supervisor</span>], <span class="type">List</span>(one, two, three))) <span class="comment">// Added supervisor</span></span><br><span class="line"></span><br><span class="line">    one ! <span class="type">Start</span></span><br><span class="line">    two ! <span class="type">Start</span></span><br><span class="line">    three ! <span class="type">Start</span></span><br><span class="line"></span><br><span class="line">    system.scheduler.schedule(<span class="number">0.</span>milliseconds, <span class="number">500.</span>milliseconds, supervisor, <span class="type">Update</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Create an Actor class that tracks a single Int</p><ul><li>In a package named actors create a class named StringActor that extends Actor </li><li>Create the following case class&#x2F;objects that will be used as messages<ul><li>A case class named <code>Append</code> that takes a String in its constructor</li><li>A case object named <code>GetValue</code></li><li>A case class named <code>Value</code> that takes a String in its constructor</li></ul></li><li>The StringActor class must:<ul><li>Take a String in its constructor. This will be the initial String that it will store</li><li>When it receives an <code>Append</code> message, append its value to the end of the currently stored String</li><li>When it receives a <code>GetValue</code> message, sends its current value back to the sender in a Value message</li></ul></li></ul><p><strong>Testing:</strong><br>No test:)</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec4_6_Pathfinding</title>
      <link href="/cn/LO4-6-Pathfinding/"/>
      <url>/cn/LO4-6-Pathfinding/</url>
      
        <content type="html"><![CDATA[<h1 id="Pathfinding-with-BFS"><a href="#Pathfinding-with-BFS" class="headerlink" title="Pathfinding with BFS"></a>Pathfinding with BFS</h1><p>little hard :&#x2F;, but just a little:)    </p><h1 id="Paths"><a href="#Paths" class="headerlink" title="Paths"></a>Paths</h1><ul><li>Path: A sequence of nodes with each adjacent pair of nodes connected by an edge</li><li>The length of a path is the number of edges it contains (number of nodes - 1)</li><li>[LINCOLN, MIT, UTAH, SDC, RAND, UCSB, SRI] &lt;â€“ Path of length 6</li></ul><h1 id="Distance"><a href="#Distance" class="headerlink" title="Distance"></a>Distance</h1><ul><li>Distance between two nodes: The lenght of the shortest path between the nodes</li><li>Distance between LINCOLN and SRI &#x3D;&#x3D; 3 [See the video]</li><li>Distance between RAND and BBN &#x3D;&#x3D; 1 [See the video]</li></ul><h1 id="Use-BFS-to-find-the-diatance-between-nodes"><a href="#Use-BFS-to-find-the-diatance-between-nodes" class="headerlink" title="Use BFS to find the diatance between nodes"></a>Use BFS to find the diatance between nodes</h1><p>Track the shortest path for pathfinding</p><h1 id="Thereâ€™s-Levels-to-This"><a href="#Thereâ€™s-Levels-to-This" class="headerlink" title="Thereâ€™s Levels to This"></a>Thereâ€™s Levels to This</h1><ul><li>Letâ€™s run through BFS again<ul><li>Instead of just finding the connected component, letâ€™s track the paths taken to explore each node</li></ul></li></ul><br><ul><li>Letâ€™s start at CARNEGIE this time [Se the video]</li><li>Keep track of all edges used to explore new nodes</li><li>Redraw the graph with only these edges</li><li>Explore all neighbors of the starting node</li><li>Explore al neighbors of the nodes explored in the last step</li><li>Repeat</li><li>Choose edge to use for MIT arbitrarily </li><li>Each step we explore all nodes that can be reached from the nodes added in the previous step</li><li>We have a new graph with a few edges removed</li><li>This graph is a tree (no cycles)</li><li>And it has levels!</li></ul><br><ul><li>Number the levels starting with 0</li><li>The levle number &#x3D;&#x3D; the distance from the starting node to any node in that level</li></ul><h1 id="BFS-and-Distacne"><a href="#BFS-and-Distacne" class="headerlink" title="BFS and Distacne"></a>BFS and Distacne</h1><ul><li>But how do we track the levels?</li><li>Track levels in a data structure</li></ul><br><ul><li>But donâ€™t we want to find the shortest path for the Maze HW?<ul><li>Not just the length of the shortest path</li></ul></li></ul><br><ul><li>Instead of tracking the distacne, track the node that discovered each node</li><li>Now each node remembers how it was reached</li><li>Repeat at each step</li><li>At the end of the algotrithm youâ€™ll know how each node was discovered</li><li>Work backwards to buld the shortest path</li><li>Find path from CARNEFIE to STANFORD</li></ul><h1 id="But-we-have-to-find-path-in-a-maze"><a href="#But-we-have-to-find-path-in-a-maze" class="headerlink" title="But we have to find path in a maze"></a>But we have to find path in a maze</h1><p>how do graph help with this?</p><h1 id="Pathfinding-on-a-Grid"><a href="#Pathfinding-on-a-Grid" class="headerlink" title="Pathfinding on a Grid"></a>Pathfinding on a Grid</h1><ul><li>Convert the maze to a graph</li><li>Run BFS starting at the tile containing the maze runner</li><li>Backtrack from the goal tile to build the path</li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Find the distance between two nodes in a graph </p><ul><li>In the week9.Graph class <a href="https://github.com/hartloff/CSE116-Examples">link to example repo</a><ul><li>Write a method named distance that takes two node indices (Ints) and returns the distance between the two nodes</li><li>You may assume the two input nodes are connected</li></ul></li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestDistanceâ€ as a test suite that tests the functionality listed above</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec4-5:Graphs</title>
      <link href="/cn/LO4-5-Graphs/"/>
      <url>/cn/LO4-5-Graphs/</url>
      
        <content type="html"><![CDATA[<h1 id="Graphs"><a href="#Graphs" class="headerlink" title="Graphs"></a>Graphs</h1><p>It has cycle, so you know: tree + cycle :&#x2F;     </p><h1 id="Data-Structures-Review"><a href="#Data-Structures-Review" class="headerlink" title="Data Structures: Review"></a>Data Structures: Review</h1><ul><li>Sequential Data Structures<ul><li>Elements stored in a specific order</li><li>Ex: Array, List</li></ul></li><li>Key-Value Store<ul><li>Stores pairs of elements with no particular order</li><li>Each key is associated with one value</li><li>Ex: Map, Dictionary, Object</li></ul></li><li>Tree<ul><li>Non-linear structure</li><li>Each element can be associated with multiple other elements</li></ul></li></ul><h1 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h1><ul><li>How do we store datat with multiple interconnected associations?</li><li>A [station, intersection, city] can have multiple connections</li></ul><br><ul><li>Letâ€™s use trees</li><li>Start with UCLA as the root</li><li>Recursively add all chidden</li></ul><br><ul><li>Oops<ul><li>We have duplicates in our data structure [See the video]</li></ul></li></ul><br><ul><li>Letâ€™s try again<ul><li>When we try to add a duplicate, add a reference to the existing node</li></ul></li></ul><br><h1 id="Graohs"><a href="#Graohs" class="headerlink" title="Graohs"></a>Graohs</h1><ul><li>This is a graph [See the video]</li><li>Similar to a tree, except cycles are allowed<ul><li>Cycle: Can â€œtravelâ€ from a node back to itself without backtracking</li></ul></li></ul><br><ul><li>Because of the cycles, our tree traversals will get stuck in infinite recursion<ul><li>No leaves to terminate the recursion</li></ul></li></ul><br><ul><li>Weâ€™ll need a new way of representing this datat structure and new algorithms to work with the data </li><li>Store the nodes and edges</li></ul><h1 id="Graphs-Nodes-and-Edges"><a href="#Graphs-Nodes-and-Edges" class="headerlink" title="Graphs - Nodes and Edges"></a>Graphs - Nodes and Edges</h1><ul><li>Node: Each data element is stored in a node, similar to linked lists and trees</li><li>Edge: A connection between two nodes</li></ul><h1 id="Graphs-Adjacency-List"><a href="#Graphs-Adjacency-List" class="headerlink" title="Graphs - Adjacency List"></a>Graphs - Adjacency List</h1><ul><li>A map of nodes to all nodes connected to it through an edge</li><li>This is how weâ€™ll represnet graphs</li><li>When creating a graph, weâ€™ll assign each node a unique ID as a Int<ul><li>Allows nodes with identical vlaues, but different IDs</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Graph</span>[<span class="type">A</span>] </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> nodes: <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">A</span>] = <span class="type">Map</span>()</span><br><span class="line">    <span class="keyword">var</span> adjacencyList: <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">List</span>[<span class="type">Int</span>]] = <span class="type">Map</span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addNode</span></span>(index: <span class="type">Int</span>, a: <span class="type">A</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        nodes += index -&gt; a</span><br><span class="line">        adjacencyList += index -&gt; <span class="type">List</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addEdge</span></span>(index1: <span class="type">Int</span>, index2: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        adjacencyList += index1 -&gt; (index2 :: adjacencyList(index1))</span><br><span class="line">        adjacencyList += index2 -&gt; (index1 :: adjacencyList(index2))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>IDs fir each node are arbitray as long as they are unique</li><li>Methods will work with IDs</li><li>Values are only accessed when needed</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Graph</span>[<span class="type">A</span>] </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> nodes: <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">A</span>] = <span class="type">Map</span>()</span><br><span class="line">    <span class="keyword">var</span> adjacencyList: <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">List</span>[<span class="type">Int</span>]] = <span class="type">Map</span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addNode</span></span>(index: <span class="type">Int</span>, a: <span class="type">A</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        nodes += index -&gt; a</span><br><span class="line">        adjacencyList += index -&gt; <span class="type">List</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addEdge</span></span>(index1: <span class="type">Int</span>, index2: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        adjacencyList += index1 -&gt; (index2 :: adjacencyList(index1))</span><br><span class="line">        adjacencyList += index2 -&gt; (index1 :: adjacencyList(index2))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">GraphExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> graph: <span class="type">Graph</span>[<span class="type">String</span>] = <span class="keyword">new</span> <span class="type">Graph</span>() </span><br><span class="line">        graph.addNode(<span class="number">0</span>, <span class="string">&quot;UCLA&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">1</span>, <span class="string">&quot;STANFORD&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">2</span>, <span class="string">&quot;SRI&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">3</span>, <span class="string">&quot;UCSB&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">4</span>, <span class="string">&quot;RAND&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">5</span>, <span class="string">&quot;UTAH&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">6</span>, <span class="string">&quot;SDC&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">7</span>, <span class="string">&quot;MIT&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">8</span>, <span class="string">&quot;BBN&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">9</span>, <span class="string">&quot;LINCOLN&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">10</span>, <span class="string">&quot;CARNEGIE&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">11</span>, <span class="string">&quot;HARVARD&quot;</span>) </span><br><span class="line">        graph.addNode(<span class="number">12</span>, <span class="string">&quot;CASE&quot;</span>)</span><br><span class="line"></span><br><span class="line">        graph.addEdge(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">        graph.addEdge(<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">        graph.addEdge(<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">        graph.addEdge(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">        graph.addEdge(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">        graph.addEdge(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">        graph.addEdge(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        graph.addEdge(<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">        graph.addEdge(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line">        graph.addEdge(<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">        graph.addEdge(<span class="number">5</span>,<span class="number">7</span>)</span><br><span class="line">        graph.addEdge(<span class="number">4</span>,<span class="number">8</span>)</span><br><span class="line">        graph.addEdge(<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">        graph.addEdge(<span class="number">7</span>,<span class="number">9</span>)</span><br><span class="line">        graph.addEdge(<span class="number">9</span>,<span class="number">12</span>)</span><br><span class="line">        graph.addEdge(<span class="number">12</span>,<span class="number">10</span>)</span><br><span class="line">        graph.addEdge(<span class="number">10</span>,<span class="number">11</span>)</span><br><span class="line">        graph.addEdge(<span class="number">11</span>,<span class="number">8</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Paths"><a href="#Paths" class="headerlink" title="Paths"></a>Paths</h1><ul><li>A path is a sequence of nodes where each pair of adjacent nodes are connected by an edge</li><li>[â€œUCLAâ€, â€œSRIâ€, â€œUTAHâ€, â€œMITâ€, â€œBBNâ€, â€œRANDâ€] is a path in this graph</li><li>[â€œSRIâ€, â€œUTAHâ€, â€œBBNâ€] is not a path since UTAH and BBN are not connected by an edge</li></ul><h1 id="Breadth-First-Search-BFS"><a href="#Breadth-First-Search-BFS" class="headerlink" title="Breadth-First Search (BFS)"></a>Breadth-First Search (BFS)</h1><h2 id="Connected-Component"><a href="#Connected-Component" class="headerlink" title="Connected Component"></a>Connected Component</h2><ul><li>This graph is connected<ul><li>There exists a path between any 2 nodes in the graph</li></ul></li></ul><br><ul><li>What if a few connections are broken?<ul><li>How can we tell if tweo nodes are connected?</li></ul></li></ul><br><ul><li>We could verify manually for this graph</li><li>But the Internet has gotten a <em>little</em> bigger over time</li><li>Need to code an algorithm to solve this for us</li></ul><h2 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h2><ul><li>The Algotithm: Breath-First Search (BFS)<ul><li>Choose a starting node</li><li>Continuously explore connected nodes</li></ul></li></ul><br><ul><li>Chooses a starting node</li><li>Explore all nodes connected to the striating node</li><li>Repeat until no new nodes are added</li><li>Never visit a node twice</li></ul><br><ul><li>Use a queue to track the order of nodes to visit</li><li>Start with starting node in the queue</li><li>When visiting a node, add all unexplored neighbors to the queue</li><li>Visit neighbors of the node at the front of the queue until the queue is empty</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bfs</span></span>[<span class="type">A</span>](graph: <span class="type">Graph</span>[<span class="type">A</span>], startID: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> explored: <span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(startID)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> toExplore: <span class="type">Queue</span>[<span class="type">Int</span>] = <span class="keyword">new</span> <span class="type">Queue</span>()</span><br><span class="line">    toExplore.enqueue(startID)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!toExplore.empty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> nodeToExplore = toExplore.dequeue()</span><br><span class="line">        <span class="keyword">for</span> (node &lt;- graph.adjacencyList(nodeToExplore)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!explored.contains(node)) &#123;</span><br><span class="line">                println(<span class="string">&quot;exploring: &quot;</span> + graph.nodes(node))</span><br><span class="line">                toExplore.enqueue(node)</span><br><span class="line">                explored = explored + node</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Connectivity"><a href="#Connectivity" class="headerlink" title="Connectivity"></a>Connectivity</h1><ul><li>If you start at nodeA and explore nodeB during the algorithm<ul><li>nodeA and nodeB are connected</li><li>For the lecture question and last HW youâ€™ll need to modify &#x2F; expand the provided BFS code</li></ul></li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Determine if two nodes connected    </p><ul><li>In the week9.Graph class <a href="https://github.com/hartloff/CSE116-Examples">link to example repo</a><ul><li>Write a method named areConnected that takes two node indices (Ints) and determines if the two nodes are connected in the graph</li><li>Return true if they are connected, false if they are not</li></ul></li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestConnectedâ€ as a test suite that tests the functionality listed above</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec4-4:BST</title>
      <link href="/cn/LO4-4-BST/"/>
      <url>/cn/LO4-4-BST/</url>
      
        <content type="html"><![CDATA[<h1 id="Binary-Search-Tree-BST"><a href="#Binary-Search-Tree-BST" class="headerlink" title="Binary Search Tree (BST)"></a>Binary Search Tree (BST)</h1><p>Sorted Tree :&#x2F;  </p><h1 id="BST-Definition"><a href="#BST-Definition" class="headerlink" title="BST - Definition"></a>BST - Definition</h1><ul><li>For each node:<ul><li>All values in the left subtree are less than the nodeâ€™s value</li><li>All values in the right subtree are greater than the nodeâ€™s value</li><li>Duplicate values handled differently based on implementation<ul><li>Sometims not allowed at all</li></ul></li></ul></li></ul><h1 id="BST-Code"><a href="#BST-Code" class="headerlink" title="BST - Code"></a>BST - Code</h1><ul><li>To make the BST generic<ul><li>Take a type poarameter</li><li>Take a comparator to decide the sorted order</li></ul></li><li>Store a reference to the root node</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySearchTree</span>[<span class="type">A</span>](<span class="params">comparator: (<span class="type">A</span>, <span class="type">A</span></span>) <span class="title">=&gt;</span> <span class="title">Boolean</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> root: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>] = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>(a: <span class="type">A</span>): <span class="type">Unit</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span></span>(a: <span class="type">A</span>): <span class="type">BinaryTreeNode</span>[<span class="type">A</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="BST-Usage"><a href="#BST-Usage" class="headerlink" title="BST - Usage"></a>BST - Usage</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySearchTree</span>[<span class="type">A</span>](<span class="params">comparator: (<span class="type">A</span>, <span class="type">A</span></span>) <span class="title">=&gt;</span> <span class="title">Boolean</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> root: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>] = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>(a: <span class="type">A</span>): <span class="type">Unit</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span></span>(a: <span class="type">A</span>): <span class="type">BinaryTreeNode</span>[<span class="type">A</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> intLessThan = (a:<span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; a &lt; b</span><br><span class="line"><span class="keyword">val</span> bst = <span class="keyword">new</span> <span class="type">BinarySearchTree</span>[<span class="type">Int</span>](intLessThan)</span><br><span class="line">bst.insert(<span class="number">5</span>)</span><br><span class="line">bst.insert(<span class="number">2</span>)</span><br><span class="line">bst.insert(<span class="number">8</span>)</span><br><span class="line">bst.insert(<span class="number">4</span>)</span><br><span class="line">bst.insert(<span class="number">7</span>)</span><br><span class="line">bst.insert(<span class="number">14</span>)</span><br><span class="line">bst.insert(<span class="number">-3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> node = bst.find(<span class="number">4</span>)</span><br></pre></td></tr></table></figure><h1 id="BST-Find"><a href="#BST-Find" class="headerlink" title="BST - Find"></a>BST - Find</h1><ul><li>If the value to find is less than the value of the value of the node - Move to the left child</li><li>If the value to find is greater than the value of the node - Move to right child</li><li>If value is found - return this node</li><li>If value is not found - return null</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span></span>(a: <span class="type">A</span>): <span class="type">BinaryTreeNode</span>[<span class="type">A</span>] = &#123;</span><br><span class="line">    findHelper(a, <span class="keyword">this</span>.root)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findHelper</span></span>(a: <span class="type">A</span>, node: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>]): <span class="type">BinaryTreeNode</span>[<span class="type">A</span>] = &#123;</span><br><span class="line">    <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (comparator(a, node.value)) &#123;</span><br><span class="line">        findHelper(a, node.left)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (comparator(node.value, a)) &#123;</span><br><span class="line">        findHelper(a, node.right)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        node</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="BST-Insert"><a href="#BST-Insert" class="headerlink" title="BST - Insert"></a>BST - Insert</h1><ul><li>Run find until a null node is reached - insert new node here</li><li>If value is a duplicate, move to the left</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>(a: <span class="type">A</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.root = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>(a, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        insertHelper(a, <span class="keyword">this</span>.root)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insertHelper</span></span>(a: <span class="type">A</span>, node: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (comparator(node.value, a)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            node.right = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">A</span>](a, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            insertHelper(a, node.right)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node.left == <span class="literal">null</span>) &#123;</span><br><span class="line">            node.left = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">A</span>](a, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            insertHelper(a, node.left)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="In-Order-Traversal"><a href="#In-Order-Traversal" class="headerlink" title="In-Order Traversal"></a>In-Order Traversal</h1><ul><li>In-Order traversal of a BST iterates over the values in soorted order</li><li>Visit all elements of the left subtree<ul><li>Elements less than the nodeâ€™s value</li></ul></li><li>Visit the nodes value</li><li>Visit all elements of the right subtree<ul><li>Elements greater than the nodeâ€™s value</li></ul></li></ul><h1 id="BST-Efficiency"><a href="#BST-Efficiency" class="headerlink" title="BST - Efficiency"></a>BST - Efficiency</h1><ul><li>Vocab: A tree is balanced if each node has the same number of descendants in its left and right subtrees</li><li>*<strong>If a BST is balanced</strong></li><li>The number of nodes from the root to a leaf - the height of the tree - is O(log(n))</li><li>Insert and find take O(log(n)) time</li><li>Inserting n elements effctively sorts in O(n*log(n)) time</li><li>Advantage: Sorted order is efficiently maintained as new elements are add in O(log(n))<ul><li>Array takes O(n) to insert</li><li>Linked list takes O(n) to find where to insert</li></ul></li></ul><h1 id="BST-Inefficiency"><a href="#BST-Inefficiency" class="headerlink" title="BST - Inefficiency"></a>BST - Inefficiency</h1><ul><li>What if the tree is not balanced?</li></ul><br><ul><li>If elements are inserted in sorted order</li><li>Tree effectively becomes a linked list<ul><li>O(n) insert and find</li></ul></li></ul><h1 id="BST-for-Thought"><a href="#BST-for-Thought" class="headerlink" title="BST for Thought"></a>BST for Thought</h1><ul><li>How do we keep the tree balanced and still insert in O(log(n)) time</li><li>How would we remove a node while maintaining sorted order?</li><li>How do we handle duplicate values?<ul><li>Should duplicates even be allowed?</li></ul></li></ul><br><ul><li>Answers to these queations and moreâ€¦..<ul><li>In <strong>CSE250</strong></li></ul></li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Write a method to convert a BST to a List (go to example repo) || <a href="https://github.com/hartloff/CSE116-Examples">link</a>     </p><ul><li>In the week8.trees.BinarySearchTree class write a method named <code>toList</code> that takes no parameters and returns the values of the tree in a List in sorted order</li></ul><p><strong>Testing:</strong><br>No test:)</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec4-3:Trees</title>
      <link href="/cn/LO4-3-Trees/"/>
      <url>/cn/LO4-3-Trees/</url>
      
        <content type="html"><![CDATA[<h1 id="Binary-Trees-and-Traversals"><a href="#Binary-Trees-and-Traversals" class="headerlink" title="Binary Trees and Traversals"></a>Binary Trees and Traversals</h1><p>You would also learn this on CSE191 @.@     </p><h1 id="Binary-Trees"><a href="#Binary-Trees" class="headerlink" title="Binary Trees"></a>Binary Trees</h1><ul><li>Similar in structure to Linked List<ul><li>Consists of Nodes</li><li>A Tree is only a reference to the first node (Called the root node)</li></ul></li><li>Trees have 2 references to nodes<ul><li>Each node has left and right reference</li><li>Vocab: These are called its child nodes</li><li>Vocab: The node is the parent to these children</li></ul></li></ul><h1 id="The-Code"><a href="#The-Code" class="headerlink" title="The Code"></a>The Code</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTreeNode</span>[<span class="type">A</span>](<span class="params">var value: <span class="type">A</span>, var left: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>], var right: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>]</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> root = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">Int</span>](<span class="number">5</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">root.left = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">Int</span>](<span class="number">2</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">root.right = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">Int</span>](<span class="number">8</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">root.left.left = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">Int</span>](<span class="number">-3</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">root.left.right = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">Int</span>](<span class="number">4</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">root.right.left = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">Int</span>](<span class="number">7</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">root.right.right = <span class="keyword">new</span> <span class="type">BinaryTreeNode</span>[<span class="type">Int</span>](<span class="number">14</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br></pre></td></tr></table></figure><ul><li>Binary Tree Nodes are very similar in structure to Linked List Nodes</li><li>No simple prepend or append so weâ€™ll manaually build a tree by setting left and right directly</li></ul><h1 id="Tree-Traversals"><a href="#Tree-Traversals" class="headerlink" title="Tree Traversals"></a>Tree Traversals</h1><ul><li>How do we compute with trees?<ul><li>With linked lists we wrote several methods that recursively visited the next node to visit every value</li></ul></li><li>With trees, how do we visit both children of each node?<ul><li>Recursive call on both child nodes</li></ul></li><li>Weâ€™ll see 3 different approaches<ul><li>Pre-Order Traversal</li><li>In-Order Traversal</li><li>Post-Order Traversal</li></ul></li></ul><br><ul><li>Pre-Order Traversal<ul><li>Visit the nodeâ€™s value</li><li>Call pre-order on the left child</li><li>Call pre-order on the right child</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">preOrderTraversal</span></span>[<span class="type">A</span>](node: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>], f: <span class="type">A</span> =&gt; <span class="type">Unit</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">        f(node.value)</span><br><span class="line">        preOrderTraversal(ndoe.left, f)</span><br><span class="line">        preOrderTraversal(ndoe.right, f)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">preOrderTraversal(root, println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">-3</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">8</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">14</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><br><ul><li>Post-Order Traversal<ul><li>Call post-order on the left child</li><li>Call post-order on the right child</li><li>Visit the nodeâ€™s value</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">postOrderTraversal</span></span>[<span class="type">A</span>](node: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>], f: <span class="type">A</span> =&gt; <span class="type">Unit</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span>(node != <span class="literal">null</span>) &#123;</span><br><span class="line">        postOrderTraversal(node.left, f)</span><br><span class="line">        postOrderTraversal(node.right, f)</span><br><span class="line">        f(node.value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">postOrderTraversal(root, println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">-3</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">14</span></span><br><span class="line"><span class="comment">8</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><br><ul><li>In-Order Traversal<ul><li>Call in-order on the left child</li><li>Visit the nodeâ€™s value</li><li>Call in-order on the right child</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inOrderTraversal</span></span>[<span class="type">A</span>](node: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>], f: <span class="type">A</span> =&gt; <span class="type">Unit</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">        inOrderTraversal(node.left, f)</span><br><span class="line">        f(node.value)</span><br><span class="line">        inOrderTraversal(node.right, f)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inOrderTraversal(root, println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">-3</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">8</span></span><br><span class="line"><span class="comment">14</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><h1 id="Expression-Trees"><a href="#Expression-Trees" class="headerlink" title="Expression Trees"></a>Expression Trees</h1><ul><li>Represent an expression as a binary tree</li><li>Nodes can be <ul><li>Operands</li><li>Operators</li></ul></li><li>An operand is a literal value</li><li>An operator is evaluated by using its left and right children as operands<ul><li>Operands can be operators</li></ul></li></ul><p>&#x2F;&#x2F; è¿ç®—ç¬¦å·ä½œä¸ºä¸Šçº§ï¼Œè¢«è¿ç®—çš„æ•°å­—æ”¾åœ¨å®ƒçš„å­é¡¹ï¼Œå…ˆç®—çš„æ”¾åœ¨å·¦è¾¹å­é¡¹ï¼Œæœ€åç®—çš„è¿ç®—ç¬¦å·ä½œä¸ºroot</p><h1 id="Expression-Tree-Traversals"><a href="#Expression-Tree-Traversals" class="headerlink" title="Expression Tree Traversals"></a>Expression Tree Traversals</h1><ul><li>Modified in-order traversal that adds parentheses around each operator</li><li>Generates a fully parenthesized infix expression</li><li>((12-4) - (8+(9&#x2F;3)))</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fullyParenthesizedInOrderTraversal</span></span>[<span class="type">A</span>](node: <span class="type">BinaryTreeNode</span>[<span class="type">A</span>], f: <span class="type">A</span> =&gt; <span class="type">Unit</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">val</span> operator = <span class="type">List</span>(<span class="string">&quot;^&quot;</span>, <span class="string">&quot;*&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;-&quot;</span>).contains(node.value)</span><br><span class="line">        <span class="keyword">if</span> (operator) &#123;</span><br><span class="line">            print(<span class="string">&quot;(&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fullyParenthesizedInOrderTraversal(node.left, f)</span><br><span class="line">        f(node.value)</span><br><span class="line">        fullyParenthesizedInOrderTraversal(node.right, f)</span><br><span class="line">        <span class="keyword">if</span> (operator) &#123;</span><br><span class="line">            print(<span class="string">&quot;)&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Unmodified post-order traversal generates a postfix express</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">postOrderTraversal(root, (token: <span class="type">String</span>) =&gt; print(token + <span class="string">&quot; &quot;</span>))</span><br></pre></td></tr></table></figure><hr><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Evaluate an expression tree (go to example repo) || <a href="https://github.com/hartloff/CSE116-Examples">link</a>     </p><ul><li>In the week8.trees.ExpressionTree object, write a method named evaluateTree that takes the root of an expression tree (BinaryTreeNode[String]) as a parameter and returns the evaluation of the tree as a Double</li><li>The operators can be â€œ*â€, â€œ&#x2F;â€œ, â€œ+â€, and â€œ-â€œ</li><li>You can assume that all Nodes storing numbers are well- formed (Ie. If a nodeâ€™s String is not one of the 4 operators, you can call .toDouble on it to convert it to a Double)</li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestExpressionTreeâ€ as a test suite that tests the functionality above (Only write tests with valid expression trees as input)</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec4-2:Stack_Queue</title>
      <link href="/cn/LO4-2-Stack-Queue/"/>
      <url>/cn/LO4-2-Stack-Queue/</url>
      
        <content type="html"><![CDATA[<h1 id="Stack-and-Queue"><a href="#Stack-and-Queue" class="headerlink" title="Stack and Queue"></a>Stack and Queue</h1><ul><li>Date structures with specific purposes<ul><li>Restricted features</li></ul></li><li>All operations are very efficient<ul><li>Inefficient operations are not allowed</li></ul></li><li>Weâ€™ll se a stack and queue using linked liss</li><li>*Scala has builtin Stack and Queue classes</li></ul><h1 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h1><ul><li>LIFO<ul><li>Last in First out</li><li>The last element pushed onto the stack is the first element to be popped off the stack</li><li>Only the element on the top of the stack can be accessed</li></ul></li></ul><h2 id="Stack-Methods"><a href="#Stack-Methods" class="headerlink" title="Stack Methods"></a>Stack Methods</h2><ul><li>Push<ul><li>Add an element to the top of the stack</li></ul></li><li>Pop<ul><li>Remove the top element of the stack</li></ul></li></ul><h2 id="Stack-Implementation"><a href="#Stack-Implementation" class="headerlink" title="Stack Implementation"></a>Stack Implementation</h2><ul><li>Implement a Stack class by wrapping a linked list</li><li>Stacl uses the linked list and adapts its methods to implement push and pop</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span>[<span class="type">A</span>] </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> top: <span class="type">LinkedListNode</span>[<span class="type">A</span>] = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span></span>(a: <span class="type">A</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.top = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">A</span>](a, <span class="keyword">this</span>.top)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span></span>(): <span class="type">A</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> toReturn = <span class="keyword">this</span>.top.value</span><br><span class="line">        <span class="keyword">this</span>.top = <span class="keyword">this</span>.top.next</span><br><span class="line">        toReturn</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Stack-Usage"><a href="#Stack-Usage" class="headerlink" title="Stack Usage"></a>Stack Usage</h2><ul><li>Create a new empty Stack</li><li>Call push to add an element to the top</li><li>Call pop to remove an element</li><li>Same exact usage when using Scalaâ€™s builtin Stack</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> stack = <span class="keyword">new</span> <span class="type">Stack</span>[<span class="type">Int</span>]()</span><br><span class="line">stack.push(<span class="number">3</span>)</span><br><span class="line">stack.push(<span class="number">7</span>)</span><br><span class="line">stack.push(<span class="number">2</span>)</span><br><span class="line">stack.push(<span class="number">-5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> element = stack.pop()</span><br></pre></td></tr></table></figure><br><ul><li>We can use Scalaâ€™ss list as a Stack<ul><li>The preferred way to use the concept of a stack in practice</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@deprecated</span>(<span class="string">&quot;Stack is an inelegant and potentially poorly-performing wrapper around List. Use List instead: stack push x becomes x :: list; stack.pop is list.tail.&quot;</span>, <span class="string">&quot;2.11.0&quot;</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span>[+<span class="type">A</span>] <span class="title">protected</span> (<span class="params">protected val elems: <span class="type">List</span>[<span class="type">A</span>]</span>)</span></span><br></pre></td></tr></table></figure><ul><li>This is very efficient!</li><li>But wait..doesnâ€™t this create a new list each time an element is pushed or popped since List is immutable?<ul><li>No..well, kind of</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stack = <span class="type">List</span>[<span class="type">Int</span>]</span><br><span class="line">stack = <span class="number">3</span> :: stack</span><br><span class="line">stack = <span class="number">7</span> :: stack</span><br><span class="line">stack = <span class="number">2</span> :: stack</span><br><span class="line">stack = <span class="number">-5</span> :: stack</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> element = stack.head</span><br><span class="line">stack = stack.tail</span><br></pre></td></tr></table></figure><ul><li>Before -5 is pushed, the stack is equal to nodes in the red box (2, 7, 3, null)[see the video]</li><li>After pushing -5, the red box is unchanged</li><li>A new List <strong>is</strong> returned, but it reuses the old List<ul><li>No need to recreate the entire List</li></ul></li></ul><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stack = <span class="type">List</span>[<span class="type">Int</span>]</span><br><span class="line">stack = <span class="number">3</span> :: stack</span><br><span class="line">stack = <span class="number">7</span> :: stack</span><br><span class="line">stack = <span class="number">2</span> :: stack</span><br><span class="line">stack = <span class="number">-5</span> :: stack</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> element = stack.head</span><br><span class="line">stack = stack.drop(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><ul><li>Same efficiency when -5 is popped</li><li>The red box never changed, but wer update the reference stored in the stack variable</li><li>Other parts of the program can share parts of a List without having their changes affect each other</li></ul><h1 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h1><ul><li>FIFO<ul><li>First in First out</li><li>The first element enqueued into the queue is the first element to be dequeued out of the queue</li></ul></li><li>Elements can only be added to the end of the queue</li><li>Only the element at the front of the queue can be accessed</li></ul><h2 id="Queue-Methods"><a href="#Queue-Methods" class="headerlink" title="Queue Methods"></a>Queue Methods</h2><ul><li>Enqueue<ul><li>Add an element to the end of the queue</li></ul></li><li>Dequeue<ul><li>Remove the front element in the queue</li></ul></li></ul><h2 id="Queue-Implementation"><a href="#Queue-Implementation" class="headerlink" title="Queue Implementation"></a>Queue Implementation</h2><ul><li>Implement a Queue class by wrapping a linked list</li><li>Queue needs a reference to the first and last element</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span>[<span class="type">A</span>] </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> front: <span class="type">LinkedListNode</span>[<span class="type">A</span>] = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">var</span> back: <span class="type">LinkedListNode</span>[<span class="type">A</span>] = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">enqueue</span></span>(a: <span class="type">A</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">if</span> (back == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.back = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">A</span>](a, <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">this</span>.front = <span class="keyword">this</span>.back</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.back.next = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">A</span>](a, <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">this</span>.back = <span class="keyword">this</span>.back.next</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dequeue</span></span>(): <span class="type">A</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> toReturn = <span class="keyword">this</span>.front.value</span><br><span class="line">        <span class="keyword">this</span>.front = <span class="keyword">this</span>.front.next</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.front == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>.back = <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">        toReturn</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Queue-Usage"><a href="#Queue-Usage" class="headerlink" title="Queue Usage"></a>Queue Usage</h2><ul><li>Create a new empty Queue</li><li>Call enqueue to add an element to the back</li><li>Call dequeue to remove the element at the front</li><li>Same exact usage when using Scalaâ€™s builtin Queue<ul><li>[based on mutable List just like our implementation]</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> queue = <span class="keyword">new</span> <span class="type">Queue</span>[<span class="type">Int</span>]()</span><br><span class="line">queue.enqueue(<span class="number">3</span>)</span><br><span class="line">queue.enqueue(<span class="number">7</span>)</span><br><span class="line">queue.enqueue(<span class="number">2</span>)</span><br><span class="line">queue.enqueue(<span class="number">-5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> element = queue.dequeue()</span><br></pre></td></tr></table></figure><ul><li>No efficient way to use an immutable List as a queue</li><li>To enqueue 3 the list in the red box(-5, 2, 7)[See the video] must change<ul><li>The next reference of the node containing 7 has to be updated</li><li>This List cannot be [Should not be] used by other parts of the program since the List is changing</li></ul></li></ul><br><h1 id="Stack-Example"><a href="#Stack-Example" class="headerlink" title="Stack Example"></a>Stack Example</h1><p>&#x2F;&#x2F; Check the video &#x2F;&#x2F;</p><h1 id="Infix-Expressions"><a href="#Infix-Expressions" class="headerlink" title="Infix Expressions"></a>Infix Expressions</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">12</span><span class="number">-4</span>) - (<span class="number">8</span>+<span class="number">9</span>/<span class="number">3</span>*<span class="number">2</span>)</span><br></pre></td></tr></table></figure><ul><li>The standard way to write an expression</li><li>Operators placed <strong>between</strong> two operands</li><li>Order of operations must be considered</li><li>Parentheses used to override order of operations</li></ul><h2 id="Evaluating-Infix-Expressions"><a href="#Evaluating-Infix-Expressions" class="headerlink" title="Evaluating Infix Expressions"></a>Evaluating Infix Expressions</h2><ul><li>PEMDAS<ul><li>Parentheses -&gt; Exponentiation -&gt; Multiplicaiton &#x2F; Division -&gt; Addision &#x2F; Subtraction</li><li>è®¡ç®—é¡ºåºï¼Œç°æ‹¬å·åå¹³æ–¹å†ä¹˜é™¤ï¼Œæœ€ååŠ å‡</li></ul></li></ul><h1 id="Postfix-Expressions"><a href="#Postfix-Expressions" class="headerlink" title="Postfix Expressions"></a>Postfix Expressions</h1><ul><li>12 4 - 8 9 3 &#x2F; 2 * + -</li></ul><br><ul><li>Advantages:<ul><li>No parentheses needed</li><li>No order of operations to consider</li><li>Easy for computers to read</li></ul></li><li>Disadvantages:<ul><li>Hard for humans to read (Without practice)</li></ul></li></ul><h2 id="Evaluating-Postfix-Expressions"><a href="#Evaluating-Postfix-Expressions" class="headerlink" title="Evaluating Postfix Expressions"></a>Evaluating Postfix Expressions</h2><ul><li>Find the first operator and evaluate it using the previous 2 operands<ul><li>Repeat until there are no operators</li></ul></li></ul><h1 id="Infix-gt-Postfix"><a href="#Infix-gt-Postfix" class="headerlink" title="Infix -&gt; Postfix"></a>Infix -&gt; Postfix</h1><ul><li>Shunting Yard<ul><li>Convert infix to postfix</li></ul></li><li>Read expression left to right</li><li>Copy operands to the output</li><li>Push operatos and parentheses onto a  <strong>stack</strong><ul><li>If reading â€œ)â€, move top of stack to output until â€œ(â€œ is popped</li><li>If readingg an operator, first move top of stack to output until a lower precedent (Should be evaluated later) operator is on top or the stack is empty</li></ul></li><li>After reading the entire input, copy the rest of the stack to the output</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">12</span><span class="number">-4</span>) - (<span class="number">8</span>+<span class="number">9</span>/<span class="number">3</span>*<span class="number">2</span>) -&gt; <span class="number">12</span> <span class="number">4</span> - <span class="number">8</span> <span class="number">9</span> <span class="number">3</span> / <span class="number">2</span> * + -</span><br></pre></td></tr></table></figure><br><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Implement a backlog to track tasks that canâ€™t be completed immediately</p><ul><li>In a package named datastructures, write a class named Backlog with the following functionality<ul><li>Takes a type parameter A</li><li>Takes a function in its constructor of type A &#x3D;&gt; Unit</li><li>Has a method named <code>addTask</code> that takes a task of type A and returns Unit that adds the task to the backlog (A queue)</li><li>Has a method named <code>completeTask</code> that takes no parameters and returns Unit that calls the function (from the constructor) on the oldest task in the backlog and removes that task from the backlog<ul><li>If the Backlog is empty, this method does nothing</li></ul></li></ul></li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestBacklogâ€ as a test suite that tests the functionality above</p><h1 id="Lecture-Question-Example"><a href="#Lecture-Question-Example" class="headerlink" title="Lecture Question Example"></a>Lecture Question Example</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Email</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> checked = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">checkEmail</span></span>(email: <span class="type">Email</span>): <span class="type">Unit</span> = &#123; </span><br><span class="line">  email.checked = <span class="literal">true</span> </span><br><span class="line">  println(<span class="string">&quot;Checked an email&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> backlog = <span class="keyword">new</span> <span class="type">Backlog</span>[<span class="type">Email</span>](checkEmail)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 7 new emails hit the inbox </span></span><br><span class="line">backlog.addTask(<span class="keyword">new</span> <span class="type">Email</span>) <span class="comment">// 1 </span></span><br><span class="line">backlog.addTask(<span class="keyword">new</span> <span class="type">Email</span>) <span class="comment">// 2 </span></span><br><span class="line">backlog.addTask(<span class="keyword">new</span> <span class="type">Email</span>) </span><br><span class="line">backlog.addTask(<span class="keyword">new</span> <span class="type">Email</span>) </span><br><span class="line">backlog.addTask(<span class="keyword">new</span> <span class="type">Email</span>) </span><br><span class="line">backlog.addTask(<span class="keyword">new</span> <span class="type">Email</span>) </span><br><span class="line">backlog.addTask(<span class="keyword">new</span> <span class="type">Email</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Only time to check 2 emails </span></span><br><span class="line">backlog.completeTask() <span class="comment">// checks the email marked 1 </span></span><br><span class="line">backlog.completeTask() <span class="comment">// checks the email marked 2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec4-1:Linked_List</title>
      <link href="/cn/LO4-1-Linked-List/"/>
      <url>/cn/LO4-1-Linked-List/</url>
      
        <content type="html"><![CDATA[<h1 id="Linked-List"><a href="#Linked-List" class="headerlink" title="Linked List"></a>Linked List</h1><p>List â€œProâ€ version:)</p><h1 id="Recall-Array"><a href="#Recall-Array" class="headerlink" title="Recall - Array"></a>Recall - Array</h1><ul><li>Sequential<ul><li>One continuous block of memory</li><li>Random access based on memory address<ul><li>address &#x3D; first_address + (element_size * index)</li></ul></li></ul></li><li>Fixed Size<ul><li>Since memory adjacent to the block may be used</li><li>Efficient when you know many elements youâ€™ll need to store</li></ul></li></ul><br><h1 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h1><ul><li>Arrays are stored on the heap</li><li>Pointer to index 0 goes on the stack</li><li>add index * sizeOfElement to 1503 to find each element<ul><li>This is called random access</li></ul></li></ul><h1 id="Recall-Linked-List"><a href="#Recall-Linked-List" class="headerlink" title="Recall - Linked List"></a>Recall - Linked List</h1><ul><li>Sequential<ul><li>Spread across memory</li><li>Each element knows the memory address of the next element<ul><li>Follow the addresses to find each element</li></ul></li></ul></li><li>Variable Size<ul><li>Store new element anywhere in memory</li><li>New element stores address of the first eloement</li></ul></li></ul><h1 id="Linked-List-1"><a href="#Linked-List-1" class="headerlink" title="Linked List"></a>Linked List</h1><ul><li>myList stores a list containing: [5,3,1]</li><li>Last link stores null<ul><li>We say the list is â€œnull terminatedâ€</li><li>When we read a value of null we know we reached the end of the list</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinkedListNode</span>[<span class="type">A</span>](<span class="params">var value: <span class="type">A</span>, var next: <span class="type">LinkedListNode</span>[<span class="type">A</span>]</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myList: <span class="type">LinkedListNode</span>[<span class="type">Int</span>] = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">Int</span>](<span class="number">1</span>, <span class="literal">null</span>)</span><br><span class="line">myList = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">Int</span>](<span class="number">3</span>, myList)</span><br><span class="line">myList = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">Int</span>](<span class="number">5</span>, myList)</span><br></pre></td></tr></table></figure><ul><li>We create our own linked list class by defining a node<ul><li>A node represents one â€œlinkâ€ in the list</li></ul></li><li>The list itself is a reference to the first &#x2F; head node</li><li>Note: This is a <strong>mutable</strong> list<ul><li>Youâ€™ll build immutable lists in CSE250</li></ul></li></ul><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myList: <span class="type">LinkedListNode</span>[<span class="type">Int</span>] = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">Int</span>](<span class="number">1</span>, <span class="literal">null</span>)</span><br></pre></td></tr></table></figure><ul><li>Create a new variable to store the head (first node) of the list</li><li>Create a new node with the value 1</li><li>The list has size 1</li></ul><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myList = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">Int</span>](<span class="number">3</span>, myList)</span><br></pre></td></tr></table></figure><ul><li>We prepend a new node to the list<ul><li>Create a new node with value 3</li><li>The new node â€œrefersâ€ to the rest of the list</li></ul></li><li>The list has size 2</li></ul><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myList = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">Int</span>](<span class="number">5</span>, myList)</span><br></pre></td></tr></table></figure><ul><li>Repeat the process to build a list of size 3</li><li>Each node refers to the next node in the list</li><li>The last node doesnâ€™t refer to anything (null) indicating the end of list</li></ul><h1 id="Linked-List-Algorithms"><a href="#Linked-List-Algorithms" class="headerlink" title="Linked List Algorithms"></a>Linked List Algorithms</h1><ul><li>We know the structure of a linked list</li><li>How do we operate on these lists?</li><li>We would like to:<ul><li>Find the size of a list</li><li>Print all the elements of a list</li><li>Access elements by location</li><li>Add &#x2F; Remove elements</li><li>Find a sprecific value</li></ul></li></ul><br><h1 id="Size"><a href="#Size" class="headerlink" title="Size"></a>Size</h1><ul><li>Navigate through the entire listr until the next reference is null<ul><li>Count the number of nodes visited</li></ul></li><li>Could use a loop. Recursive example shown</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">size</span></span>(): <span class="type">Int</span> = &#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.next == <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="number">1</span></span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.next.size() + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="To-String"><a href="#To-String" class="headerlink" title="To String"></a>To String</h1><ul><li>Same as size, but accumulate the value as strings instead of counting the number of nodes</li><li>Recursive makes it easier to manage our commas<ul><li>â€œ,â€ is only appended if itâ€™s not the last element</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>: <span class="type">String</span> = &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.next == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.value.toString</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.value.toString + <span class="string">&quot;, &quot;</span> + <span class="keyword">this</span>.next.toString</span><br><span class="line">  &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><h1 id="Debugger-Demo"><a href="#Debugger-Demo" class="headerlink" title="Debugger Demo"></a>Debugger Demo</h1><p>&#x2F;&#x2F; Check the video &#x2F;&#x2F;</p><br><h1 id="Access-Element-by-Location"><a href="#Access-Element-by-Location" class="headerlink" title="Access Element by Location"></a>Access Element by Location</h1><ul><li>Simulates array access</li><li>Take an â€œindexâ€ and advance through the list that many times</li><li>MUCH slower than array access<ul><li>Calls next n times - O(n) runtime</li><li>ex.apply(4) is the same as this.next.next.next.next</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(i: <span class="type">Int</span>): <span class="type">LinkedListNode</span>[<span class="type">A</span>] = &#123;</span><br><span class="line">  <span class="keyword">if</span> (i == <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.next.apply(i - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Add-an-Element"><a href="#Add-an-Element" class="headerlink" title="Add an Element"></a>Add an Element</h1><ul><li>To add an element we first need a reference to the node before the location of the new element</li><li>Update the next reference of this node</li><li>Want to add 2 in this list after 3</li><li>Need reference to the node contianing 3</li><li>Create the new node with next equal to this nodeâ€™s next</li><li>This nodeâ€™s next is set to the new node</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>(element: <span class="type">A</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">this</span>.next = <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">A</span>](element, <span class="keyword">this</span>.next)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Delete-a-Node"><a href="#Delete-a-Node" class="headerlink" title="Delete a Node"></a>Delete a Node</h1><ul><li>Want to delete the node containing 2</li><li>Need a reference to the previous node</li><li>Update that nodeâ€™s next to bypass the deleted node<ul><li>Donâ€™t have to update deleted node</li><li>The list no longer refers to this node</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deleteAfter</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">this</span>.next = <span class="keyword">this</span>.next.next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Find-a-Value"><a href="#Find-a-Value" class="headerlink" title="Find a Value"></a>Find a Value</h1><ul><li>Navigate through the list one node at at time<ul><li>Check if the node contains the value</li><li>If it doesnâ€™t, move to the next node</li><li>If the end of the list is reached, the list does not contain the element</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span></span>(toFind: <span class="type">A</span>): <span class="type">LinkedListNode</span>[<span class="type">A</span>] = &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.value == toFind) &#123;</span><br><span class="line">    <span class="keyword">this</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.next == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="literal">null</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.next.find(toFind)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Find-Recursion-v-Iteration"><a href="#Find-Recursion-v-Iteration" class="headerlink" title="Find - Recursion v. Iteration"></a>Find - Recursion v. Iteration</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findIterative</span></span>(toFind: <span class="type">A</span>): <span class="type">LinkedListNode</span>[<span class="type">A</span>] = &#123;</span><br><span class="line">  <span class="keyword">var</span> node = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">while</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node.value == toFind) &#123;</span><br><span class="line">      <span class="keyword">return</span> node</span><br><span class="line">    &#125;</span><br><span class="line">    node = node.next</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span></span>(toFind: <span class="type">A</span>): <span class="type">LinkedListNode</span>[<span class="type">A</span>] = &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.value == toFind) &#123;</span><br><span class="line">    <span class="keyword">this</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.next == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="literal">null</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.next.find(toFind)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h1 id="ForEach"><a href="#ForEach" class="headerlink" title="ForEach"></a>ForEach</h1><ul><li>Call a function on each node of the list</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foreach</span></span>(f: <span class="type">A</span> =&gt; <span class="type">Unit</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">  f(<span class="keyword">this</span>.value)</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.next != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.next.foreach(f)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Map-Useage"><a href="#Map-Useage" class="headerlink" title="Map Useage"></a>Map Useage</h1><ul><li>Recall the map method for builtin List</li><li>Used to transform every element in a list</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">val</span> numbersSquared: <span class="type">List</span>[<span class="type">Int</span>] = numbers.map((n: <span class="type">Int</span>) =&gt; n * n)</span><br><span class="line">println(numbersSquared) <span class="comment">// List(1, 4, 9, 16, 25, 36, 49, 64, 81, 100)</span></span><br></pre></td></tr></table></figure><h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><ul><li>Apply a function to each element of the list<ul><li>Return a new list containing the return values of the function</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map</span></span>(f: <span class="type">A</span> =&gt; <span class="type">A</span>): <span class="type">LinkedLisNode</span>[<span class="type">A</span>] = &#123;</span><br><span class="line">  <span class="keyword">val</span> newValue = f(<span class="keyword">this</span>.value)</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.next == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">A</span>](newValue, <span class="literal">null</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">A</span>](newValue, <span class="keyword">this</span>.next.map(f))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Map-Change-Type"><a href="#Map-Change-Type" class="headerlink" title="Map - Change Type"></a>Map - Change Type</h2><ul><li>Can change the type of the returned list with a second type parameter</li><li>A could be equal to B if you donâ€™t want to change the type</li><li>Example: You want to divide a list of Ints by 2 and have to return a list of Doubles to avoid rounding<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map</span></span>[<span class="type">B</span>](f: <span class="type">A</span> =&gt; <span class="type">B</span>): <span class="type">LinkedListNode</span>[<span class="type">B</span>] = &#123;</span><br><span class="line">  <span class="keyword">val</span> newValue = f(<span class="keyword">this</span>.value)</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.next == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">B</span>](newValue, <span class="literal">null</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">LinkedListNode</span>[<span class="type">B</span>](newValue, <span class="keyword">this</span>.next.map(f))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Task:</strong><br>Write reduce for our linked list!!!! (go to example repo) || <a href="https://github.com/hartloff/CSE116-Examples">link</a>     </p><ul><li>Write a method in the week8.linkedlist.LinkedListNode class (from the examples repo) named reduce that:<ul><li>Takes a function of type (A, A) &#x3D;&gt; A</li><li>Returns A</li><li>Combines all the elements of the list into a single value by applying the provided function to all elements<ul><li>You may assume the function is commutative</li></ul></li><li>If the list has size 1, return that element without calling the provided function</li></ul></li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestReduceâ€ as a test suite that tests the functionality listed above (Do not test with an empty list&#x2F;null)</p><p><strong>Example:</strong><br>If head stores a reference to the List(4, 6, 2)        </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head.reduce((a: <span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; a + b) == <span class="number">12</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec3-5:Immutability</title>
      <link href="/cn/LO3-5-Immutability/"/>
      <url>/cn/LO3-5-Immutability/</url>
      
        <content type="html"><![CDATA[<p>Immutability</p><h1 id="Immutable-Objects"><a href="#Immutable-Objects" class="headerlink" title="Immutable Objects"></a>Immutable Objects</h1><ul><li>Values stored in state variables cannot change</li><li>Immutable objects are stored on the heap just like any other object<ul><li>But we donâ€™t worry about the state changing when we pass the reference to a method &#x2F; function</li></ul></li><li>What if an immutable object needs to change state?<ul><li>Create a copy of the object with the change applied</li></ul></li></ul><br><ul><li>This ImmutableCounter class takes an initial value in its constructor and has methods to increment and decrement this value</li><li>The internal Int is a value and cannot change<ul><li>It also canâ€™t be accessed (Artificial restriction to show more recursion)</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImmutableCounter</span>(<span class="params">counter: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printCount</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="keyword">this</span>.counter)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>(): <span class="type">ImmutableCounter</span> = &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="type">ImmutableCounter</span>(<span class="keyword">this</span>.counter + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decrease</span></span>(): <span class="type">ImmutableCounter</span> = &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="type">ImmutableCounter</span>(<span class="keyword">this</span>.counter - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">updateCounter</span></span>(n: <span class="type">Int</span>, counter: <span class="type">ImmutableCounter</span>): <span class="type">ImmutableCounter</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>)&#123;</span><br><span class="line">        counter</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        updateCounter(n + <span class="number">1</span>, counter.decrease())</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        updateCounter(n - <span class="number">1</span>, counter.increase())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> counter: <span class="type">ImmutableCounter</span> = <span class="keyword">new</span> <span class="type">ImmutableCounter</span>(<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">val</span> counter2: <span class="type">ImmutableCounter</span> = updateCounter(<span class="number">20</span>, counter)</span><br><span class="line"></span><br><span class="line">    counter.printCount()</span><br><span class="line">    counter2.printCount()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><ul><li>Since the Int cannot change<ul><li>We simulate changes by creating a new object on the heap with the change applied</li></ul></li><li>Create and return a new ImmutableCounter whenever a â€œchangeâ€ is made</li></ul><br><ul><li>Since we return a new ImmutableCounter<ul><li>We must use this return value or we will not see the change</li></ul></li></ul><br><ul><li>What if we want to increment this object 10 times?</li><li>Since we [artificially] restrict access to the Int we can only increment and decrement</li><li>We could use a loop and reassign a variable at each iteration (requires var)</li></ul><br><ul><li>What if we want to increment this object 10 times?</li><li>Use a recursive approach<ul><li>Base case if n &#x3D;&#x3D; 0</li><li>Recursively increment &#x2F; decrement and make a recursive call with n closer to 0</li></ul></li></ul><hr><h2 id="Strings-are-Immutable"><a href="#Strings-are-Immutable" class="headerlink" title="Strings are Immutable"></a><strong>Strings are Immutable</strong></h2><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nerf</span></span>(input: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    input.trplace(<span class="string">&quot;6&quot;</span>, <span class="string">&quot;5&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">amplify</span></span>(input: <span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">    input.replace(<span class="string">&quot;116&quot;</span>, <span class="string">&quot;250&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> course: <span class="type">String</span> = <span class="string">&quot;CSE116&quot;</span></span><br><span class="line">    nerf(course)</span><br><span class="line">    <span class="keyword">val</span> dataStructures: <span class="type">String</span> = <span class="string">&quot;CSE116&quot;</span></span><br><span class="line"></span><br><span class="line">    course + <span class="string">&quot; is great&quot;</span></span><br><span class="line">    <span class="keyword">val</span> courseString = course + <span class="string">&quot; is fun&quot;</span></span><br><span class="line"></span><br><span class="line">    println(course)</span><br><span class="line">    println(dataStructures)</span><br><span class="line">    println(courseString)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>The main method creates a new String on the stack and passes a reference to it to the nerf method</li><li>We would usually expect to see changes made to this object by the method</li></ul><br><ul><li>The method â€œreplacesâ€ all instance of the substring â€œ6â€ with â€œ5â€</li><li>The â€œchangeâ€ is made by creating a new String</li><li>Since this method has a return type of Unit, the reference is not returned</li><li>The String is still on the heap</li></ul><br><ul><li>After the call to nerf resolves<ul><li>The stack is in the same state as it wes before the method call</li></ul></li><li>There is an extra String on the Heap<ul><li>[It can be garbage collected]</li></ul></li></ul><br><ul><li>The next method call also creates a new String on the heap</li><li>Replaces â€œ116â€ with â€œ250â€</li><li>Method returns a reference to the new String that was created</li><li>The reference is stored in a variable in the main method</li></ul><br><ul><li>We create another new String in main</li><li>The reference is never stored in a variable</li><li>Never see this String in our code</li></ul><hr><h2 id="List-are-Immutable"><a href="#List-are-Immutable" class="headerlink" title="List are Immutable"></a><strong>List are Immutable</strong></h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">firstNPrimes</span></span>(n: <span class="type">Int</span>): <span class="type">List</span>[<span class="type">Int</span>] = &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">List</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">List</span>(<span class="number">2</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">val</span> nMinusOnePrimes: <span class="type">List</span>[<span class="type">Int</span>] = firstNPrimes(n - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">val</span> maxPrime: <span class="type">Int</span> = nMinusOnePrimes.max</span><br><span class="line">        findPrime(maxPrime + <span class="number">1</span>, nMinusOnePrimes) :: nMinusOnePrimes</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findPrime</span></span>(i: <span class="type">Int</span>, knownPrimes: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">Int</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (!knownPrimes.foldLeft(<span class="literal">false</span>)(_ || i % _ == <span class="number">0</span>)) &#123;</span><br><span class="line">        i</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        findPrime(i + <span class="number">1</span>, knownPrimes)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    firstNPrimes(<span class="number">3</span>).foreach(println)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Recursive calls are added to the stack until we reach the base case of n &#x3D;&#x3D; 1</li><li>Create a new immutable List on the heap</li></ul><br><ul><li>The base case returns a reference to the List it created</li><li>This List is immutable so it will never change<ul><li>Even though its reference is passed around different frames</li></ul></li></ul><br><ul><li>The previous recursive call gets this returned reference</li><li>Accesses that List on the heap</li></ul><br><ul><li>The reference is passed to the next method call</li><li>This is the reference behavior we expect</li></ul><br><ul><li>Since 3 is not divisible by 2<ul><li>Return the base case of i</li></ul></li></ul><br><ul><li>Get return value of 3 and prepend it to the List of know primes</li><li>But Lists are immutable!<ul><li>Create a new List with 3 prepended</li></ul></li></ul><br><ul><li>A reference to the new List is returned</li><li>The original List remains on the heap an is unchanged</li></ul><br><ul><li><strong>Important:</strong></li><li>If another part of our program has the reference @1 stored in q variable<ul><li>Nothing we do can interfaere with its computation</li></ul></li></ul><br><ul><li>The first recursive call gets the reference @2</li><li>Continues its computation with this reference</li><li>Make a call to findPrime based on the List  @2</li><li>Base case is false since 4%2 &#x3D;&#x3D; 0</li><li>Recursive call is made to check if the next integer is prime</li><li>Hit the base case since 5 is prime</li><li>Return 5 up the recursion</li></ul><br><ul><li>With the return value of 5<ul><li>firstNPrimes can finish its computation</li></ul></li><li>Create another new List on the heap</li><li>Return the new lists containing all three primes</li></ul><br><ul><li>Main gets the List at reference @3</li><li>The other two Lists are sitll on the Heap and are unchanged<ul><li>[Not garbage collected. More details coming]</li></ul></li><li>The primes 5,3,2 are printed to the console</li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Restriction:</strong><br>No state is allowed in this question. Specifically, the keyword â€œvarâ€ is banned. (ie. You are expected to use a recursive solution)</p><p><strong>Question:</strong><br>In a package named â€œfunctionsâ€ write a class named Point with the following features:</p><ul><li>Has a constructor that takes 2 values (Use val) of type Double named â€œxâ€ and â€œyâ€</li><li>A method named â€œaddâ€ that takes a Point and returns a Point that is the component-wise addition of this Point and the input Point<ul><li>Ex. (1.0, 2.0) + (4.0, 1.0) &#x3D; (5.0, 3.0)</li></ul></li><li>A method named â€œmultiplyByScalarâ€ that takes a Double and returns a new Point that is this Point multiplied by the input<ul><li>Ex. 5.0 * (1.0, 2.0) &#x3D; (5.0, 10.0)</li></ul></li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestPointâ€ as a test suite that tests all the functionality listed above</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec3-4:Functions</title>
      <link href="/cn/LO3-4-Functions/"/>
      <url>/cn/LO3-4-Functions/</url>
      
        <content type="html"><![CDATA[<h1 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h1><p>We have functions today:)</p><h1 id="Custom-Sorting"><a href="#Custom-Sorting" class="headerlink" title="Custom Sorting"></a>Custom Sorting</h1><ul><li>We can sort any type with any comparatror</li><li>But what if we want to sort points by their distance from a reference point<ul><li>In general: what if the comparator needs more parameters than just the two elements?</li></ul></li><li>We can dynamically create a new function with the additional parameters â€œbuilt-inâ€</li></ul><h1 id="Returning-Functions"><a href="#Returning-Functions" class="headerlink" title="Returning Functions"></a>Returning Functions</h1><ul><li>We can write a function &#x2F; method that takes all the needed parameters and returns a funcrtion that fits the signature of a comparator</li><li>The distanceComparator method returns a comparator that compares the distance to a reference point</li></ul><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">distacne</span></span>(v1: <span class="type">PhysicsVector</span>, v2: <span class="type">PhysicsVector</span>): <span class="type">Double</span> = &#123;</span><br><span class="line">    <span class="type">Math</span>.sqrt(<span class="type">Math</span>.pow(v1.x - v2.x, <span class="number">2.0</span>) + <span class="type">Math</span>.pow(v1.y - v2.y, <span class="number">2.0</span>) + <span class="type">Math</span>.pow(v1.z - v2.z, <span class="number">2.0</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">distanceComparator</span></span>(referencePoint: <span class="type">PhysicsVector</span>): (<span class="type">PhysicsVector</span>, <span class="type">PhysicsVector</span>) =&gt; <span class="type">Boolean</span> = &#123;</span><br><span class="line">    (v1: <span class="type">PhysicsVector</span>, v2: <span class="type">PhysicsVector</span>) =&gt; &#123;</span><br><span class="line">        distance(v1, referencePoint) &lt; distance(v2, referencePoint)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Use distanceComparator to create a comparator function when needed</li><li>Can create different comparators with different reference points<ul><li>Global state would only allow one comparator at a time<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> referencePoint = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.0</span>)</span><br><span class="line"><span class="keyword">val</span> sortedPoints = <span class="type">NergeSort</span>.mergeSort(points, distanceComparator(referencePoint))</span><br></pre></td></tr></table></figure></li></ul></li></ul><h1 id="Collection-Methods"><a href="#Collection-Methods" class="headerlink" title="Collection Methods"></a>Collection Methods</h1><ul><li>We can apply first-order functions to compress our code when working with data structures</li><li>Weâ€™ll see a variety of methods that take functions as parameters to help us work with data</li></ul><h2 id="For-Each"><a href="#For-Each" class="headerlink" title="For Each"></a>For Each</h2><ul><li>Call a function on each elemnents of a List</li><li>Only use for the side-effects<ul><li>ie. Not too useful when embracing immutability</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> words: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;zero&quot;</span>, <span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>)</span><br><span class="line">words.foreach(println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">Will print:</span></span><br><span class="line"><span class="comment">zero</span></span><br><span class="line"><span class="comment">one</span></span><br><span class="line"><span class="comment">two </span></span><br><span class="line"><span class="comment">three</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><ul><li>Takes a function that returns a Boolean</li><li>Returns a new List containing only the elements for which the function returns true</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> words: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;zero&quot;</span>, <span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> filteredWords: <span class="type">List</span>[<span class="type">String</span>] = words.filter(_.length &gt; <span class="number">3</span>)</span><br><span class="line">filteredWords.foreach(printtln)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">Will print:</span></span><br><span class="line"><span class="comment">zero</span></span><br><span class="line"><span class="comment">three</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><ul><li>Takes a function of the data type to another data type</li><li>Returns a new List containing the retun values of the function with each element as an input</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>)</span><br><span class="line"><span class="keyword">val</span> numberSquared: <span class="type">List</span>[<span class="type">Double</span>] = numbers.map(<span class="type">Math</span>.pow(_, <span class="number">2.0</span>))</span><br><span class="line">numbersSquared.foreach(println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">Will print:</span></span><br><span class="line"><span class="comment">1.0</span></span><br><span class="line"><span class="comment">4.0</span></span><br><span class="line"><span class="comment">9.0</span></span><br><span class="line"><span class="comment">16.0</span></span><br><span class="line"><span class="comment">25.0</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><br><ul><li>The map method takes 2 type parameters</li><li>We can provide a function that â€œmapsâ€ the elements to a different type<ul><li>The types can be inferred by the types of the provided function</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> words: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;zero&quot;</span>, <span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> wordLengths: <span class="type">List</span>[<span class="type">Int</span>] = words.map(_.length)</span><br><span class="line">wordLengths.foreach(println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">Will print:</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><h2 id="Yield"><a href="#Yield" class="headerlink" title="Yield"></a>Yield</h2><ul><li>As alternate syntax to map, we can use the yield keyword</li><li>Add the keyword yield before the body of a loop</li><li>The last expression of the loop body will be â€œcollectedâ€ at each iteration</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>)</span><br><span class="line"><span class="keyword">val</span> numbersSquared: <span class="type">List</span>[<span class="type">Double</span>] = <span class="keyword">for</span> (number &lt;- numbers) <span class="keyword">yield</span> &#123;</span><br><span class="line">    <span class="type">Math</span>.pow(number, <span class="number">2.0</span>)</span><br><span class="line">&#125;</span><br><span class="line">numbersSquared.foreach(println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">Will print:</span></span><br><span class="line"><span class="comment">1.0</span></span><br><span class="line"><span class="comment">4.0</span></span><br><span class="line"><span class="comment">9.0</span></span><br><span class="line"><span class="comment">16.0</span></span><br><span class="line"><span class="comment">25.0</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><br><ul><li>Using yield will create a data structure of the same type as the one being iterated over</li><li>Itâ€™s not always possible to match the type exactly</li><li>Scala will default to certain data structure<ul><li>Use toList tp convert the default type to a List</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numberSquared: <span class="type">List</span>[<span class="type">Double</span>] = (<span class="keyword">for</span>(number &lt;- <span class="number">1</span> to <span class="number">5</span>) <span class="keyword">yield</span> &#123;</span><br><span class="line">    <span class="type">Math</span>.pow(number, <span class="number">2.0</span>)</span><br><span class="line">&#125;).toList</span><br><span class="line">numbersSquared.foreach(println)</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">Will print:</span></span><br><span class="line"><span class="comment">1.0</span></span><br><span class="line"><span class="comment">4.0</span></span><br><span class="line"><span class="comment">9.0</span></span><br><span class="line"><span class="comment">16.0</span></span><br><span class="line"><span class="comment">25.0</span></span><br><span class="line"><span class="comment">***/</span></span><br></pre></td></tr></table></figure><h2 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h2><ul><li>Takes a function that combines two values of the data type intyto a single value of that type</li><li>Calls this function on all elements<ul><li>Combines the data into a single value</li></ul></li><li>The first parameter of the function is the accumulator<ul><li>Stores the total value accumulated so far</li><li>Initialized as the first element (Note: This example breaks if 1.0 is not the first elementa)</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>)</span><br><span class="line"><span class="keyword">val</span> sumSquares: (<span class="type">Double</span>, <span class="type">Double</span>) =&gt; <span class="type">Double</span> = (a: <span class="type">Double</span>, b: <span class="type">Double</span>) =&gt; a + <span class="type">Math</span>.pow)(b, <span class="number">2.0</span>)</span><br><span class="line"><span class="keyword">val</span> sumOfSquares: <span class="type">Double</span> = numbers.reduce(sumSquares)</span><br><span class="line">println(sumOfSquares) <span class="comment">// 55.0</span></span><br></pre></td></tr></table></figure><br><ul><li>We can use the _ shorthand with two parameters<ul><li>The order of appearance of the _â€™s is the parameter order</li></ul></li><li>Can not use _ shorthand if you need to use a input twice</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>)</span><br><span class="line"><span class="keyword">val</span> sumOfSquares: <span class="type">Double</span> = numbers.reduce(_ + <span class="type">Math</span>.pow(_, <span class="number">2.0</span>))</span><br><span class="line">println(sumOfSquares) <span class="comment">// 55.0</span></span><br></pre></td></tr></table></figure><h2 id="Fold"><a href="#Fold" class="headerlink" title="Fold"></a>Fold</h2><ul><li>Similar to reduce</li><li>Use fold if you need to initialize your accumulator</li><li>Use fold if you are reducing a different type than the data type</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>)</span><br><span class="line"><span class="keyword">val</span> mult: <span class="type">Double</span> = numbers.fold(<span class="number">1.0</span>)(_ * _)</span><br><span class="line">println(mult) <span class="comment">// 1*2*3*4*5 = 120.0</span></span><br></pre></td></tr></table></figure><br><ul><li>To accumulate to a type different than the data type<ul><li>Use the left &#x2F; right version of fold</li></ul></li><li>Initial value determines the accumulator type<ul><li>This value is returned if the input is the empty list</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> words: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;zero&quot;</span>, <span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> totalLength: <span class="type">Int</span> = words.foldLeft(<span class="number">0</span>)(_ + _.length)</span><br><span class="line"><span class="keyword">val</span> totalLength2: <span class="type">Int</span> = words.foldRight(<span class="number">0</span>)(_.length + _)</span><br><span class="line">println(totalLength) <span class="comment">// 15</span></span><br><span class="line">println(totalLength2) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure><br><ul><li>Using fold defaults to foldLeft<ul><li>Start with the first (left&#x3D;most) element</li></ul></li><li>To accumulate from the end of the List use foldRight<ul><li>Must reverse the parameter order when using foldRight &#x2F; reduceRight<ul><li>Accumulator is second parameter, data is first element</li></ul></li></ul></li></ul><h2 id="Example-Polunomials"><a href="#Example-Polunomials" class="headerlink" title="Example - Polunomials"></a>Example - Polunomials</h2><p>â€”â€”â€”â€“Check the Lecture Recordingâ€”â€”â€”â€”â€”</p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Restriction:</strong><br>No state is allowed in this question. Specifically, the keyword â€œvarâ€ is banned. (ie. You are expected to use a recursive solution)</p><p><strong>Question:</strong><br>In a package named â€œfunctionsâ€ add to the <strong>object</strong> named Numbers (The object with your fib method) a method named averageInRange that:</p><ul><li>Takes a List of Doubles as a parameter</li><li>Returns a functions that takes 2 Doubles and returns a Double<ul><li>This function will return the average of all the numbers in the List that are between the two input Double</li><li>Exclude the endpoints (ie. Use &lt; and &gt;, not &lt;&#x3D; and &gt;&#x3D;)</li><li>The first parameter of the function is the min value and the second is the max value of the range</li><li>Ex. Averaging the list (1.0, 4.0, 2.0, 5.0, 3.0) with endpoints 1.5 and 4.9<ul><li>Average in range is the average of (2.0, 3.0, 4.0) &#x3D;&#x3D; 3.0</li></ul></li></ul></li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestAverageInRangeâ€ as a test suite that tests all the functionality listed above. (You donâ€™t have to test end point exclusion since Doubles are not reliably equal)</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec3-3:Recursion</title>
      <link href="/cn/LO3-3-Recursion/"/>
      <url>/cn/LO3-3-Recursion/</url>
      
        <content type="html"><![CDATA[<h1 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">computeGeometricSum</span></span>(n: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="number">0</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        n + computeGeometricSum(n<span class="number">-1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> resullt: <span class="type">Int</span> = computeGeometricSum(<span class="number">3</span>)</span><br><span class="line">    println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Computes the geometric sum of the input<ul><li>Ex: if n &#x3D;&#x3D; 3, geometric sum is 3+2+1 &#x3D;&#x3D; 6</li></ul></li><li>Base Case:<ul><li>An input with a trivial output</li><li>Geometric sum of 0 is defined as 0</li><li>We could also add 1 -&gt; 1 as a base case</li></ul></li><li>Recursive Step:<ul><li>Any input that is not a base case will put another recursive call on the stack</li><li>Write the recursive step with the assumption that the recursive call will return the correct value</li></ul></li><li><strong>Recursive calls must get closer to the base case</strong><ul><li>All calls must eventually reach a base case or weâ€™ll go infinite</li><li>n-1 is closer to n &lt;&#x3D; 0 than n</li><li>Regardless of the original value of n, it will eventually be decremented util the base case condition is true</li></ul></li></ul><h1 id="Anagrams-Revisited"><a href="#Anagrams-Revisited" class="headerlink" title="Anagrams Revisited"></a>Anagrams Revisited</h1><p>Check the example below :)</p><h1 id="Anagrams-Example"><a href="#Anagrams-Example" class="headerlink" title="Anagrams Example"></a>Anagrams Example</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">anagrams</span></span>(input: <span class="type">String</span>): <span class="type">List</span>[<span class="type">String</span>] = &#123;</span><br><span class="line">    <span class="keyword">if</span> (input.length == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">List</span>(input)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">val</span> output: <span class="type">List</span>[<span class="type">List</span>[<span class="type">String</span>]] = (<span class="keyword">for</span> (i &lt;- <span class="number">0</span> until input.length) <span class="keyword">yield</span> &#123;</span><br><span class="line">            <span class="keyword">val</span> newString: <span class="type">String</span> = input.substring(<span class="number">0</span>, i) + input.substring(i + <span class="number">1</span>, input.length)</span><br><span class="line">            anagrams(newString).map(_ + input.charAt(i))</span><br><span class="line">        &#125;).toList</span><br><span class="line"></span><br><span class="line">        output.flatten.disinct</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Recall anagrams<ul><li>Rewrittrn to use functional programming and no vars</li><li>The syntax may not fully make sense until the next Functional Programming lecture</li></ul></li><li>Base Case<ul><li>A String of length 1 is itself its only anagram</li><li>If the length is 1, return a new list containing only that String</li></ul></li><li>Base Case Note<ul><li>We will eventually return a list containing all anagrams from the top level call</li><li>The base case is the only time we create a new List</li></ul></li><li>Recursive Step<ul><li>For each character in the input String<ul><li>Remove that character and make a recursive call with the remaining characters</li><li>Append the removed character to all returned anagrams</li></ul></li><li>We write this code with the assumption that our recursive calls will return all the anagrams of the new Strings</li><li>If our logic is sound, this assumption will be true through the power of recursion</li></ul></li><li>Always reach a base case<ul><li>We always make recursive calls on the input String with 1 character removed<ul><li>newString.length &#x3D;&#x3D; input.length - 1</li></ul></li><li>This always gets us closer to the base case</li><li>When the base case is reached and returned, our logic starts working for us</li><li>If this code does append the removed character to each returned anagram, output is generaterd starting at the base case and built up as the stack frames return</li></ul></li><li>Functional Programming notes (More detail Later)<ul><li><em>yield</em>: Creates a data structure containing the last expression that was evaluated on each iteration of a loop</li><li><em>map</em>: Creates a new data structure by applying a function to each element<ul><li>The _ is shorthand syntax we can use instead of naming the parameters of a function when the types can be inferredm and each input is only used once</li></ul></li><li>Scala data structures come with many helpful FP style</li><li><em>Flatten</em>: Creates a single List from a List of Lists containing all the elements from each List</li><li><em>Distinct</em>: Creates a new List with all duplicate values removed</li></ul></li></ul><br>- Example:  - input = "at"  - Make 2 recursive calls to the base case    - "a" and "t" are returned  - Append "t" to "a" and "a" to "t" (The removed characters)  - Return ["at", "ta"] to thr next recursive call with an input of length 2<h1 id="Anagrams-in-the-Debugger"><a href="#Anagrams-in-the-Debugger" class="headerlink" title="Anagrams in the Debugger"></a>Anagrams in the Debugger</h1><p>â€”â€”-Check the Lecture Recordingâ€”â€”â€”-</p><h1 id="Lecturn-Question"><a href="#Lecturn-Question" class="headerlink" title="Lecturn Question"></a>Lecturn Question</h1><p><strong>Restriction:</strong><br>No state is allowed in this question. Specifically, the keyword â€œvarâ€ is banned. (ie. You are expected to use a recursive solution)</p><p><strong>Method:</strong><br>In a package named â€œfunctionsâ€ create an object named â€œAlgebraâ€ with a method named â€œfactorâ€ that takes an Int as a parameters and returns the prime factorization of that parameter as a List of Ints.</p><br><p>The following apply to this method:</p><ul><li>If the input is negative, 0, or 1, return an empty list</li><li>Do not include 1 in the output for any inputs</li><li>The order of the factors in the output List is undefined</li></ul><br><p>Example: functions.Algebra.factor(12) can return List(2,2,3) -or- List(2,3,2) -or- List(3,2,2)      </p><p>Hint: You can use a return statement inside a loop once a factor is found.      </p><p><strong>Unit Testing:</strong><br>Testing will not be checked by AutoLab since youâ€™ve already written the tests for this problem. Use your tests from the last time we had this question to help your debugging process.</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec3-2:More_Sorting</title>
      <link href="/cn/LO3-2-More-Sorting/"/>
      <url>/cn/LO3-2-More-Sorting/</url>
      
        <content type="html"><![CDATA[<h1 id="Merge-Sort-x2F-Recursion"><a href="#Merge-Sort-x2F-Recursion" class="headerlink" title="Merge Sort &#x2F; Recursion"></a>Merge Sort &#x2F; Recursion</h1><p>Taco Tuesday!!!</p><h1 id="Runtime-Analysis"><a href="#Runtime-Analysis" class="headerlink" title="Runtime Analysis"></a>Runtime Analysis</h1><ul><li>Last time we said Selection sort is inefficient</li><li>Letâ€™s be more specific</li><li>Weâ€™ll measure the asymptotic runtime of the algorithm<ul><li>Often use big-O notation</li></ul></li><li>Count the number of â€œstepsâ€ the algorithm take<ul><li>A step is typically a basic operation (+, -, &amp;&amp;, etc)</li></ul></li></ul><br><ul><li>Asymptotic runtime<ul><li>Measures the order of magnitude of the runtime in relation to the size of the input</li><li>Name the input size <strong>n</strong></li><li>For sorting - Size of the input is the number of values in the data structure</li><li>Ignore constants</li></ul></li><li>Ex. Runtime of O(n) grows linearly with the size of the input</li></ul><h1 id="Selection-Sort-Runtime"><a href="#Selection-Sort-Runtime" class="headerlink" title="Selection Sort - Runtime"></a>Selection Sort - Runtime</h1><ul><li>Abridged runtime analysis</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectionSort</span></span>[<span class="type">T</span>](inputData: <span class="type">List</span>[t], comparator: (<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">    <span class="keyword">var</span> data: <span class="type">List</span>[<span class="type">T</span>] = inputData</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- data.indices) &#123;</span><br><span class="line">        <span class="keyword">var</span> minFound = data.apply(i)</span><br><span class="line">        <span class="keyword">var</span> minIndex = i</span><br><span class="line">        <span class="keyword">for</span> (j &lt;- i util data.size) &#123;</span><br><span class="line">            <span class="keyword">val</span> currentValue = data.apply(j)</span><br><span class="line">            <span class="keyword">if</span> (comparator(currentValue, minFound)) &#123;</span><br><span class="line">                minFound = currentValue</span><br><span class="line">                minIndex = j</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data = data.updated(minIndex, data.apply(i))</span><br><span class="line">        data = data.updated(i, minFound)</span><br><span class="line">    &#125;</span><br><span class="line">    data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Outer loop runs once for each index</li><li>Runs O(n) times</li><li>Inner loop runs once for each index from i to the end of the list</li><li>Runs for each iteration of the outer loop with a wrost case of O(n)</li><li>Run O(n) iterations O(n) times results in an O(n^2) total runtime</li><li>We reach O(n^3) since apply takes O(n)</li><li>More deatails next week</li></ul><br><ul><li>More Mathematical analysis<ul><li>Inner loop runs Î£i times where i ranges from n to 1</li><li>n + n-1 + n-2 + â€¦ + 2 + 1 &#x3D; (n^2)&#x2F;2 + n&#x2F;2</li><li>For asymptotic we only consider the highest order term and ignore constant multipliers</li><li>Therefore (n^2)&#x2F;2 + n&#x2F;2 is O(n^2)</li><li>Selection Sort has O(n^2) runtime</li></ul></li></ul><h1 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h1><ul><li>We briefly saw in CSE115 that we can do better by using merge sort and reaching O(n log(n)) runtime</li><li>Letâ€™s analyze this in more depth</li></ul><br><ul><li>The algorithm<ul><li>If the input list has 1 element<ul><li>Return it (Itâ€™s already sorted)</li></ul></li><li>Else<ul><li>Divide the input list in two halves</li><li>Recursively call merge sort on each half (Repeats until the lists are size 1)</li><li>Merge the two sorted lists together into a single sorted list</li></ul></li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span></span>[<span class="type">T</span>](inputData: <span class="type">List</span>[<span class="type">T</span>], comparator: (<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">    <span class="keyword">if</span> (inputData.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        inputData</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">val</span> mid: <span class="type">Int</span> = inputData.length / <span class="number">2</span></span><br><span class="line">        <span class="keyword">val</span> (left, right) = inputData.splitAt(mid)</span><br><span class="line">        <span class="keyword">val</span> leftSorted = mergeSort(left, comparator)</span><br><span class="line">        <span class="keyword">val</span> rightSorted = mergeSort(right, comparator)</span><br><span class="line"></span><br><span class="line">        merge(leftSorted, rightSorted, comparator)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Merge-Sort-Runtime"><a href="#Merge-Sort-Runtime" class="headerlink" title="Merge Sort - Runtime"></a>Merge Sort - Runtime</h1><ul><li>Each level of the recursion has 2^i list of size n&#x2F;2^i</li><li>Recursion end when is n&#x2F;2^i &#x3D;&#x3D; 1<ul><li>i &#x3D; log(n)</li><li>log(n) levels of recursion</li></ul></li><li>Each level needs to merge a total of n elements across all sub-lists</li><li>If we can merge in O(n) time weâ€™ll have O(n log(n)) total runtime</li></ul><br><ul><li>Merge two sorted lists in O(n) time</li><li>Take advantage of each list being sorted</li><li>Start with pointers at the beginning of each list</li><li>Compare the two values at the pointers and find which come first based on the comparator<ul><li>Append it to a new list and advance that pointer</li></ul></li><li>When a pointer reaches the end of a list copy the rest of the contents</li></ul><br><h1 id="Merge-Sort-Merge"><a href="#Merge-Sort-Merge" class="headerlink" title="Merge Sort - Merge"></a>Merge Sort - Merge</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span></span>[<span class="type">T</span>](left: <span class="type">List</span>[<span class="type">T</span>], right: <span class="type">List</span>[<span class="type">T</span>], comparator: (<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">    <span class="keyword">var</span> leftPointer = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> rightPointer = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> sortedList: <span class="type">List</span>[<span class="type">T</span>] = <span class="type">List</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (leftPointer &lt; left.length &amp;&amp; rightPointer &lt; right.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (comparator(left.apply(leftPointer), right.apply(rightPointer))) &#123;</span><br><span class="line">            sortedList = sortedList :+ left.apply(rightPointer)</span><br><span class="line">            leftPointer += <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sortedList = sortedList :+ right.apply(rightPointer)</span><br><span class="line">            rightPointer += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (leftPointer &lt; left.length) &#123;</span><br><span class="line">        sortedList = sortedList :+ left.apply(leftPointer)</span><br><span class="line">        leftPointer += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (rightPointer &lt; right.length) &#123;</span><br><span class="line">        sortedList = sortedList :+ right.apply(rightPointer)</span><br><span class="line">        rightPointer += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sortedList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>YOU BANNED VAR THEN USED IT IN YOUR EXAMPLE!</strong></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">noVarMerge</span></span>[<span class="type">T</span>](left: <span class="type">List</span>[<span class="type">T</span>], right: <span class="type">List</span>[<span class="type">T</span>], comparator: (<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>):<span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">    noVarMergehHelper(<span class="type">List</span>(), left, right, comparator)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">noVarMergeHelper</span></span>[<span class="type">T</span>](accumulator: <span class="type">List</span>[<span class="type">T</span>], left: <span class="type">List</span>[<span class="type">T</span>], rightï¼š<span class="type">List</span>[<span class="type">T</span>], comparator:(<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">    <span class="keyword">if</span>(left.isEmpty)&#123;</span><br><span class="line">        accumlator.reverse ::: right</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(right.isEmpty)&#123;</span><br><span class="line">        accumlator.reverse ::: left</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(comparator(left.head, right.head))&#123;</span><br><span class="line">        noVarMergeHelper(left.head :: accumulator, left.drop(<span class="number">1</span>), right, comparator)</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        noVarMergeHelper(right.head :: accumulator, left, right.drop(<span class="number">1</span>), comparator)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Rewrite merge without using var<ul><li>Need to add elements to a List which requires reassignment</li><li>Avoid by using recursion</li><li>Each â€œreassignmentâ€ is made by creating a new stack frame with the new value stored in a parameter</li></ul></li></ul><h1 id="Writing-Recursive-Methods"><a href="#Writing-Recursive-Methods" class="headerlink" title="Writing Recursive Methods"></a>Writing Recursive Methods</h1><ul><li>Suggested apporach:<ul><li>Assume your recursive calls return the correct values</li><li>Write your method basedf on this assumption</li><li>Add a base case(s) for an input that has a tirvial return</li><li>Only write recursive calls that get closer to base case</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span></span>[<span class="type">T</span>](inputData: <span class="type">List</span>[<span class="type">T</span>], comparator: (<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">    <span class="keyword">val</span> mid: <span class="type">Int</span> = inputData.length / <span class="number">2</span></span><br><span class="line">    <span class="keyword">val</span> (left, right) = inputData.splitAt(mid)</span><br><span class="line">    <span class="keyword">val</span> leftSorted = mergeSort(left, comparator)</span><br><span class="line">    <span class="keyword">val</span> rightSorted = mergeSort(right, comparator)</span><br><span class="line"></span><br><span class="line">    merge(leftSorted, rightSorted, comparator)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><ul><li>Assume your recursive calls return the correct values</li><li>Write you method based on this assumption</li><li>The primary benefit of writing recursive methods &#x2F; fuinctions is that we can assume that the recursive calls are correct</li><li>If these calls are not correct, we have work to do elsewhere<ul><li>While writing the top level functionality, assume they are correct and fix the other issues if they are not</li></ul></li></ul><br>  <ul><li>Add a base case(s) for an input that has a trivial return value<ul><li>A simple input where the return value is trivial</li><li>Ex. An empty list, an empty String, 0, 1</li></ul></li><li>Add a conditional to your method to check for the base case(s)<ul><li>If the input is a base case, return the trivial solution</li><li>Else, run your code that makes the recursive call(s)</li></ul></li></ul><br><ul><li>Ensure your recursive calls always get closer to a base case]<ul><li>Base case is eventually reached and returned</li><li>Ex. Base case is 0, each recursive call decrease the input</li><li>Ex. Base case is empty String and an each recursive call removes a character from the input</li></ul></li><li>If youre recursive calls donâ€™t reach base case<ul><li>Infinite recursion</li><li>Stack overflow</li></ul></li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Restriction:</strong><br>No state is allowed in this question. Specifically, the keyword â€œvarâ€ is banned. (ie. You are expected to use a recursive solution)</p><p><strong>Question:</strong><br>In a package named â€œfunctionsâ€ create an object named Numbers with a method named fib that:</p><ul><li>Takes an Int as a parameter and returns the nth fibonacci number</li><li>Fibonacci numbers are equal to the sum of the previous two fibonacci numbers starting with 1 and 1 as the first two numbers in the sequence</li><li>Fibonacci numbers: 1, 1, 2, 3, 5, 8â€¦</li><li>fib(1) &#x3D;&#x3D; 1</li><li>fib(2) &#x3D;&#x3D; 1</li><li>fib(3) &#x3D;&#x3D; 2</li><li>fib(4) &#x3D;&#x3D; 3</li><li>Your method will not be tested with inputs &lt; 1</li><li>Your method will not be tested with inputs &gt; 46</li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestFibâ€ as a test suite that tests all the functionality listed above. (Do not test with inputs &lt; 1 or &gt; 46)</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec3-1:Sorting_Revisited</title>
      <link href="/cn/LO3-1-Sorting-Revisited/"/>
      <url>/cn/LO3-1-Sorting-Revisited/</url>
      
        <content type="html"><![CDATA[<h1 id="Sorting-Revisited"><a href="#Sorting-Revisited" class="headerlink" title="Sorting - Revisited"></a>Sorting - Revisited</h1><p>With First-Order Functions</p><h1 id="Sorting"><a href="#Sorting" class="headerlink" title="Sorting"></a>Sorting</h1><p>Order elements in a data structure according to a comparator function</p><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">val</span> numberSorted = numbers.sorted</span><br><span class="line">println(numberSorted) <span class="comment">// List(-23, -8, -4, 5, 7, 10)</span></span><br></pre></td></tr></table></figure><ul><li>The sorted method returns a new List containing the same elements as the original, but in sorted order</li><li>Integer values have a default comparator<ul><li>Less than function</li><li>If an element is less than another element, it must be placed before the other element</li></ul></li></ul><br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">val</span> numberSorted = numbers.sorted</span><br><span class="line">println(numberSorted) <span class="comment">// List(-23, -8, -4, 5, 7, 10)</span></span><br></pre></td></tr></table></figure><h1 id="Custom-Sorting-in-Scala"><a href="#Custom-Sorting-in-Scala" class="headerlink" title="Custom Sorting in Scala"></a>Custom Sorting in Scala</h1><ul><li>Sorting a list by the result of a function &#x2F; method</li><li>Calls the provided function &#x2F; method on each element and sorts by the default ordering of the returned values</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// sort by the result of a method (like setting the key in Python sorting)</span></span><br><span class="line"><span class="keyword">val</span> numberSorted = numbers.sortBy(<span class="type">Math</span>.abs)</span><br><span class="line">println(numberSorted) <span class="comment">// List(-4, 5, 7, -8, 10, -23)</span></span><br></pre></td></tr></table></figure><br><ul><li>Uses first-order functions &#x2F; methods</li><li>We just passed a method as an argument of another<ul><li>Yes, you can do that!</li><li>And you will do this often over the few weeks</li></ul></li></ul><br><ul><li>Passing a function &#x2F; method allows us to use the default sorting order with a computed value</li><li>What if we donâ€™t want sort by the default ordering?<ul><li>Ex.  Sort ints by decreasing order</li></ul></li></ul><br><ul><li>Sorting a list using a comparator function &#x2F; method</li><li>The comparator takes two values of the type being sorted<ul><li>Return true if the first parameter should come before the second in the sorted order</li><li>Return false otherwise (including ties)<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">val</span> numbersSorted = numbers.sortWith((a: <span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; a &gt; b)</span><br><span class="line"><span class="comment">// can be shortened to - numbers.sortWith(_ &gt; _)</span></span><br><span class="line">println(numbersSorted) <span class="comment">// List(10, 7, 5, -4, -8, -23)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>This is a first-order function</li><li>Provide the Parameter list and the body of the function</li><li>For sortWith, write a function that:<ul><li>Take 2 parameters matching the type of the List being sorted</li><li>Return a Boolean<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">val</span> numbersSorted = numbers.sortWith((a: <span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; a &gt; b)</span><br><span class="line"><span class="comment">// can be shortened to - numbers.sortWith(_ &gt; _)</span></span><br><span class="line">println(numbersSorted) <span class="comment">// List(10, 7, 5, -4, -8, -23)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Alternate setup</li><li>We can create the function and store it in a variable<ul><li>Type is (Int, Int) &#x3D;&gt; Boolean</li></ul></li><li>First-order functions are just values!<ul><li>Can be sorted in variabless, passed as arguments, returned from methods<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// sorted by a comparator function/method. This function sorts in decreasing order</span></span><br><span class="line"><span class="keyword">val</span> comparator: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Boolean</span> = (a: <span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; a &gt; b</span><br><span class="line"><span class="keyword">val</span> numbersSorted = numbers.sortWith(comparator)</span><br><span class="line"><span class="comment">// can be shortened to - numbers.sortWith(_ &gt; _)</span></span><br><span class="line">println(numversSorted) <span class="comment">// List(10, 7, 5, -4, -8, -23)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h1 id="First-Order-Functions"><a href="#First-Order-Functions" class="headerlink" title="First-Order Functions"></a>First-Order Functions</h1><ul><li>This is the entire definition of a first-order function<ul><li>Creates an object of type function and returns its reference</li><li>Parameter list in parentheses using usual syntax</li><li>Use &#x3D;&gt; to separate the parameter list from the body of the function</li><li>Code that follows is the body of the function<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// sorted by a comparator function/method. This function sorts in decreasing order</span></span><br><span class="line"><span class="keyword">val</span> comparator: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Boolean</span> = (a: <span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; a &gt; b</span><br><span class="line"><span class="keyword">val</span> numbersSorted = numbers.sortWith(comparator)</span><br><span class="line"><span class="comment">// can be shortened to - numbers.sortWith(_ &gt; _)</span></span><br><span class="line">println(numversSorted) <span class="comment">// List(10, 7, 5, -4, -8, -23)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Can use the usual code block syntax with {}<ul><li>Use this syntax if you want more than 1 line of code in your function<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sorted by a comparator function/method. This function sorts in decreasing order</span></span><br><span class="line"><span class="keyword">val</span> comparator: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Boolean</span> = (a: <span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">    a &gt; b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> numbersSorted = numbers.sortWith(comparator)</span><br><span class="line"><span class="comment">// can be shortened to - numbers.sortWith(_ &gt; _)</span></span><br><span class="line">println(numversSorted) <span class="comment">// List(10, 7, 5, -4, -8, -23)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>This is the type of the function<ul><li>Types of the parameters in parentheses</li><li>Use &#x3D;&gt; to separate the parameter types from the return type</li><li>Then the return type<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = <span class="type">List</span>(<span class="number">5</span>, <span class="number">-23</span>, <span class="number">-8</span>, <span class="number">7</span>, <span class="number">-4</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// sorted by a comparator function/method. This function sorts in decreasing order</span></span><br><span class="line"><span class="keyword">val</span> comparator: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Boolean</span> = (a: <span class="type">Int</span>, b: <span class="type">Int</span>) =&gt; a &gt; b</span><br><span class="line"><span class="keyword">val</span> numbersSorted = numbers.sortWith(comparator)</span><br><span class="line"><span class="comment">// can be shortened to - numbers.sortWith(_ &gt; _)</span></span><br><span class="line">println(numversSorted) <span class="comment">// List(10, 7, 5, -4, -8, -23)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>A function is a value with a type<ul><li>A function is an object stored on the heap</li></ul></li><li>Can be used just like any other type</li></ul><br><ul><li>First-order functions in calculator<ul><li>All operations take 2 Doubles and return a Double</li><li>Can store operations in a variable</li><li>Can reduce the number of states and complexity of your Calculator<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operation: (<span class="type">Double</span>, <span class="type">Double</span>) =&gt; <span class="type">Double</span> = (x: <span class="type">Double</span>, y: <span class="type">Double</span>) =&gt; x * y</span><br></pre></td></tr></table></figure></li></ul></li></ul><br><ul><li>Sorting a list using a comparator <strong>method</strong></li><li>Can sort custom types with custom methods<ul><li>Pass methods by name just like passing a variable storing a function</li></ul></li><li>Thereâ€™s no stopping the ways you can sort!<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compareAnimals</span></span>(a1: <span class="type">Animal</span>, a2: <span class="type">Animal</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">    al.name.toLowerCase() &lt; a2.name.toLowerCase()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> animals: <span class="type">List</span>[<span class="type">Animal</span>] = <span class="type">List</span>(<span class="keyword">new</span> <span class="type">Cat</span>(<span class="string">&quot;morris&quot;</span>), <span class="keyword">new</span> <span class="type">Dog</span>(<span class="string">&quot;Finn), new Dog(&quot;</span><span class="type">Snoopy</span><span class="string">&quot;), new Cat(&quot;</span><span class="type">Garfield</span><span class="string">&quot;))</span></span><br><span class="line"><span class="string">val animalsSorted = animals.sortWith(compareAnimals)</span></span><br><span class="line"><span class="string">println(animalsSorted) // List(Finn, Garfield, morris, Snoopy)</span></span><br></pre></td></tr></table></figure></li></ul><h1 id="Selection-Sort"><a href="#Selection-Sort" class="headerlink" title="Selection Sort"></a>Selection Sort</h1><ul><li>Iterate over the indices of a list<ul><li>For each index, select the element that belongs there in the final sorted order</li><li>Swap the current value with the correct one</li></ul></li></ul><p><img src="/cn/LO3-1-Sorting-Revisited/sort-1.png" alt="Sort"></p><br><ul><li>Start with the first index</li><li>Find the element that belongs there by taking the min of all values</li><li>Swap the values</li><li>Donâ€™t have to recheck elements that are alreadt at the correct index</li></ul><p><img src="/cn/LO3-1-Sorting-Revisited/sort-2.png" alt="Sort"></p><br><p><img src="/cn/LO3-1-Sorting-Revisited/sort-3.png" alt="Sort"></p><br><ul><li>The algorithm only needs to know how to compare 2 values<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">intSelectionSort</span></span>(inputData: <span class="type">List</span>[<span class="type">Int</span>], comparator: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">Int</span>] = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// copy only the reference of the input</span></span><br><span class="line">    <span class="keyword">var</span> data: <span class="type">List</span>[<span class="type">Int</span>] = inputData</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i &lt;- data.indices) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// find the min value/index from i to the end of the list</span></span><br><span class="line">        <span class="keyword">var</span> minFound = data.apply(i)</span><br><span class="line">        <span class="keyword">var</span> minIndex = i</span><br><span class="line">        <span class="keyword">for</span> (j &lt;- i until data.size) &#123;</span><br><span class="line">            <span class="keyword">val</span> currentValue = data.apply(j)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// make decisions based on the given comparatpr (this function can be thought of as a less than operator)</span></span><br><span class="line">            <span class="keyword">if</span> (comparator(currentValue, minFound)) &#123;</span><br><span class="line">                minFound = currentValue</span><br><span class="line">                minIndex = j</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// swap the value at i with the min value</span></span><br><span class="line">        data = data.updated(minIndex, data.apply(i))</span><br><span class="line">        data = data.updated(i, minFound)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// return the new list</span></span><br><span class="line">    data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><p><strong>But how do we compare 2 values?</strong>              </p><ol><li>Take a comparator as a parameter just like sortWith</li><li>Call the comparator whenever we need to compare 2 values</li></ol><h1 id="Type-Parameters"><a href="#Type-Parameters" class="headerlink" title="Type Parameters"></a>Type Parameters</h1><ul><li>But what if we want to sort custom types?</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> animals: <span class="type">List</span>[<span class="type">Animal</span>] = <span class="type">List</span>(<span class="keyword">new</span> <span class="type">Cat</span>(<span class="string">&quot;morris&quot;</span>), <span class="keyword">new</span> <span class="type">Dog</span>(<span class="string">&quot;Finn), new Dog(&quot;</span><span class="type">Snoopy</span><span class="string">&quot;), new Cat(&quot;</span><span class="type">Garfield</span><span class="string">&quot;))</span></span><br><span class="line"><span class="string">val animalsSorted = animals.sortWith(compareAnimals)</span></span><br><span class="line"><span class="string">println(animalsSorted) // List(Finn, Garfield, morris, Snoopy)</span></span><br></pre></td></tr></table></figure><ul><li>Our selection sort only works with Ints</li><li>We can write another method to sort Animals<ul><li>And another for every type we want to sort? .. no</li></ul></li><li>Weâ€™ll take the <strong>type</strong> as a <strong>parameter</strong> of our method<ul><li>A â€œ<strong>type parameter</strong>â€œ</li></ul></li></ul><br><ul><li>Type parameters come before the parameter list</li><li>Use [] instead of ()</li><li>Can use this generic type throughout this method<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectionSort</span></span>[<span class="type">Type</span>](inputData: <span class="type">List</span>[<span class="type">Type</span>], comparator: (<span class="type">Type</span>, <span class="type">Type</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">Type</span>] = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> data: <span class="type">List</span>[<span class="type">Type</span>] = inputData</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- data.indices) &#123;</span><br><span class="line">        <span class="keyword">var</span> minFound = data.apply(i)</span><br><span class="line">        <span class="keyword">var</span> minIndex = i</span><br><span class="line">        <span class="keyword">for</span> (j &lt;- i until data.size) &#123;</span><br><span class="line">            <span class="keyword">val</span> currentValue = data.apply(j)</span><br><span class="line">            <span class="keyword">if</span> (comparator(currentValue, minFound)) &#123;</span><br><span class="line">                minFound = currentValue</span><br><span class="line">                minIndex = j</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data = data.updated(minIndex, data.apply(i))</span><br><span class="line">        data = data.updated(i, minFound)</span><br><span class="line">    &#125;</span><br><span class="line">    data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>We can choose the type name</li><li>Generic type names are often shortened to 1 character<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectionSort</span></span>[<span class="type">T</span>](inputData: <span class="type">List</span>[<span class="type">T</span>], comparator: (<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> data: <span class="type">List</span>[<span class="type">T</span>] = inputData</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- data.indices) &#123;</span><br><span class="line">        <span class="keyword">var</span> minFound = data.apply(i)</span><br><span class="line">        <span class="keyword">var</span> minIndex = i</span><br><span class="line">        <span class="keyword">for</span> (j &lt;- i until data.size) &#123;</span><br><span class="line">            <span class="keyword">val</span> currentValue = data.apply(j)</span><br><span class="line">            <span class="keyword">if</span> (comparator(currentValue, minFound)) &#123;</span><br><span class="line">                minFound = currentValue</span><br><span class="line">                minIndex = j</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data = data.updated(minIndex, data.apply(i))</span><br><span class="line">        data = data.updated(i, minFound)</span><br><span class="line">    &#125;</span><br><span class="line">    data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><br><ul><li>The type parameter can be inferred as long as the data and comparator types match<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> animals: <span class="type">List</span>[<span class="type">Animal</span>] = <span class="type">List</span>(<span class="keyword">new</span> <span class="type">Cat</span>(<span class="string">&quot;morris&quot;</span>), <span class="keyword">new</span> <span class="type">Dog</span>(<span class="string">&quot;Finn), new Dog(&quot;</span><span class="type">Snoopy</span><span class="string">&quot;), new Cat(&quot;</span><span class="type">Garfield</span><span class="string">&quot;))</span></span><br><span class="line"><span class="string">val animalsSorted = animals.sortWith(compareAnimals)</span></span><br><span class="line"><span class="string">println(animalsSorted) // List(Finn, Garfield, morris, Snoopy)</span></span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectionSort</span></span>[<span class="type">T</span>](inputData: <span class="type">List</span>[<span class="type">T</span>], comparator: (<span class="type">T</span>, <span class="type">T</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">T</span>] = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> data: <span class="type">List</span>[<span class="type">T</span>] = inputData</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- data.indices) &#123;</span><br><span class="line">        <span class="keyword">var</span> minFound = data.apply(i)</span><br><span class="line">        <span class="keyword">var</span> minIndex = i</span><br><span class="line">        <span class="keyword">for</span> (j &lt;- i until data.size) &#123;</span><br><span class="line">            <span class="keyword">val</span> currentValue = data.apply(j)</span><br><span class="line">            <span class="keyword">if</span> (comparator(currentValue, minFound)) &#123;</span><br><span class="line">                minFound = currentValue</span><br><span class="line">                minIndex = j</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data = data.updated(minIndex, data.apply(i))</span><br><span class="line">        data = data.updated(i, minFound)</span><br><span class="line">    &#125;</span><br><span class="line">    data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="Selection-Sort-1"><a href="#Selection-Sort-1" class="headerlink" title="Selection Sort"></a>Selection Sort</h1><ul><li>This all works..</li><li><strong>But itâ€™s really slow!</strong></li><li>The algorithm is inefficient â€“ O(n^2)</li><li>My implementation is even slower â€“ O(n^3)<ul><li>Very inefficient use of Lists</li></ul></li></ul><br><ul><li>More efficiency coming soon</li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong><br>In a package named â€œfunctionsâ€ create an object named Generics with a method named <code>mapFilter</code> that:</p><ul><li>Takes a type parameter T </li><li>As parameters takes<ul><li>A Map of Ints to Tâ€™s</li><li>A function that takes an Int and returns a Boolean</li></ul></li><li>Returns a List of Tâ€™s<ul><li>The returned List will contain only the values in the input map that are mapped to by keys for which the input function returns true</li><li>eg. We can think of the input function as a filter that decides which Map values will be added to the return list. If the filter returns true on a key, they value the key maps to will be in the returned list</li><li>The order of the output List is not defined in this problem (You should be sorting lists in your testing)</li></ul></li></ul><p><strong>Testing:</strong><br>In a package named â€œtestsâ€ create a class named â€œTestFilterMapâ€ as a test suite that tests all the functionality listed above</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec2-6:State_Pattern</title>
      <link href="/cn/LO2-6-State-Pattern/"/>
      <url>/cn/LO2-6-State-Pattern/</url>
      
        <content type="html"><![CDATA[<h1 id="State-Pattern-Demo"><a href="#State-Pattern-Demo" class="headerlink" title="State Pattern - Demo!"></a>State Pattern - Demo!</h1><p>Go check the video, no content on this page!!!</p><h1 id="State-Pattern-Closing-Thoughts"><a href="#State-Pattern-Closing-Thoughts" class="headerlink" title="State Pattern - Closing Thoughts"></a>State Pattern - Closing Thoughts</h1><p>State pattern trade-offs</p><ul><li><strong>Pros</strong><ul><li>Oranizes code when a single class can have very different behavior in different circumstances</li><li>Each implemented method is only concerned with the reaction to 1 event (API call) in 1 state</li><li>Easy to change or add new behavior after the state pattern is setup</li></ul></li><li><strong>Cons</strong><ul><li>Can add complexity if there are only a few states or if behavior does not change significantly across states</li><li>Spreading the behavior for 1 class across many classes can look complex and require clicking through many files to understand all the behavior</li></ul></li></ul><br><ul><li>Do not use the state pattern everywhere<ul><li>Decide if a class is complex enough to benefit from this pattern before applying it</li></ul></li><li>The state pattern in this class<ul><li>I have to force you to use it by removing control flow (Not realistic)</li><li>Used to reinforce your understanding of <strong>inheritance</strong> and <strong>polymorphism</strong></li><li>Used as an example of a design pattern that can help organize your code</li></ul></li><li>When youâ€™re not forced to use this pattern<ul><li>Weight the pros and cons to decide when it is the best approach</li></ul></li></ul><h1 id="Live-Coding"><a href="#Live-Coding" class="headerlink" title="Live Coding!"></a>Live Coding!</h1><p>-.-</p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong>        </p><ul><li>Simulate a Car without using control flow (ie. Use the state pattern)</li><li>In a package named oop.car, create a Class named Car with no constructor parameters</li><li>The Car must contain the following methods as its API:<ul><li>shiftToDrive(): Unit</li><li>shiftToPark(): Unit</li><li>shiftToReverse(): Unit</li><li>accelerate(): Unit</li><li>brake(): Unit</li><li>velocity(): Int</li></ul></li></ul><br><p><strong>Tests</strong>             </p><ul><li>In the tests package, write a test suite named TestCar that will test all the functionality on the spec sheet<ul><li>Note: Only call the API methods while testing. Other classes&#x2F;methods&#x2F; variables you create will not exist in the grader submissions</li></ul></li></ul><hr><p><strong>Car Spec Sheet</strong>           </p><ul><li>Car is initially in Park</li><li>Initial velocity is 0</li><li>When the Car is in Park:<ul><li>Accelerating and braking have no effect</li><li>The car can shift into drive or reverse</li></ul></li><li>When the car is in Drive:<ul><li>Calling accelerate will increase the velocity of the car by 10</li><li>Calling brake will completely stop the car (velocity of 0)</li><li>The car cannot shift into Reverse</li><li>The car cannot shift into Park while moving</li></ul></li><li>When the car is in Reverse:<ul><li>Calling accelerate will <strong>decrease</strong> the velocity of the car by 5 (negative velocity)</li><li>Calling brake will completely stop the car (velocity of 0)</li><li>The car cannot shift into Drive</li><li>The car cannot shift into Park while moving</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec2-5:State_Pattern</title>
      <link href="/cn/LO2-5-State-Pattern/"/>
      <url>/cn/LO2-5-State-Pattern/</url>
      
        <content type="html"><![CDATA[<h1 id="State-Pattern-More-Example"><a href="#State-Pattern-More-Example" class="headerlink" title="State Pattern - More Example"></a>State Pattern - More Example</h1><p>Check the example Jumper below:)</p><h1 id="Jumper"><a href="#Jumper" class="headerlink" title="Jumper"></a>Jumper</h1><ul><li><p>2 Player vertical scrolling platform</p></li><li><p>Screen scrolls up as the players climb the platforms</p></li><li><p>The bottom of the screen is game over</p><br></li><li><p><strong>Goal:</strong> Climb faster than the other player</p><br></li></ul><p>Weâ€™ve seen how physics was added to the game        </p><ul><li>Platforms &#x2F; Wall extend StaticObject</li><li>Players extend DynamicObject</li><li>FUlly compatible with the Physics Engine HW<br></li></ul><h1 id="Jumper-Physics"><a href="#Jumper-Physics" class="headerlink" title="Jumper - Physics"></a>Jumper - Physics</h1><p>Walls and Platforms extend StaticObject</p><ul><li>Add behavior after collision with player</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JumperObject</span>(<span class="params">location: <span class="type">PhysicsVector</span>, dimensions: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">StaticObject</span>(<span class="params">location, dimensions</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> objectID: <span class="type">Int</span> = <span class="type">JumperObject</span>.nextID</span><br><span class="line">    <span class="type">JumperObject</span>.nextID += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Platform</span>(<span class="params">location: <span class="type">PhysicsVector</span>, dimensions: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">JumperObject</span> (<span class="params">location, dimensions</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">collideWithDynamicObject</span></span>(otherObject: <span class="type">DynamicObject</span>, face: <span class="type">Integer</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (face == <span class="type">Face</span>.top) &#123;</span><br><span class="line">            otherObject.velocity.z = <span class="number">0.0</span></span><br><span class="line">            otherObject.location.z = <span class="keyword">this</span>.location.z + <span class="keyword">this</span>.dimensions.z</span><br><span class="line">            otherObject.onGround()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span>(<span class="params">location: <span class="type">PhysicsVector</span>, dimensions: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">JumperObject</span>(<span class="params">location, dimensions</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">collideWithDynamicObject</span></span>(otherObject: <span class="type">DynamicObject</span>, face: <span class="type">Integer</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">if</span>(face == <span class="type">Face</span>.negativeX)&#123;</span><br><span class="line">            otherObject.velocity.x = <span class="number">0.0</span></span><br><span class="line">            otherObject.location.x = <span class="keyword">this</span>.location.x - otherObject.dimensions.x</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (face == <span class="type">Face</span>.positiveX)&#123;</span><br><span class="line">            otherObject.velocity.x = <span class="number">0.0</span></span><br><span class="line">            otherObject.location.x = <span class="keyword">this</span>.location.x + <span class="keyword">this</span>.dimensions.x</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><p>Players extend DynamicObject</p><ul><li>Physics engine applies since all objects in our game are StaticObjects or DynamicObject</li><li>The Player class will set its own velocity based on user inputs<ul><li>Velocities are updated by gravity and collisions</li><li>User inputs are effectively the â€œinendedâ€ velocity</li></ul></li><li>How does the Player set its velocity?</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">playerLocation: <span class="type">PhysicsVector</span>, playerDimensions: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">DynamicObject</span>(<span class="params">playerLocation, playerDimensions</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Jumper-Player"><a href="#Jumper-Player" class="headerlink" title="Jumper - Player"></a>Jumper - Player</h1><p>How does the Player set its velocity?       </p><ul><li>User inputs</li><li>States! &lt;â€“ Good stuff</li></ul><br><p>Only 3 inputs to control each player         </p><ul><li>Left button</li><li>Right button</li><li>Jump button</li></ul><br><p>Player 1:         </p><ul><li>a,d,w &#x2F;&#x2F;wasd æ–¹å‘é”®<br>Player 2:          </li><li>Left, right, up arrows</li></ul><h1 id="Jumper-Player-Behavior"><a href="#Jumper-Player-Behavior" class="headerlink" title="Jumper Player Behavior"></a>Jumper Player Behavior</h1><p>Each player should:       </p><ul><li>Walk left and right when keys are pressed</li><li>Jump when jump is pressed</li><li>Jump higher if walking instead of standing still</li><li>Jump at different heights based on how long the jump button is held after a jump</li><li>Move left and right slower while in the air if the direction is changed</li><li>Jump through platforms while jumping up</li><li>Land on platforms while falling down</li><li>Fall if walked off a ledge</li><li>Block all inputs if the bottom of the screen is reached</li></ul><br><p>We could write all this behavior without the state patten      </p><ul><li>Code will likely be hard to follow</li><li>Diffcult to add new features</li></ul><br><p>How to implement these features?</p><ul><li>Write your API<ul><li>What methods will change behavior depending on the current state of the object</li><li>These methos define your API ans are declared in the state abstract class</li></ul></li><li>Decide what states should exist<ul><li>Any situation where the behavior is different should be a new state</li></ul></li><li>Determine the transitions between states</li></ul><br><p>Each player should      </p><ul><li>Walk left and right <strong>when keys are pressed</strong></li><li>Jump <strong>when jump is pressed</strong></li><li>Jump higher if walking instead of standing still</li><li>Jump at different heights based on <strong>how long the jump button is held</strong> after a jump</li><li>Move left and right slower while in the air <strong>if the direction is changed</strong></li><li>Jump throught platforms while jumping up</li><li><strong>Land on platforms</strong> while fallin down</li><li>Fall if <strong>walked off a ledge</strong></li><li>Block <strong>all inputs</strong> if the bottom of the screen is reached</li></ul><p>API:        </p><ul><li>left &#x2F; right &#x2F; jump pressed or realeased or released<ul><li>6 methods</li></ul></li><li>Land on a platform</li></ul><p>How to implement these features?         </p><ul><li>Decide what stats should exits</li></ul><br><p><strong>States:</strong>            </p><ul><li>Standing</li><li>Walking</li><li>Jumping &#x2F; Rising</li><li>Falling</li><li>Dead (Bellow Screen)</li></ul><br><p><strong>State Transitions:</strong>          </p><ul><li>Standing -&gt; Walking<ul><li>left &#x2F; right pressed</li></ul></li><li>Walking -&gt; Standing<ul><li>left &#x2F; right pressed</li></ul></li><li>Walking &#x2F; Standing -&gt; Jumping<ul><li>Jump pressed</li></ul></li><li>Falling -&gt; Standing<ul><li>Land on a platform</li></ul></li><li>Walking -&gt; Falling<ul><li>Walk off a platform</li></ul></li><li>Jumping -&gt; Falling<ul><li>Apex of jump reached</li></ul></li><li>Any -&gt; GameOver<ul><li>Reach the bottom of the screen</li></ul></li></ul><br><p>Letâ€™s visualize the states and transitions in a state diagram         </p><p><img src="/cn/LO2-5-State-Pattern/JumperPlayerBehavior-1.png" alt="Jumper Player Behavior"></p><p>For each state implement the API methods with the desired havior in that state      </p><ul><li>Add default behavior in the state subclass</li></ul><br><p>Use inheritance to limit duplicate code      </p><ul><li>Factor out common behavior between states into new class</li></ul><p><img src="/cn/LO2-5-State-Pattern/JumperPlayerBehavior-2.png" alt="Jumper Player Behavior"></p><h1 id="Adding-Functionality"><a href="#Adding-Functionality" class="headerlink" title="Adding Functionality"></a>Adding Functionality</h1><p><strong>Task: Add a double jumper to Jumper</strong>     </p><ul><li>How can we add a double jump?<ul><li>Players can jump 1 additional time while in the air</li></ul></li></ul><br><ul><li>With poor design<ul><li>This could be extremely difficult!</li><li>May required modifying a significant amount of existing code</li></ul></li></ul><br><ul><li>With our state patetrn<ul><li>No Problem at all</li></ul></li></ul><br><ul><li>Add functionality to existing states<ul><li>Rising and Falling states now react to the jump button by jumping again (Set velocity.z to the jump velocity)</li></ul></li><li>Weâ€™ll add new states<ul><li>RisingAfterDoubleJump &#x2F; FallingAfterDoubleJump</li><li>Extend Rising &#x2F; Falling resprectively</li><li>Override the jump button press to do nothing</li></ul></li><li>Update state transitions<ul><li>Pree jump from Rising &#x2F; Falling transitions to the resprective AfterDoubleJump state</li><li>Reaching the apex in RisingAfterDoubleJump transitions to FallingAfterDoubleJump (Not Falling)</li></ul></li></ul><br><ul><li>This task could have been completed with a boolean flag instead of using new states</li><li>If this approach is used for many features the code will be harder to maintian</li><li><strong>More to the point:</strong> What if your professor says you canâ€™t use control flow, but you have a situation where a button should only work once?<ul><li>Try adding more states</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> usedDoubleJump = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">jumpPressed</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">this</span>.usedDoubleJump) &#123;</span><br><span class="line">        player.velocity.z = player.standingJumpVelocity</span><br><span class="line">        <span class="keyword">this</span>.usedDoubleJump = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/LO2-5-State-Pattern/JumperPlayerBehavior-3.png" alt="Jumper Player Behavior">         </p><p><img src="/cn/LO2-5-State-Pattern/JumperPlayerBehavior-4.png" alt="Jumper Player Behavior"></p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question</strong>:            </p><ul><li>Simulate a TV without using control flow (ie. Use the state pattern)</li><li>In a package named oop.tv, create a Class named TV with no constructor parameters</li><li>The TV class must contain the following methods as its API:<ul><li>volumeUp(): Unit </li><li>volumeDown(): Unit </li><li>mute(): Unit power(): Unit </li><li>currentVolume(): Int</li></ul></li><li>In the tests package, write a test suite named TestTV that will test all the functionality on the spec sheet<ul><li>Note: Only call the API methods while testing. Other methods&#x2F; variables you create will not exist in the grader submissions</li></ul></li></ul><br><p><strong>TV Spec Sheet</strong>         </p><ul><li>TV is initially off when created</li><li>Initial volume is 5</li><li>When the TV is off:<ul><li>Volume up&#x2F;down and mute buttons do nothing</li><li>Current volume is 0</li></ul></li><li>The power button turns the TV on&#x2F;off</li><li>Volume up button increases volume by 1 up to a maximum volume of 10</li><li>Volume down button decreases volume by 1 down to minimum volume of 0</li><li>Pressing the mute button mutes the TV </li><li>When the TV is muted:<ul><li>Current volume is 0</li><li>Pressing the mute, volume up, or volume down buttons will unmute the TV and restore the volume to the pre- mute volume (Do not in&#x2F;decrease the volume)</li></ul></li><li>When turning the TV back on, the volume should return to its value when the TV was last on<ul><li>When the TV is first turned on the volume will be 5</li></ul></li><li>If the TV was turned off while muted, when it is turned back on it should not be muted</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec2-4:State Pattern</title>
      <link href="/cn/State-Pattern/"/>
      <url>/cn/State-Pattern/</url>
      
        <content type="html"><![CDATA[<p><strong>State Pattern</strong>             </p><h1 id="Design-Patterns"><a href="#Design-Patterns" class="headerlink" title="Design Patterns"></a>Design Patterns</h1><ul><li><p>Approaches to common programming design problems</p></li><li><p>There are many design patterns</p><ul><li>Weâ€™ll only focus on the state pattern in this course</li><li>For more patterns, search â€œThe Gang of Fourâ€</li></ul></li><li><p>The Primary goal of design patterns is to simplify the Design and Maintainability of our programs</p></li><li><p>Applies Polymorphism</p></li><li><p>Every object contains state and behavior</p></li><li><p>We use state variables to change the state of an object and its behavior can depend on this state</p></li><li><p><strong>What if we want to significantly change the behavior of an object?</strong></p><ul><li>Use if statements?<ul><li>if(condition){someBehavior()}</li><li>else{completelyDifferentBehavior}</li></ul></li><li>This will work, but what about maintainability?</li></ul></li><li><p>What if we want mant different behaviors?</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(condition)&#123;</span><br><span class="line">    someBehavior()</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(otherCondition1)&#123;</span><br><span class="line">    otherBehavior1()</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(otherCondition2)&#123;</span><br><span class="line">    otherBehavior2()</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(otherCondition3)&#123;</span><br><span class="line">    otherBehavior3()</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    completelyDifferentBehavior()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>This would all be in a single method</p><ul><li>Hard to read</li><li>Hard to maintain</li><li>Need to re-test existing functionality each time a condition is added</li></ul></li><li><p>Letâ€™s try using the <strong>state pattern</strong> as an alternative</p></li><li><p>Instead of storing each behavior in the same class, we defer functionality to a state <strong>object</strong></p></li><li><p>Have a state variable containing the current state as an <strong>object</strong></p></li><li><p>Change the state as needed</p></li><li><p>Decisions made on type(Polymorphism) not value (Conditions)</p></li><li><p>Modularizes code</p><ul><li>More, but smallerm pieces of functionality</li></ul></li><li><p>Easy to add new features without breaking tested features</p></li><li><p>State is represented by an <strong>abstract class</strong> (or trait, interface)</p><ul><li>Defines the methods that can be called (API)</li></ul></li><li><p>Extend the state class for each concrete state</p><ul><li>One class for each possible state</li></ul></li><li><p>Each state will have a reference to the object to which it is attached</p><ul><li>Use this reference to access other state variables</li><li>Use this reference to change state</li></ul></li></ul><h1 id="State-Pattern-Example"><a href="#State-Pattern-Example" class="headerlink" title="State Pattern - Example"></a>State Pattern - Example</h1><ul><li><p>OK, but what does all that actually mean?</p></li><li><p>Letâ€™s use the cool-headed Bruce Banner as an example</p><ul><li>Bruce is a world-class scientist</li><li>Bruce can successfully drive a car</li><li>Bruce is not very helpful in a fight<br><img src="/cn/State-Pattern/image/drbanner.png" alt="Dr Banner"></li></ul></li><li><p>However, Make Bruce angry and heâ€™ll become The Incredible Hulk!</p><ul><li>Smashes cars</li><li>Great in a fight</li><li>Out of control!<br><img src="/cn/State-Pattern/image/hulk.png" alt="Hulk"></li></ul></li><li><p>One man</p></li><li><p>Two significantly different behaviors depending on his current state</p></li><li><p>To simulate Bruce in a program, we will create one BruceBanner class containing the behavior in both states</p></li><li><p>Bruce Banner can use cars and fight very differently depending on his state</p></li><li><p>Defer to a State object to determine how he behaves</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BruceBanner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> state: <span class="type">State</span> = <span class="keyword">new</span> <span class="type">DrBanner</span>(<span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeAngry</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.makeAngry()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calmDown</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.calmDown()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useCar</span></span>(car: <span class="type">Car</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.useCar(car)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fight</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.fight()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Ceate State as an abstract class to define all the methods each state must contain(API)</p></li><li><p>Extend State for each possible concrete state</p></li><li><p>Implement the method for each state</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">State</span>(<span class="params">banner: <span class="type">BruceBanner</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeAngry</span></span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calmDown</span></span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">yseCar</span></span>(car: <span class="type">Car</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fight</span></span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BruceBanner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> state: <span class="type">State</span> = <span class="keyword">new</span> <span class="type">DrBanner</span>(<span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeAngry</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.makeAngry()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calmDown</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.calmDown()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useCar</span></span>(car: <span class="type">Car</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.useCar(car)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fight</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.fight()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DrBanner</span>(<span class="params">banner: <span class="type">BruceBanner</span></span>) <span class="keyword">extends</span> <span class="title">State</span>(<span class="params">banner</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">makeAngry</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        banner.state = <span class="keyword">new</span> <span class="type">TheHulk</span>(banner)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">calmDown</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;already calm&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">useCar</span></span>(car: <span class="type">Car</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        car.drive(<span class="literal">false</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">fight</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;this won&#x27;t end well&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TheHulk</span>(<span class="params">banner: <span class="type">BruceBnner</span></span>) <span class="keyword">extends</span> <span class="title">State</span>(<span class="params">banner</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">makeAngry</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;already angry&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">calmDown</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        banner.state = <span class="keyword">new</span> <span class="type">DrBanner</span>(banner)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">useCar</span></span>(car: <span class="type">Car</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        car.smash()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">fight</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;Hulk Smash!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/State-Pattern/image/StatePatternEx1.png" alt="StatePattern"><br><img src="/cn/State-Pattern/image/StatePatternEx2.png" alt="StatePattern"></p></li><li><p>With two states we could have easily used a single conditional and a boolean flag to store the state</p><ul><li>Arguably simpler than using the state pattern</li></ul></li><li><p>The true power of this pattern comes when we have more states</p></li><li><p>Meet Professor Hulk</p></li><li><p>Bruce Banner transformed as the Hulk with full control</p><ul><li>Can drive a car <strong>and</strong> is great in a fight</li></ul></li><li><p>To add the new state</p><ul><li>Create a new class and implement the State methods</li><li>Add a state transition to enter the new state</li></ul></li><li><p><strong>Did not modify any existing functionality!</strong></p></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BruceBanner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> state: <span class="type">State</span> = <span class="keyword">new</span> <span class="type">DrBanner</span>(<span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeAngry</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.makeAngry()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calmDown</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.calmDown()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useCar</span></span>(car: <span class="type">Car</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.useCar(car)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fight</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.fight()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProfessorHulk</span>(<span class="params">banner: <span class="type">BruceBanner</span></span>) <span class="keyword">extends</span> <span class="title">State</span>(<span class="params">banner</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">makeAngry</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;I&#x27;m always angry&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">calmDown</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;OK&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">useCar</span></span>(car: <span class="type">Car</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        car.drive(<span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">fight</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;Smash carefully&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/State-Pattern/image/StatePatternEx3.png" alt="StatePattern"></p><ul><li><strong>State Diagrams</strong><ul><li>Visualize <strong>states</strong> and <strong>state transitions</strong></li><li>Very helpful while designing with the state pattern</li></ul></li><li>The state diagram for Bruch Banner is as follows</li></ul><p><img src="/cn/State-Pattern/image/SPDiagrams.png" alt="Diagrams"></p><h1 id="State-Pattern-Design"><a href="#State-Pattern-Design" class="headerlink" title="State Pattern - Design"></a>State Pattern - Design</h1><ul><li>Write your API<ul><li>What methods will change behavior depending on the current state of the obeject</li><li>Theses methods define your API and are declared in the State class</li></ul></li><li>Decide what states should exist<ul><li>Any situation where the behavior is different should be a new state</li></ul></li><li>Determine the transitions between states</li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>No Control Flow</strong> allowed for this lecture question! - Same rules as the Calculator&#x2F;Microwave HW<br>We will simulate some character behavior in a platforming game where the player can run, duck, and stand still  </p><ul><li>In a package named <strong>oop.platformer</strong> write a class named <strong>Player</strong> with the following functionality</li></ul><p><strong>Methods:</strong></p><ul><li>duck(): Unit<ul><li>Enters the ducking state. Cannot transition from running to ducking</li></ul></li><li>standStill(): Unit<ul><li>Enters the standing state</li></ul></li><li>run(): Unit<ul><li>Enters the running state. Cannot transition from ducking to running</li></ul></li><li>jumpHeight(): Int<ul><li>Returns 4 if ducking, 3 if standing, and 6 if running</li></ul></li><li>movementSpeed(): Int<ul><li>Returns 1 if ducking, 5 if standing, and 12 if running</li></ul></li></ul><p>The initial state of the Player is standing. The Player constructor takes no parameters</p><p><strong>Test</strong>         </p><ul><li>In the tests package, write a test suite named <strong>TestPlayer</strong> that will test all this functionality.<ul><li>Note: Only call the API methods while testing. Other methods&#x2F;variables you create will not exist in the grader submissions</li></ul></li></ul><p><strong>You cannot have any control flow in the code you submit, including your tests. If you have all your lecture questions in a single project, make sure you only submit your code for this LQ</strong>           </p><p>To complete this lecture question you are strongly encouraged to use the state pattern. It is possible to use different approaches, though using the state pattern will give you more practice for the HW              </p><p><img src="/cn/State-Pattern/image/lq24.png" alt="Lecture Question"></p><p><strong>Note:</strong> You may have to start a new project for this question. Any control flow in your zip file will cause an error even if itâ€™s in an unrelated package</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec2-3:JSON</title>
      <link href="/cn/JSON/"/>
      <url>/cn/JSON/</url>
      
        <content type="html"><![CDATA[<p>JSON<br>An Application of Polymorphism</p><h1 id="JSON-Reminder"><a href="#JSON-Reminder" class="headerlink" title="JSON - Reminder"></a>JSON - Reminder</h1><ul><li><p>JSON is [mostly] used to communicate betweent programming languages</p></li><li><p>Consist of 6 types</p><ul><li>String</li><li>Number</li><li>Boolean</li><li>Array</li><li>Object</li><li>Null</li></ul></li><li><p>In Python</p><ul><li>json.dumps to convert from Python types to JSON string</li><li>json.loads to convert from JSON string to Python types</li></ul></li><li><p>In JavaScript</p><ul><li>JSON.stringify to convert from JavaScript types to JSON string</li><li>JSON.parse to convert from JSON string to JavaScript types</li></ul></li></ul><h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><ul><li>What about Scala?<br>{â€œtimestampâ€:1550774961,â€messageâ€:â€successâ€,â€iss_positionâ€:{â€œlatitudeâ€:â€-36.5017â€,â€longitudeâ€:â€-2.8015}}          </li><li>This is valid JSON</li><li>What Scala type do we use to store this data?<ul><li>Map[String, String]?</li><li>Map[String, Long]?</li><li>Map[String, Map[String, String]]?</li><li>Map[String, Any]?? &lt;- This is the only one that can work, but itâ€™s very restrictive since we can only use the Any methods.</li></ul></li><li>We canâ€™t mix types in our Scala data structures</li><li>.. at least, not without polymorphism</li></ul><h1 id="JSON-Library"><a href="#JSON-Library" class="headerlink" title="JSON - Library"></a>JSON - Library</h1><ul><li>Weâ€™ll install a library to help us work with JSON in Scala<ul><li>The Play JSON library</li></ul></li><li>Library defines these Scala types<ul><li>JsString</li><li>JsNumber</li><li>JsBoolean</li><li>JsArray</li><li>JsObject</li><li>JsNull</li></ul></li><li><strong>All these types extend JsValue</strong></li><li><strong>Map[String, JsValue]</strong></li><li>The library parses JSON strings and converts all values into one of the Js_types</li><li>Convert value to their Scala types as needed</li></ul><h1 id="Reading-JSON"><a href="#Reading-JSON" class="headerlink" title="Reading JSON"></a>Reading JSON</h1><p>{â€œtimestampâ€:1550774961,â€messageâ€:â€successâ€,â€iss_positionâ€:{â€œlatitudeâ€:â€-36.5017â€,â€longitudeâ€:â€-2.8015}}           </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> play.api.libs.&#123;<span class="type">JsValue</span>, <span class="type">Json</span>&#125;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">val</span> parsed: <span class="type">JsValue</span> = <span class="type">Json</span>.parse(response)</span><br><span class="line"></span><br><span class="line"><span class="comment">// unused values, but this is how we would extract message and timestamp</span></span><br><span class="line"><span class="keyword">val</span> message: <span class="type">String</span> = &#123;parsed \ <span class="string">&quot;message&quot;</span>&#125;.as[<span class="type">String</span>]</span><br><span class="line"><span class="keyword">val</span> timestamp: <span class="type">Long</span> = &#123;parsed \ <span class="string">&quot;timestamp&quot;</span>&#125;.as[<span class="type">Long</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> issLocation: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">String</span>] = (parsed \ <span class="string">&quot;iss_position&quot;</span>).as[<span class="type">Map</span>[<span class="type">String</span>, <span class="type">String</span>]]</span><br></pre></td></tr></table></figure><ol><li>Use the library to extract specific values</li><li>Call Json.parse</li><li>Parse the JSON string and converts it to a JsValue</li><li>Extract values at specific keys</li><li>Use \ to get the value at a key as a JsValue</li><li>Use as[type] to convert the value to the type you expect, cannot use your custom types without defining how to parse your type</li></ol><h1 id="Writing-JSON"><a href="#Writing-JSON" class="headerlink" title="Writing JSON"></a>Writing JSON</h1><p>{â€œtimestampâ€:1550774961,â€messageâ€:â€successâ€,â€iss_positionâ€:{â€œlatitudeâ€:â€-36.5017â€,â€longitudeâ€:â€-2.8015}}           </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createJSON</span></span>(message: <span class="type">String</span>, timestamp: <span class="type">Long</span>, location: <span class="type">Location</span>): <span class="type">String</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> jsonTimestamp: <span class="type">JsValue</span> = <span class="type">Json</span>.toJson(timestamp)</span><br><span class="line">    <span class="keyword">val</span> jsonMessage: <span class="type">JsValue</span> = <span class="type">Json</span>.toJson(message)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> locationMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">String</span>] = <span class="type">Map</span>(</span><br><span class="line">        <span class="string">&quot;latitude&quot;</span> -&gt; location.latitude.toString,</span><br><span class="line">        <span class="string">&quot;longitude&quot;</span> -&gt; location.longitude.toString</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> jsonMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">JsValue</span>] = <span class="type">Map</span>(</span><br><span class="line">        <span class="string">&quot;timestamp&quot;</span> -&gt; jsonTimestamp,</span><br><span class="line">        <span class="string">&quot;message&quot;</span> -&gt; jsonMessage,</span><br><span class="line">        <span class="string">&quot;iss_position&quot;</span> -&gt; jsonLocation</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="type">Json</span>.stringify(<span class="type">Json</span>.toJson(jsonMap))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Convert Scala types to JsValue with Json.toJson<ul><li>Cannot use your custom types without defying how to convert your type</li></ul></li><li>Call Json.stringify to convert a type to a JSON string<ul><li>Can be any types known to the library(Most of the common Scala types)</li></ul></li></ul><h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><ul><li>Weâ€™re using a new library</li><li>Must download it before use</li><li>Add it to our Maven file<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">gruopId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>test1<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1<span class="tag">&lt;/<span class="name">versiom</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.scalatest/scalatest --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.scalatest<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scalatest_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>This is our current Maven file that we used to download scalatest</li><li>We can add more dependancies to this file<ul><li>Open the Maven sidebal, refresh, then download the new libraries</li></ul></li><li>Find new libraries at <a href="https://mvnrepository.com/">https://mvnrepository.com</a><ul><li>An enrmous wealth of shared libraries</li><li>Search for the new liraries, paste the dependency into you pom.xml file</li></ul></li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong> In a package named â€œoop.jsonâ€ create and complete the â€œStoreâ€ class which is stared below           </p><p>asJSON returns a JSON string representing an object with keys â€œcashInRegisterâ€ and â€œinventoryâ€ mapping to the values from the two state variables with the same names       </p><p>fromJSON takes a JSON string in the same format returned from asJSON and sets the state variables to the values from the JSON string        </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> opp.json</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span>(<span class="params">var cashInRegister: <span class="type">Double</span>, var inventory: <span class="type">List</span>[<span class="type">String</span>]</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">asJSON</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fromJSON</span></span>(jsonString: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Testing:</strong>             </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> tests</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.scalatest.<span class="type">FunSuite</span></span><br><span class="line"><span class="keyword">import</span> oop.json.<span class="type">Store</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSubmission</span> <span class="keyword">extends</span> <span class="title">FunSuite</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> <span class="type">EPSILON</span>: <span class="type">Double</span> = <span class="number">0.000001</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">equalDoubles</span></span>(d1: <span class="type">Double</span>, d2: <span class="type">Double</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">        (d1 - d2).abs &lt; <span class="type">EPSILON</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    test(<span class="string">&quot;test the store JSON&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">val</span> store: <span class="type">Store</span> = <span class="keyword">new</span> <span class="type">Store</span>(<span class="number">550.21</span>, <span class="type">List</span>(<span class="string">&quot;eggs&quot;</span>, <span class="string">&quot;milk&quot;</span>, <span class="string">&quot;waffles&quot;</span>))</span><br><span class="line">        <span class="keyword">val</span> storeJSON: <span class="type">String</span> = store.asJSON()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> store2: <span class="type">Store</span> = <span class="keyword">new</span> <span class="type">Store</span>(<span class="number">0.0</span>, <span class="type">List</span>())</span><br><span class="line">        store2.fromJSON(storeJSON)</span><br><span class="line"></span><br><span class="line">        assert(equalDoubles(store2.cashInRegister, <span class="number">550.21</span>))</span><br><span class="line">        <span class="keyword">val</span> actualList: <span class="type">List</span>[<span class="type">String</span>] = store2.inventory.sorted</span><br><span class="line">        <span class="keyword">val</span> expectedList: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;eggs&quot;</span>, <span class="string">&quot;milk&quot;</span>, <span class="string">&quot;waffles&quot;</span>).sorted</span><br><span class="line"></span><br><span class="line">        assert(actualList == expectedList)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®° Lec2-2:Polymorphism</title>
      <link href="/cn/Polymorphism/"/>
      <url>/cn/Polymorphism/</url>
      
        <content type="html"><![CDATA[<p>Polymorphism</p><h1 id="Scala-Type-Hierarchy-1"><a href="#Scala-Type-Hierarchy-1" class="headerlink" title="Scala Type Hierarchy-1"></a>Scala Type Hierarchy-1</h1><p><img src="/cn/Polymorphism/image/lq2-1-12.png" alt="lq2-1-12"></p><ul><li>All objects share Any as their base typoes</li><li>Classes extending AnyVal will be stored on the <strong>stack</strong><ul><li>*Unless they are a state variable of an object</li></ul></li><li>Classes extending AnyRef will be stored on the <strong>heap</strong></li></ul><h1 id="Recall"><a href="#Recall" class="headerlink" title="Recall"></a>Recall</h1><p><img src="/cn/Polymorphism/image/Recall.png" alt="Recall"></p><h1 id="Scala-Type-Hierarchy-2"><a href="#Scala-Type-Hierarchy-2" class="headerlink" title="Scala Type Hierarchy-2"></a>Scala Type Hierarchy-2</h1><p><img src="/cn/Polymorphism/image/lq2-1-13.png" alt="lq2-1-13"></p><ul><li>Classes you define extend AnyRef by default</li><li>HealthPotion has 6 different types<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> potion1: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion2: <span class="type">InanimateObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion3: <span class="type">DynamicObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion4: <span class="type">GameObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br><span class="line"><span class="keyword">val</span> potion5: <span class="type">AnyRef</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br><span class="line"><span class="keyword">val</span> potion6: <span class="type">Any</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br></pre></td></tr></table></figure></li></ul><h1 id="Polymorphism"><a href="#Polymorphism" class="headerlink" title="Polymorphism"></a>Polymorphism</h1><ul><li><p>HealthPotion has 6 different types</p></li><li><p>Polymorphism</p><ul><li>Poly -&gt; Many</li><li>Morph -&gt; Forms</li><li>Polymorphism -&gt; Many Forms</li></ul></li><li><p>Can store values in variables of any of their types</p></li><li><p>Can only access state and behavior defined in variable type</p></li><li><p>Defined magnitudeOfMomentum in lnanimateObject</p></li><li><p>HealthPotion inherited magnitudeOfMomentum when it extended InanimateObject</p></li><li><p>DynamicObject has no such method</p><ul><li>Even when potio3 stores a reference to a HealthPotion object it cannot access magnitudeOfMomentum</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> potion1: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion2: <span class="type">InanimateObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion3: <span class="type">DynamicObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion4: <span class="type">GameObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br><span class="line"><span class="keyword">val</span> potion5: <span class="type">AnyRef</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br><span class="line"><span class="keyword">val</span> potion6: <span class="type">Any</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">potion1.magnitudeOfMomentum() </span><br><span class="line">potion2.magnitudeOfMomentum() </span><br><span class="line">potion3.magnitudeOfMomentum() <span class="comment">// Does not compile</span></span><br></pre></td></tr></table></figure><ul><li>Why use polymorphism if it restricts functionality?<ul><li>Simplify other classes</li></ul></li><li>Player has 2 methods<ul><li>One to use a ball</li><li>One to use a potion</li></ul></li><li>Each item the Player can use will need another method in the Player class</li><li>Tedious to expand game</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">var location: <span class="type">PhysicsVector</span>, var dimensions: <span class="type">PhysicsVector</span>, var velocity: <span class="type">PhysicsVector</span>, var orientation: <span class="type">PhysicsVector</span>, val maxHealth: <span class="type">Int</span>, val strength: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = maxHealth</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useBall</span></span>(ball: <span class="type">Ball</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        ball.use(<span class="keyword">this</span>) </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useHealthPotion</span></span>(potion: <span class="type">HealthPotion</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        potion.use(<span class="keyword">this</span>) </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Write functionality using the common base type</li><li>The use method is part of IanimateObject</li><li>Canâ€™t access any Ball or HealthPotion specific functionlity<ul><li>Any state &#x2F; behavior needed by Player must be in the InanimateObject class</li></ul></li></ul><p>Old version:</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">var location: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var dimensions: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var velocity: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val maxHealth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val strength: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = maxHealth</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useBall</span></span>(ball: <span class="type">Ball</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        ball.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useHealthPotion</span></span>(potion: <span class="type">HealthPotion</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        potion.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Change to this:</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">InanimateObject</span>(<span class="params">location: <span class="type">PhysicsVector</span>, velocity: <span class="type">PhysicVector</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">var location: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var dimensions: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var velocity: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val maxHealth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val strength: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = maxHealth</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useItem</span></span>(item: <span class="type">InanimateObject</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        item.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>We can call useItem with any object that extends InanimateObject as an argument</li><li>The useItem method will have different effrcts depending on the type of its parameter<ul><li>Different implementations of use will be called</li></ul></li><li>Adding new object types to our game does not require changing the Player class!<ul><li>Test Player once</li><li>Without polymorphism weâ€™d have to update and test the Player class for every new object type added to the game.</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">InanimateObject</span>(<span class="params">location: <span class="type">PhysicsVector</span>, velocity: <span class="type">PhysicVector</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">var location: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var dimensions: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var velocity: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val maxHealth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val strength: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = maxHealth</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useItem</span></span>(item: <span class="type">InanimateObject</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        item.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> ball: <span class="type">Ball</span> = <span class="keyword">new</span> <span class="type">Ball</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">5</span>)</span><br><span class="line"><span class="keyword">val</span> potion: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> player1: <span class="type">Player</span> = <span class="keyword">new</span> <span class="type">Player</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">20</span>, <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">player1.useItem(ball)</span><br><span class="line">player1.useItem(potion)</span><br></pre></td></tr></table></figure><ul><li>We can also make our player be a DynamicObject</li></ul><p>Original:</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">var location: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var dimensions: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var velocity: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val maxHealth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val strength: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = maxHealth</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useItem</span></span>(item: <span class="type">InanimateObject</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        item.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Extends the DynamicObject:</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">var location: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var dimensions: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var velocity: <span class="type">PhysicVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val maxHealth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val strength: <span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">DynamicObject</span>(<span class="params">_location, _dimensions</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.velocity = _velocity</span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = maxHealth</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useItem</span></span>(item: <span class="type">InanimateObject</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        item.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>With polymorphism, we can mix types in data structures<ul><li>Something we took for granted in Python &#x2F; JavaScript</li></ul></li><li>PhysicsEngine.updateWorld does not care about the types in world.object<ul><li>As long as they all have DynamicObject as a superclass</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> player: <span class="type">Player</span> = <span class="keyword">new</span> <span class="type">Player</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>), <span class="number">10</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> potion1: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-8.27</span>, <span class="number">-3.583</span>, <span class="number">5.3459</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-9.0</span>, <span class="number">7.17</span>, <span class="number">-9.441</span>), <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> potion2: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-8.046</span>, <span class="number">-2.128</span>, <span class="number">5.5179</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">6.24</span>, <span class="number">-3.18</span>, <span class="number">-4.021</span>), <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> ball1: <span class="type">Ball</span> = <span class="keyword">new</span> <span class="type">Ball</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-2.28</span>, <span class="number">4.88</span>, <span class="number">5.1689</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-0.24</span>, <span class="number">8.59</span>, <span class="number">-6.711</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> ball2: <span class="type">Ball</span> = <span class="keyword">new</span> <span class="type">Ball</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">10.325</span>, <span class="number">-2.14</span>, <span class="number">0.0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.2</span>, <span class="number">1.2</span>, <span class="number">1.2</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">3.65</span>, <span class="number">-9.0</span>, <span class="number">-7.051</span>), <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> ball3: <span class="type">Ball</span> = <span class="keyword">new</span> <span class="type">Ball</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-6.988</span>, <span class="number">1.83</span>, <span class="number">2.5419</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.5</span>, <span class="number">1.5</span>, <span class="number">1.5</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-3.08</span>, <span class="number">5.4</span>, <span class="number">7.019</span>), <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// -------</span></span><br><span class="line"><span class="keyword">val</span> gameObjects: <span class="type">List</span>[<span class="type">DynamicObject</span>] = <span class="type">List</span>(player, potion1, potion2, ball1, ball2, ball3)</span><br><span class="line"><span class="comment">// -------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> world: <span class="type">World</span> = <span class="keyword">new</span> <span class="type">World</span>(<span class="number">15</span>) </span><br><span class="line">world.dynamicObjects = gameObjects</span><br><span class="line"></span><br><span class="line"><span class="type">PhysicsEngine</span>.updateWorld(world, <span class="number">0.0167</span>)</span><br></pre></td></tr></table></figure><h1 id="Override"><a href="#Override" class="headerlink" title="Override"></a>Override</h1><ul><li>Functionality is inherited from Any and AnyRef</li><li>println calls an inherited .toString method<ul><li>Converts object to a String with <object_type>@<reference></li></ul></li><li>&#x3D;&#x3D; calls the inherited .equals method<ul><li>returns true only if the two variables refer to the same object in memory</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> potion1: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> potion2: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> potion3 = potion1</span><br><span class="line"></span><br><span class="line">println(potion1) <span class="comment">// week4.oop_physics.with_oop.HealthPotion@17c68925</span></span><br><span class="line">println(potion2) <span class="comment">// week4.oop_physics.with_oop.HealthPotion@7e0ea639</span></span><br><span class="line">println(potion3) <span class="comment">// week4.oop_physics.with_oop.HealthPotion@17c68925</span></span><br><span class="line">println(potion1 == potion2) <span class="comment">// false</span></span><br><span class="line">println(potion1 == potion3) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ul><li>We can override this default functionality</li><li>Override toString to return a different string</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HealthPotion</span>(<span class="params">location: <span class="type">PhysicsVector</span>, dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   velocity: <span class="type">PhysicsVector</span>, val volume: <span class="type">Int</span></span>) </span></span><br><span class="line">    <span class="keyword">extends</span> <span class="type">InanimateObject</span>(location, dimensions, velocity) &#123;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>: <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="string">&quot;location: &quot;</span> + <span class="keyword">this</span>.location + <span class="string">&quot;; velocity: &quot;</span> + <span class="keyword">this</span>.velocity + <span class="string">&quot;; volume: &quot;</span> + volume </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PhysicsVector</span>(<span class="params">var x: <span class="type">Double</span>, var y: <span class="type">Double</span>, var z: <span class="type">Double</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>: <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="string">&quot;(&quot;</span> + x + <span class="string">&quot;, &quot;</span> + y + <span class="string">&quot;, &quot;</span> + z + <span class="string">&quot;)&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Override equals to change the definition of equality</li><li>Takes Any as a parameter</li><li>Use match and case to behave differently on different types</li><li>The _ wildcard covers all types not explicitly mentioned (â€œ_â€ è·Ÿ else ä¸€ä¸ªæ€§è´¨, æˆ–è€…è¯´switché‡Œçš„default)</li><li>This method return true when compared to another potion with the same volume, false otherwise</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HealthPotion</span>(<span class="params">location: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   velocity: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   val volume: <span class="type">Int</span></span>)</span></span><br><span class="line">    <span class="keyword">extends</span> <span class="type">InanimateObject</span>(loaction, dimensions, velocity) &#123;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">equals</span></span>(obj: <span class="type">Any</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">        obj <span class="keyword">match</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> hp: <span class="type">HealthPotion</span> =&gt; <span class="keyword">this</span>.volume == hp.volume</span><br><span class="line">            case_ =&gt; <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>With our overridden methods this code ggives very different output<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> potion1: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> potion2: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> potion3 = potion1</span><br><span class="line"></span><br><span class="line">println(potion1) <span class="comment">// week4.oop_physics.with_oop.HealthPotion@17c68925</span></span><br><span class="line">println(potion2) <span class="comment">// week4.oop_physics.with_oop.HealthPotion@7e0ea639</span></span><br><span class="line">println(potion3) <span class="comment">// week4.oop_physics.with_oop.HealthPotion@17c68925</span></span><br><span class="line">println(potion1 == potion2) <span class="comment">// true (ä¸Šæ–‡å†™çš„ override def equals)</span></span><br><span class="line">println(potion1 == potion3) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ul><h1 id="Override-in-Jumper"><a href="#Override-in-Jumper" class="headerlink" title="Override in Jumper"></a>Override in Jumper</h1><p>To create a platform in the jumper game</p><ul><li>Extend JumperObject which extends StaticObject<ul><li>Platforms are now StaticObject and are compatible with your PhysicsEngine</li></ul></li><li>Override collideWithDynamicObject to define how an object reacts to a collision with a Platforn<ul><li>If the colliding face is the top, the object lands on the Platform</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JumperObject</span>(<span class="params">location: <span class="type">PhysicsVector</span>, dimensions: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">StaticObject</span>(<span class="params">location, dimensions</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> objectID: <span class="type">Int</span> = <span class="type">JumperObject</span>.nextID</span><br><span class="line">    <span class="type">JumperObject</span>.nextID += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Platform</span>(<span class="params">location: <span class="type">PhysicsVector</span>, dimensions: <span class="type">PhysicsVector</span></span>) <span class="title">extend</span> <span class="title">JumperObject</span>(<span class="params">location, dimensions</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">conllideWithDynamicObject</span></span>(otherObject: <span class="type">DynamicObject</span>, face: <span class="type">Integer</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (face == <span class="type">Face</span>.top) &#123;</span><br><span class="line">            otherObject.velocity.z == <span class="number">0.0</span></span><br><span class="line">            otherObject.location.z == <span class="keyword">this</span>.location.z + <span class="keyword">this</span>.dimensions.z</span><br><span class="line">            otherObject.onGround()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>Similar method used to create Walls</p></li><li><p>Now all dynamic objects in our game react properly to wall and platform collisions as long as they extend DynamicObject</p></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JumperObject</span>(<span class="params">location: <span class="type">PhysicsVector</span>,  dimensions: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">StaticObject</span>(<span class="params">location, dimensions</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> objectID: <span class="type">Int</span> = <span class="type">JumperObject</span>.nextID</span><br><span class="line">    <span class="type">JumperObject</span>.nextID += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span>(<span class="params">location: <span class="type">PhysicsVector</span>, dimensions: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">JumperObject</span>(<span class="params">location, dimensions</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">collideWithDynamicObject</span></span>(otherObject: <span class="type">DynamicObject</span>, face: <span class="type">Integer</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">if</span>(face == <span class="type">Face</span>.negativeX)&#123;</span><br><span class="line">            otherObject.velocity.x = <span class="number">0.0</span></span><br><span class="line">            otherObject.location.x = <span class="keyword">this</span>.location.x - otherObject.dimensions.x</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (face == <span class="type">Face</span>.positiveX)&#123;</span><br><span class="line">            otherObject.velocity.x = <span class="number">0.0</span></span><br><span class="line">            otherObject.location.x = <span class="keyword">this</span>.location.x + <span class="keyword">this</span>.dimensions.x </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Lecture-Quesion"><a href="#Lecture-Quesion" class="headerlink" title="Lecture Quesion"></a>Lecture Quesion</h1><p><strong>Question:</strong> in a package named â€œoop.electronicsâ€, implement the following to expand the Flashlight&#x2F;BoomBox functionality from the previous lecture question. Full functionality from the previous lecture question is required</p><ul><li>classes Battery, Electronic, BoomBox, and Flashlight as defined in the previous lecture question</li><li>An <strong>obeject</strong> named UseElectronics with<ul><li>A method named â€œuseAllâ€ that takes a List of Electronics as a parameter and returns Unit<ul><li>Calls the â€œuseâ€ method on all the Electronics in the input list</li><li>[Notice that the specific method that is called depends on whether the Electronic is a BoomBox or a Flashlight]</li></ul></li><li>A method named â€œswapBatteriesâ€ that takes two Electronics as parameters and returns Unit<ul><li>Exchanges the batteries between the two Electronics</li></ul></li></ul></li></ul><p><strong>Testing:</strong> In a package named â€œtestsâ€ create a Scala class named â€œTestElectronicsâ€ as a test suite that tests all the functionality listed above</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®° Lec2-1:Inheritance</title>
      <link href="/cn/Inheritance/"/>
      <url>/cn/Inheritance/</url>
      
        <content type="html"><![CDATA[<p>Inheritance</p><h1 id="Scala-Type-Hierarchy"><a href="#Scala-Type-Hierarchy" class="headerlink" title="Scala Type Hierarchy"></a>Scala Type Hierarchy</h1><p><img src="/cn/Inheritance/image/Hierarchy.png" alt="Hierarchy"></p><ul><li>All objects share Any as their base types</li><li>Classes extending <strong>AnyVal</strong> will be stored on the <strong>stack</strong></li><li>Classes extending <strong>AnyRef</strong> will be stored on the <strong>heap</strong></li></ul><h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><ul><li><p>Letâ€™s do some world building</p></li><li><p>If weâ€™re making a game, weâ€™ll want various objects that will interact with each other</p></li><li><p>weâ€™ll setup a simple game where</p><ul><li>Each player has a set health and strength</li><li>Players can pick up and throw balls</li><li>If a player gets hit with a ball, they lose health</li><li>Players can collect health potions to regain health</li></ul></li><li><p>Note: We might not build this full game, but we will build some of the game mechanics.</p></li></ul><h1 id="Objects-Review"><a href="#Objects-Review" class="headerlink" title="Objects Review"></a>Objects Review</h1><ul><li>Weâ€™ll need different objects for this game<ul><li>Player</li><li>Ball</li><li>HealthPotion</li></ul></li></ul><p><img src="/cn/Inheritance/image/lq2-1-1.png" alt="LQ2-1-1"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> location: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">2.0</span>, <span class="number">-2.0</span>, <span class="number">2.0</span>)</span><br><span class="line">    <span class="keyword">var</span> dimensions: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>)</span><br><span class="line">    <span class="keyword">var</span> velocity: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0.0</span>, <span class="number">-1.0</span>, <span class="number">0.0</span>)</span><br><span class="line">    <span class="keyword">var</span> orientation: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0.5</span>, <span class="number">-1.5</span>, <span class="number">0.0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> maxHealth: <span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">    <span class="keyword">val</span> strength: <span class="type">Int</span> = <span class="number">25</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = <span class="number">17</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useBall</span></span>(ball: <span class="type">Ball</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        ball.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span> <span class="title">HealthPotion</span></span>(potion: <span class="type">HealthPotion</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        potion.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/Inheritance/image/lq2-1-2.png" alt="lq2-1-2"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ball</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> location: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">5.0</span>, <span class="number">2.0</span>)</span><br><span class="line">    <span class="keyword">var</span> dimensions: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>)</span><br><span class="line">    <span class="keyword">val</span> velocity: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">10.0</span>)</span><br><span class="line">    <span class="keyword">val</span> mass: <span class="type">Double</span> = <span class="number">5.0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.velocity = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(</span><br><span class="line">            player.orientation.x * player.strength,</span><br><span class="line">            player.orientation.y * player.strength,</span><br><span class="line">            player.strength</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/Inheritance/image/lq2-1-3.png" alt="lq2-1-3"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HealthPotion</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> location: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">5.0</span>, <span class="number">7.0</span>, <span class="number">0.0</span>)</span><br><span class="line">    <span class="keyword">var</span> dimensions: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>)</span><br><span class="line">    <span class="keyword">var</span> velocity: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>)</span><br><span class="line">    <span class="keyword">val</span> volume: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        player.health = (player.health + <span class="keyword">this</span>.volume).min(player.maxHealth)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>But this is restrictive</li><li>Game can only have one Ball, one HealthPotion and on Player</li><li>Can play, but mot very fun</li></ul><h1 id="Classes-Review"><a href="#Classes-Review" class="headerlink" title="Classes Review"></a>Classes Review</h1><p><img src="/cn/Inheritance/image/lq2-1-4.png" alt="lq2-1-4"></p><ul><li>This is why we use classes</li><li>Classes let use create multiple objects of type Ball, HealthPotion, and Player.</li></ul><p><img src="/cn/Inheritance/image/lq2-1-5.png" alt="lq2-1-5"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>(<span class="params">var location: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var velocity: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             var orientation: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val maxHealth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">             val strength: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> health: <span class="type">Int</span> = maxHealth</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useBall</span></span>(ball: <span class="type">Ball</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        ball.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">useHealthPotion</span></span>(potion: <span class="type">HealthPotion</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        potion.use(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/Inheritance/image/lq2-1-6.png" alt="lq2-1-6"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span>(<span class="params">var location: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           var dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           var velocity: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           val mass: <span class="type">Double</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.velocity = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(</span><br><span class="line">            player.orientation.x * player.strength,</span><br><span class="line">            player.orientation.y * player.strength,</span><br><span class="line">            player.strength</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/Inheritance/image/lq2-1-7.png" alt="lq2-1-7"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HealthPotion</span>(<span class="params">var location: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   var dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   var velocity: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   val volume: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        player.health = (player.health + <span class="keyword">this</span>.volume).min(player.maxHealth)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/cn/Inheritance/image/lq2-1-6.png" alt="lq2-1-6"></p><ul><li>Use the class to create multiple objects with different states</li></ul><p><img src="/cn/Inheritance/image/lq2-1-8.png" alt="lq2-1-8"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ball1: <span class="type">Ball</span> = <span class="keyword">new</span> <span class="type">Ball</span>(</span><br><span class="line">    <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">5.0</span>, <span class="number">2.0</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">10.0</span>),</span><br><span class="line">    <span class="number">5.0</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">// ball1 stores 54224</span></span><br></pre></td></tr></table></figure><p><img src="/cn/Inheritance/image/lq2-1-9.png" alt="lq2-1-9"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ball2: <span class="type">Ball</span> = <span class="keyword">new</span> <span class="type">Ball</span>(</span><br><span class="line">    <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">6.0</span>, <span class="number">-3.0</span>, <span class="number">2.0</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">0.0</span>, <span class="number">4.5</span>, <span class="number">4.5</span>),</span><br><span class="line">    <span class="number">10.0</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">// ball2 stores 21374</span></span><br></pre></td></tr></table></figure><h1 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h1><ul><li>Use inheritance to create classes with different behavior</li><li>Observe: Ball and HealthPotion have a lot in common</li></ul><p><img src="/cn/Inheritance/image/lq2-1-6.png" alt="lq2-1-6"><br><img src="/cn/Inheritance/image/lq2-1-7.png" alt="lq2-1-7">      </p><ul><li>Can add much more common functionality (that doesnâ€™t fit on a slide)<ul><li>Compute mass of a potion based on volume</li><li>Compute momentum of both types based on mass * velocity</li><li>Method defining behavior when either hits the ground(bounce or shatter)</li></ul></li></ul><p><img src="/cn/Inheritance/image/lq2-1-10.png" alt="lq2-1-10"></p><ul><li><p>Factor out common state and behavior into a new calss</p></li><li><p>Ball and HealthPotion calsses <strong>inherent</strong> the state and behavior of InanimateObject</p></li><li><p>Ball and HealthPotion add their specific state and behavior</p></li><li><p>New class defines what every inheriting class must define</p></li><li><p>Any behavior that is to be defined by inheriting classes is declared <strong>abstract</strong></p><ul><li>We call this an abstract class</li><li>Cannot create objects of abstract</li></ul></li><li><p>Inheriting classes will define all abstract behavior</p><ul><li>We call these concrete classes<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">InanimateObject</span>(<span class="params">var location: <span class="type">PhysicsVector</span>, var dimension: <span class="type">PhysicsVector</span>, var velocity: <span class="type">PhysicsVector</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Use the extends keyword to inherent another class</p><ul><li>Extend the definition of InanimateObject</li><li>We call IanimateObject the superclass of Ball<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">InanimateObject</span>(<span class="params">var location: <span class="type">PhysicsVector</span>, var dimension: <span class="type">PhysicsVector</span>, var velocity: <span class="type">PhysicsVector</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span>(<span class="params">location: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           velocity: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           mass: <span class="type">Double</span></span>)</span></span><br><span class="line">    <span class="keyword">extends</span> <span class="type">InanimateObject</span>(location, dimensions, velocity)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.mass</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.velocity.x = player.orientation.x * player.strength</span><br><span class="line">        <span class="keyword">this</span>.velocity.y = player.orientation.y * player.strength</span><br><span class="line">        <span class="keyword">this</span>.velocity.z = player.strength</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Ball has itâ€™s own constructor</p></li><li><p>Ball must call InanimateObjectâ€™s constructor</p></li><li><p>var &#x2F; val declared in concrete class to make these public</p></li><li><p>Implement all abstract behavior</p></li><li><p>Use the <strong>override</strong> keyword when overwritting behavior from the superclass</p></li><li><p>Override all abstract methods with behavior for this class </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">InanimateObject</span>(<span class="params">var location: <span class="type">PhysicsVector</span>, var dimension: <span class="type">PhysicsVector</span>, var velocity: <span class="type">PhysicsVector</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line">```   </span><br><span class="line">```scala</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HealthPotion</span>(<span class="params">location: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   velocity: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">                   val volume: <span class="type">Int</span></span>)</span></span><br><span class="line">    extend <span class="type">InanimateObject</span>(location, dimensions, velocity) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> massPerVolume: <span class="type">Double</span> = <span class="number">7.0</span></span><br><span class="line">        volume * massPerVolume</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        player.health = (player.health + <span class="keyword">this</span>.volume).min(player.macHealth)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span>(<span class="params">location: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           dimensions: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           velocity: <span class="type">PhysicsVector</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">           mass: <span class="type">Double</span></span>)</span></span><br><span class="line">    extend <span class="type">InanimateObject</span>(location, dimensions, velocity)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.mass</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.velocity.x = player.orientation.x * player.strength</span><br><span class="line">        <span class="keyword">this</span>.velocity.y = player.orientation.y * player.strength</span><br><span class="line">        <span class="keyword">this</span>.velocity.z = player.strength</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>Define different behavior for each base class</p></li><li><p>Define similar types with some difference</p></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">InanimateObject</span>(<span class="params">var location: <span class="type">PhysicsVector</span>, var dimensions: <span class="type">PhysicsVector</span>, var velocity: <span class="type">PhysicsVector</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">magnitudeOfMomentum</span></span>(): <span class="type">Double</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> magnitudeOfVelocity = <span class="type">Math</span>.sqrt(</span><br><span class="line">            <span class="type">Math</span>.pow(<span class="keyword">this</span>.velocity.x, <span class="number">2.0</span>) + </span><br><span class="line">            <span class="type">Math</span>.pow(<span class="keyword">this</span>.velocity.y, <span class="number">2.0</span>) +</span><br><span class="line">            <span class="type">Math</span>.pow(<span class="keyword">this</span>,velocity.z, <span class="number">2.0</span>)</span><br><span class="line">        )</span><br><span class="line">        magnitudeOfVelocity * <span class="keyword">this</span>.objectMass()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>OK, BUT Y THO?</strong></p></li><li><p>Add behavior to InanimateObject</p></li><li><p>Behavior is added to ALL inheriting classes</p></li><li><p>We may want many, many more subtypes of InanimateObjects in our game</p></li><li><p>Any common functionality added to InanimateObject</p><ul><li>Easy to add functionality to ALL subtypes will very little effort</li></ul></li><li><p><strong>But wait!</strong></p><ul><li>Thereâ€™s more</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">InanimateObject</span>(<span class="params">var location: <span class="type">PhysicsVector</span>, var dimensions: <span class="type">PhysicsVector</span>, var inputVelocity: <span class="type">PhysicsVector</span></span>) <span class="keyword">extends</span> <span class="title">DynamicObject</span>(<span class="params">location, dimensions</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.velocity = inputVelocity</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objectMass</span></span>(): <span class="type">Double</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">use</span></span>(player: <span class="type">Player</span>): <span class="type">Unit</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">magnitudeOfMomentum</span></span>(): <span class="type">Double</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> magnitudeOfVelocity = <span class="type">Math</span>.sqrt(</span><br><span class="line">            <span class="type">Math</span>.pow(<span class="keyword">this</span>.velocity.x, <span class="number">2.0</span>) + </span><br><span class="line">            <span class="type">Math</span>.pow(<span class="keyword">this</span>.velocity.y, <span class="number">2.0</span>) +</span><br><span class="line">            <span class="type">Math</span>.pow(<span class="keyword">this</span>,velocity.z, <span class="number">2.0</span>)</span><br><span class="line">        )</span><br><span class="line">        magnitudeOfVelocity * <span class="keyword">this</span>.objectMass()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>If we want Ball, HealthPotion, and all other InanimateObjects to work with our physics engine</p><ul><li>Extend DynamicObject!</li></ul></li><li><p>Note that the velocity is inherited</p></li><li><p>The velocity parameter in the constructor must have a different name that the inherited variable</p><ul><li>Allows us to assign its value to the state variable</li><li>They would both be referred to with <strong>this</strong> causing a name conflict</li></ul></li><li><p>No name conflict with multiple location &#x2F; dimension since they are only in the header</p></li></ul><p><img src="/cn/Inheritance/image/lq2-1-11.png" alt="lq2-1-11"></p><h1 id="Scala-Type-Hierarchy-1"><a href="#Scala-Type-Hierarchy-1" class="headerlink" title="Scala Type Hierarchy"></a>Scala Type Hierarchy</h1><p><img src="/cn/Inheritance/image/lq2-1-12.png" alt="lq2-1-12"></p><ul><li>All objects share Any as their base types</li><li>Classes extending <strong>AnyVal</strong> will be stored on the <strong>stack</strong></li><li>Classes extending <strong>AnyRef</strong> will be stored on the <strong>heap</strong></li></ul><p><img src="/cn/Inheritance/image/lq2-1-13.png" alt="lq2-1-13"></p><ul><li>Classes you define extend AnyRef by default</li><li>HealthPotion has 6 different types<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> potion1: <span class="type">HealthPotion</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion2: <span class="type">InanimateObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion3: <span class="type">DynamicObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>) </span><br><span class="line"><span class="keyword">val</span> potion4: <span class="type">GameObject</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br><span class="line"><span class="keyword">val</span> potion5: <span class="type">AnyRef</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br><span class="line"><span class="keyword">val</span> potion6: <span class="type">Any</span> = <span class="keyword">new</span> <span class="type">HealthPotion</span>(<span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="keyword">new</span> <span class="type">PhysicsVector</span>(), <span class="number">6</span>)</span><br></pre></td></tr></table></figure></li></ul><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong> in a package named â€œoop.electronicsâ€, implement the following. This functionality is similar to the last lecture question            </p><ul><li>class Battery with<ul><li>A constructor that takes a variable named â€œchargeâ€ of type Int</li></ul></li><li>abstract class Electronic with<ul><li>A constructor that takes no parameters</li><li>A state variable named â€œbatteryâ€ of type Battery</li><li>A method named â€œuseâ€ that takes no parameters and returns Unit (This can be abstract)</li><li>A method named â€œreplaceBatteryâ€ that takes a Battery as a parameter and returns a Battery<ul><li>This method swaps the input Battery with the Battery currently stored in this Electronicâ€™s state variable</li><li>The returned Battery is the one that was in the state variable when the method is called</li></ul></li></ul></li><li>class Flashlight that extends Electronic<ul><li>A constructor that takes no parameters<ul><li>When a new Flashlight is created, assign the inherited state variable named â€œbatteryâ€ to a new Battery with 5 charge (ie. Batteries included)</li></ul></li><li>Override the â€œuseâ€ method to reduce the charge of the battery in the state variable by 1 if its charge is 1 or greater</li></ul></li><li>class BoomBox that extends Electronic<ul><li>A constructor that takes a variable of type Battery and assigns it to the inherited state variable named â€œbatteryâ€<ul><li>Your BoomBox constructor parameter should have a different name than the state variable</li></ul></li><li>Override the â€œuseâ€ method to reduce the charge of the battery in the state variable by 3 if its charge is 3 or greater</li></ul></li></ul><p><strong>Hint</strong><br>The code is in a different package so it doesnâ€™t interfere with your code from the previous question. Be sure you check that this import works from a different package in your project            </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> oop.electronics.&#123;<span class="type">Battery</span>, <span class="type">BoomBox</span>, <span class="type">Flashlight</span>, <span class="type">Electronic</span>&#125;</span><br></pre></td></tr></table></figure><p>Your Flashlight and BoomBox classes must inherit Electronic. This will be checked by storing them in variables of type Electronic      </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> flashlight1: <span class="type">Electronic</span> = <span class="keyword">new</span> <span class="type">Flashlight</span>()</span><br><span class="line"><span class="keyword">val</span> boomBox1: <span class="type">Electronic</span> = <span class="keyword">new</span> <span class="type">BoomBox</span>(<span class="keyword">new</span> <span class="type">Battery</span>(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec#8:Model of Execution live</title>
      <link href="/cn/Model-of-Execution-live/"/>
      <url>/cn/Model-of-Execution-live/</url>
      
        <content type="html"><![CDATA[<h1 id="Model-of-Execution"><a href="#Model-of-Execution" class="headerlink" title="Model of Execution"></a>Model of Execution</h1><p><strong>Live Examples</strong></p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong> in a package named â€œexecutionâ€, implement the following classes:             </p><p>Class Battery with:           </p><ul><li>A constructor that takes a variable named â€œchargeâ€ of type Int</li></ul><p>Class Flashlight with:           </p><ul><li>A constructor that takes no parameters<ul><li>When a new Flashlight is created, declare a state variable named â€œbatteryâ€ of type Battery and set it to a new Battery with 5 charge (ie. Batteries included)</li></ul></li><li>A method named â€œuseâ€ that takes no parameters and return Unit<ul><li>This method will decrease the charge of the Flashlightâ€™s battery by 1</li><li>If the charge of the battery is 0, this method does nothing</li></ul></li><li>A method named â€œreplaceBatteryâ€ that takes a Battery as a parameter and returns a Battery<ul><li>This method swaps the inpit Battery with the Battery currently stored in this Flashlightâ€™s state variable</li><li>The returned Battery is the one that was in the state variable when the method is called</li></ul></li></ul><p><strong>Testing:</strong> In a package named â€œtestsâ€ create a Scala class named â€œTestBatteriesâ€ as a test suite that tests all the functionality listed above. Be sure to check the references of batteries involved in both methods.         </p><p><strong>Checking References:</strong>     </p><ul><li>When a battery is used, it is not enough to check that the charge of the battery in the flashlight has decreased by 1<ul><li>You must check the reference of the battery in the flashlight to ensure that it is in fact the same battery</li><li>To do this, you should store a reference to the battery created when the flashlight was created so you can compare it to the reference in the flashlight after itâ€™s used. The first thing you should do after creating a new flashlight is store a reference to its battery in a separate variable<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> f1: <span class="type">Flashlight</span> = <span class="keyword">new</span> <span class="type">Flashlight</span>() </span><br><span class="line"><span class="keyword">val</span> f1Battery: <span class="type">Battery</span> = f1.battery</span><br></pre></td></tr></table></figure></li></ul></li><li>When replacing a battery, the batteries will be swapped by reference<ul><li>Be sure to check for the proper reference of the battery in the flashlight <strong>and</strong> the battery that is returned by the method for proper references</li><li>Make sure the returned battery is the battery that was in the flashlight before the swap</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec#7:Model of Execution More Example</title>
      <link href="/cn/Model-of-Execution-2/"/>
      <url>/cn/Model-of-Execution-2/</url>
      
        <content type="html"><![CDATA[<p>Model of Execution</p><h1 id="More-Memory-Examples"><a href="#More-Memory-Examples" class="headerlink" title="More Memory Examples"></a>More Memory Examples</h1><ul><li>Multiple Obejects on the heap<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">winBattle</span></span>(character: <span class="type">PartyCharacter</span>, xp: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    character.battlesWon += <span class="number">1</span></span><br><span class="line">    character.experiencePoints += xp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// Add the value mobXP to the stack with a value of 20</span></span><br><span class="line">    <span class="keyword">val</span> mbXP: <span class="type">Int</span> = <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add the value bossXP to the stack with a value of 100</span></span><br><span class="line">    <span class="keyword">val</span> bossXP: <span class="type">Int</span> = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// A new object of type PartyCharacter is created</span></span><br><span class="line">    <span class="comment">// The &quot;hero&quot; value only stores this reference</span></span><br><span class="line">    <span class="keyword">val</span> hero: <span class="type">PartyCharacter</span> = <span class="keyword">new</span> <span class="type">PartyCharacter</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// do method &quot;winBattle&quot;</span></span><br><span class="line">    winBattle(hero, mobXP)</span><br><span class="line">    <span class="keyword">val</span> party: <span class="type">Party</span> = <span class="keyword">new</span> <span class="type">Party</span>(hero, <span class="keyword">new</span> <span class="type">PartyCharacter</span>())</span><br><span class="line">    party.winBattle(bossXP)</span><br><span class="line">    winBattle(party.characterOne, mobXP)</span><br><span class="line">    winBattle(party.characterTwo, mobXP)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PartyCharacter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> battlesWon: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> experiencePoints: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Party</span>(<span class="params">val characterOne: <span class="type">PartyCharacter</span>, val characterTwo: <span class="type">PartyCharacter</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> battleWon: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">winBattle</span></span>(xp:<span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.battlesWon += <span class="number">1</span></span><br><span class="line">        <span class="keyword">this</span>.<span class="type">CharacterOne</span>.battlesWon += <span class="number">1</span></span><br><span class="line">        <span class="keyword">this</span>.<span class="type">CharacterTwo</span>.battlesWon += <span class="number">1</span></span><br><span class="line">        <span class="keyword">this</span>.<span class="type">CharacterOne</span>.experiencePoints += xp</span><br><span class="line">        <span class="keyword">this</span>.<span class="type">CharacterTwo</span>.experiencePoints += xp</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Multiple frames on the stack<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">computeGeometricSum</span></span>(n: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> result: <span class="type">Int</span> = computeGeometricSum(n - <span class="number">1</span>)</span><br><span class="line">        result += n</span><br><span class="line">        result</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> result: <span class="type">Int</span> = computeGeometricSum(<span class="number">3</span>)</span><br><span class="line">    println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>See the process detail in PDF</strong></p><h1 id="Old-Example"><a href="#Old-Example" class="headerlink" title="Old Example"></a>Old Example</h1><ul><li>Multiple Objects on the heap<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span> </span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> bird: <span class="type">Bird</span> = <span class="keyword">new</span> <span class="type">Bird</span>()</span><br><span class="line">    <span class="keyword">var</span> action: <span class="type">String</span> = <span class="string">&quot;Nothing&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(bird.inDanger())&#123;</span><br><span class="line">        <span class="keyword">val</span> action: <span class="type">String</span> = <span class="string">&quot;Panic!&quot;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">val</span> action: <span class="type">String</span> = <span class="string">&quot;Check bird&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(action)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> box: <span class="type">Box</span> = <span class="keyword">new</span> <span class="type">Box</span>(bird, <span class="keyword">new</span> <span class="type">Bird</span>())</span><br><span class="line">    <span class="keyword">if</span>(box.inDanger())&#123;</span><br><span class="line">        action = <span class="string">&quot;Stay in the boat&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(action)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> timesHelpful: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> timesChecked: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inDanger</span></span>(): <span class="type">Boolean</span> = &#123;</span><br><span class="line">        timesChecked += <span class="number">1</span></span><br><span class="line">        <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span> (<span class="params">val bird1: <span class="type">Bird</span>, val bird2: <span class="type">Bird</span></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inDanger</span></span>(): <span class="type">Boolean</span> = &#123;</span><br><span class="line">        bird1.inDanger() &amp;&amp; bird2.inDanger()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>See the process detail in PDF</strong></p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong> In a package named â€œexecutionâ€ create a Scala class named â€œTeamâ€ and a Scala object named â€œRefereeâ€.                </p><p>Team will have:         </p><ul><li>Two state values of type Int representing the strength of the teamâ€™s offense and defense with a constructor to set these values. The parameters for the constructor should be offense first, then defense (Note: These values do not have defined names in this question so you cannot access them in your testing. If I use â€œteamOffenseâ€ and you name it â€œoffenseâ€ and access it in your tests, your tests will crash when testing my code since the variable â€œoffenseâ€ will not exist)</li><li>A third state variable of type Int that is not in the constructor that represents the score of the team, is declared as a <strong>var</strong>, and is initialized to 0 (This variable also has not defined name)</li></ul><p>Referee will have:             </p><ul><li>A method named â€œplayGameâ€ that takes two Team objects as parameters and return type Unit. This method will alter the state of each input Team by setting their scores equal to their offense minus the other Teamâ€™s defense. If a Teamâ€™s offense is less than the other Teamâ€™s defense their score should be 0 (no negative scores)</li><li>A method named â€œdeclareWinnerâ€ that takes two Teams as parameters and returns the Team with the higher score. If both Teams have the same score, return a <strong>new</strong> Team object to indicate that neither competing team won (You may choose any values in the constructor call of this new Team)</li></ul><p><strong>Testing:</strong> In a package named â€œtestsâ€ create a Scala class named â€œTestTeamsâ€ as a test suite that tests the functionality listed above               </p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec#6:Model of Execution</title>
      <link href="/cn/Model-of-Execution/"/>
      <url>/cn/Model-of-Execution/</url>
      
        <content type="html"><![CDATA[<p><strong>Model of Execution</strong>              </p><h1 id="Interpretation-v-Compliation"><a href="#Interpretation-v-Compliation" class="headerlink" title="Interpretation v. Compliation"></a>Interpretation v. Compliation</h1><ul><li>Interpretation<ul><li>Code is read and executed one statement at a time</li></ul></li><li>Compliation<ul><li>Entire progeam is translated into another language</li><li>The translated code is interpreted</li></ul></li></ul><h2 id="Interpretation"><a href="#Interpretation" class="headerlink" title="Interpretation"></a>Interpretation</h2><ul><li>Python and JavaScript are interpreted languages</li><li>Run-time error are common<ul><li>Program runs, but crashes when a line with an error is interpreted</li></ul></li></ul><p>This program runs without error            </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RuntimeErrorExample</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_init_</span>(<span class="params">self, initial_state</span>):</span><br><span class="line">        self.state = initial_state</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_to_state</span>(<span class="params">self, to_add</span>):</span><br><span class="line">        println(<span class="string">&quot;adding to state&quot;</span>)</span><br><span class="line">        self.state += to_add</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> _name_ == <span class="string">&#x27;_main_&#x27;</span>:</span><br><span class="line">    example_object = RuntimeErrorExample(<span class="number">5</span>)</span><br><span class="line">    example_object.add_to_state(<span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(example_object,state)</span><br></pre></td></tr></table></figure><p>This program crashes with runtime error            </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RuntimeErrorExample</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_init_</span>(<span class="params">self, initial_state</span>):</span><br><span class="line">        self.state = initial_state</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_to_state</span>(<span class="params">self, to_add</span>):</span><br><span class="line">        println(<span class="string">&quot;adding to state&quot;</span>)</span><br><span class="line">        self.state += to_add</span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> _name_ == <span class="string">&#x27;_main_&#x27;</span>:</span><br><span class="line">    example_object = RuntimeErrorExample(<span class="number">5</span>)</span><br><span class="line">    example_object.add_to_state(<span class="string">&quot;ten&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(example_object,state)</span><br></pre></td></tr></table></figure><h2 id="Compilation"><a href="#Compilation" class="headerlink" title="Compilation"></a>Compilation</h2><ul><li>Scala, Java, C, and C++ are compiled language</li><li>Compiler errors are common<ul><li>Compilers will check all syntax and types and alert us of any errors (Compiler error)</li><li>Program fails to be converted into the target language</li><li>Program never runs</li><li>The compiler can help us find errors before they become run-time errors</li></ul></li></ul><p>Compilers and runs without error         </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CompileError</span>(<span class="params">var state: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addToState</span></span>(toAdd: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;adding to state&quot;</span>)</span><br><span class="line">        <span class="keyword">this</span>.state += toAdd</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> exampleObject = <span class="keyword">new</span> <span class="type">CompilerError</span>(<span class="number">5</span>)</span><br><span class="line">        exampleObject.addToState(<span class="number">10</span>)</span><br><span class="line">        println(exampleObject.state)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Does not compile. Will not run any code         </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CompileError</span>(<span class="params">var state: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addToState</span></span>(toAdd: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;adding to state&quot;</span>)</span><br><span class="line">        <span class="keyword">this</span>.state += toAdd</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> exampleObject = <span class="keyword">new</span> <span class="type">CompilerError</span>(<span class="number">5</span>)</span><br><span class="line">        exampleObject.addToState(<span class="string">&quot;ten&quot;</span>)</span><br><span class="line">        println(exampleObject.state)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Compilation-Scala"><a href="#Compilation-Scala" class="headerlink" title="Compilation - Scala"></a>Compilation - Scala</h2><ul><li><p>Scala compiles to Java Byte Code</p></li><li><p>Executed by the Java Virtual Machine (JVM)</p><ul><li>Installed on Billions of devices!</li></ul></li><li><p>Compiled Java and Scala code can be uesd in the same program</p><ul><li>Since they both compile to Java Byte Code</li></ul></li><li><p>Scala uses many Java classes</p><ul><li>We saw that Math in Scala is Javaâ€™s Math calss</li><li>Weâ€™ll somtimes use Java libraries in this course</li></ul></li></ul><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul><li>Every class you create will be passed by reference<ul><li>Also data structure (List, Map, Array) and other built-in calsses</li></ul></li><li>Pass-by-reference means that a copy is not made when a variable is assigned a value</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ItemReferences</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">increasePrice</span></span>( item: <span class="type">Item</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        item.price += <span class="number">0.25</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> cereal: <span class="type">Item</span> = <span class="keyword">new</span> <span class="type">Item</span>(<span class="string">&quot;cereal&quot;</span>, <span class="number">3.0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// pass-by-reference</span></span><br><span class="line">        increasePrice(cereal)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// assignment-by-reference</span></span><br><span class="line">        <span class="keyword">val</span> cereal2: <span class="type">Item</span> = cereal</span><br><span class="line"></span><br><span class="line">        increasePrice(cereal2)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.5</span></span><br><span class="line">        println(cereal.price)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>increasePrice returns Unit, yet it is able to modify an item</li><li>cereal and cereal2 â€œreferâ€ to the same obejct<ul><li>Changes made to one will change both variables</li></ul></li></ul><h1 id="References-Warning"><a href="#References-Warning" class="headerlink" title="References: Warning"></a>References: Warning</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">updateObject</span></span>(dynamicObject: <span class="type">DynamicObject</span>, deltaTime: <span class="type">Double</span>, magnitudeOfGravity: <span class="type">Double</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    dynamicObject.previousLocation = dynamicObject.location</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... rest of the method</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>previousLocation and location are the same object!!!<ul><li>Changing location will change previousLocation</li></ul></li><li>Create a new PhysicsVector for previousLocation or copy x,y,z one at a time</li></ul><h1 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h1><ul><li>Random Access Memory (RAM)<ul><li>Access any value by index</li><li>Effectively a giant array</li></ul></li><li>All values in your program are stored here</li></ul><h2 id="Letâ€™s-Talk-About-Memory"><a href="#Letâ€™s-Talk-About-Memory" class="headerlink" title="Letâ€™s Talk About Memory"></a>Letâ€™s Talk About Memory</h2><ul><li><p>Significantly faster than reading &#x2F; writing to disk</p><ul><li>Even with a SSD</li></ul></li><li><p>Significantly more expensive than disk space</p></li><li><p>Operating System (OS) controls memory</p></li><li><p>On Program start, OS allocates a section of memory for our program</p><ul><li>Gives access to a range of memory addresses &#x2F; indices</li></ul></li><li><p>Some space is reserved for program data</p></li><li><p>Details not important to CSE116</p></li><li><p>The rest will be used for our data</p></li><li><p>Data stored in the <strong>memory stack</strong></p></li></ul><h2 id="Memory-Stack"><a href="#Memory-Stack" class="headerlink" title="Memory Stack"></a>Memory Stack</h2><ul><li><p>Stores the variables and values for our programs</p></li><li><p>LIFO - Last In First Out</p><ul><li>New values are added to the end of the stack</li><li>Only values at the end of the stack can be removed</li></ul></li><li><p>Method calls create new stack frames</p><ul><li>Active stack frame is the currently executiong method</li><li>Only stack values in the current stack frame can be accessed</li><li>A stack frame is isolated from the rest of the stack</li></ul></li><li><p>Program execution begins in the mian method stack frame</p></li><li><p>Code blocks control variable scope</p><ul><li>Code executing within a code block (ex. if, for, while) <br> begins a new section on the stack</li></ul></li><li><p>Similar to stack frames, but values outside of the code block can be accessed</p></li><li><p>Variables &#x2F; Values in the same code block cannot have the same name</p><ul><li>If variables in different blocks have the same name, the program searches the inner-most code block first for that variable</li></ul></li><li><p>When the end of a code block is reached, all variables &#x2F; values created within that block are destoryed</p></li></ul><h2 id="Memory-Stack-Example"><a href="#Memory-Stack-Example" class="headerlink" title="Memory Stack Example"></a>Memory Stack Example</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">computeFactorial</span>(<span class="params">n</span>)&#123;</span><br><span class="line">    result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        result *= i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">main</span>(<span class="params">commandLineArgs</span>)&#123;</span><br><span class="line">    i = <span class="number">5</span></span><br><span class="line">    n = <span class="title function_">computeFactorial</span>(i)</span><br><span class="line">    <span class="title function_">print</span>(n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>Note: This example is language independent and will focus on the concept of memory. Each language will have differences in how memory is managed</strong>                 </p><p>No contents showing, check PDF              </p><h2 id="Stack-Memory"><a href="#Stack-Memory" class="headerlink" title="Stack Memory"></a>Stack Memory</h2><ul><li>Only â€œprimitiveâ€ types are stored in stack memory<ul><li>Double &#x2F; Float</li><li>Int &#x2F; Long &#x2F; Short</li><li>Char</li><li>Byte</li><li>Boolean</li></ul></li><li>Values corresponding to Java primitives<ul><li>Compiler converts these objects to primitives in Java Byte Code</li></ul></li></ul><h2 id="Memory-Heap"><a href="#Memory-Heap" class="headerlink" title="Memory Heap"></a>Memory Heap</h2><p>No contents showing, check PDF             </p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong> In a package named â€œphysicsâ€ create a Scala class named â€œPhysicsVectorâ€ with the following:              </p><ul><li>A constructor that takes 3 <strong>var</strong>iables of type Double named â€œxâ€, â€œyâ€, and â€œzâ€</li><li>A method named â€œmultiplyByConstantâ€ that takes a Double and returns Unit. This method multiplies x, y, and z by the input<ul><li>Be sure to update the state variables of the object when this method is called</li><li>Example: If a vector with x, y, and z of (2.0, 0.0, -1.5) has multiplyByConstant(2.0) called on it, itâ€™s state will become (4.0, 0.0, -3.0)</li></ul></li><li>A method named â€œaddVectorâ€ that takes a PhysicsVector and returns Unit. This method adds the values of x, y, and z of the input vector to the state variables of the calling vector<ul><li>Example: If a vector with x, y, and z of (2.0, 0.0, -1.5) has addVector(otherVector) called on it where otherVector is (-3.5, 0.4, -1.0), itâ€™s state will become (-1.5, 0.4, -2.5)</li></ul></li></ul><p><strong>Testing:</strong> In a package named â€œtestsâ€ create a Scala class named â€œTestVectorâ€ as a<br>test suite that tests <strong>all</strong> the functionality listed above</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec#5:Object &amp; Class</title>
      <link href="/cn/Object-Class/"/>
      <url>/cn/Object-Class/</url>
      
        <content type="html"><![CDATA[<h1 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h1><ul><li>Objects have State and Behavior</li><li>State &#x2F; Variables<ul><li>Objects store their state in variables</li><li>[Vocab]Often called fields, member variables, or instance variable</li></ul></li><li>Behavior &#x2F; Functions<ul><li>Objects contains functions that can depend on its state</li><li>[Vocab]When a function is part of an object itâ€™s called a <strong>method</strong></li></ul></li></ul><h1 id="Object-with-State"><a href="#Object-with-State" class="headerlink" title="Object with State"></a>Object with State</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ObjectWithState</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//state of the object</span></span><br><span class="line">    <span class="keyword">var</span> x: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">var</span> y: <span class="type">Int</span> = <span class="number">7</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Behavior of the object</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">doubleX</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.x *= <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Any variale outside of all methods is part of the state of the object</li><li>Keyword <strong>this</strong> stores a reference to the enclosing object</li><li>Use this.<variable_name> to access state from within the object</li><li>Declare variables using <strong>var</strong> if the value can change</li><li>Declare variables using <strong>val</strong> to prevent the value from changing<ul><li>Changing a value declared with val will cause an error</li></ul></li><li>The variables defining the state of an object have many different names<ul><li>Instance variables</li><li>Member variables</li><li>Fields</li><li>State variables</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ObjectMian</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="type">ObjectWithState</span>.doubleX()</span><br><span class="line">        println(<span class="type">ObjectWithState</span>.x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Any code with access to an object can also access itâ€™s state &#x2F; behavior with the dot notation</li><li>Can also change the state of an object</li></ul><p><strong>Every value in Scala is an object!</strong></p><h1 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h1><ul><li>Classes are templates for creating objects with similar state and behavior<ul><li>Objects are <strong>instantiated</strong> from classes using the keyword <strong>new</strong></li></ul></li><li>Used to create many objects<ul><li>Each object can have a different state</li><li>Each has its own copies of the state variables</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span>(<span class="params">val description: <span class="type">String</span>, var price: <span class="type">Double</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> timesPurchased: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">purchase</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.timePurchased += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onSale</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.price *= <span class="number">0.8</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Define a class to represent an item in a store</li><li>State and behavior is defined the same way as objects</li><li>We define one state variable to track the number of times this item was purchased along with a method &#x2F; behavior to purchase an item</li><li>We define more behavior to mark an item as on sale by reducing its price by 20%.</li><li>Classes also contain special methods called constructors</li><li>This method is called when a new object is created using this class</li><li>Any code calling the constructor can sue its parameters to set the initial state of the created object</li><li>[Scala] All constructor parameters become state variables<ul><li>Use <strong>var</strong> in the constructor id the state variable can change</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ItemMain</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printPrice</span></span>(item: <span class="type">Item</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;Current price of &quot;</span> + item.description + <span class="string">&quot; is: $&quot;</span> + item.price)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> cereal: <span class="type">Item</span> = <span class="keyword">new</span> <span class="type">Item</span>(<span class="string">&quot;cereal&quot;</span>, <span class="number">3.0</span>)</span><br><span class="line">        <span class="keyword">val</span> milk: <span class="type">Item</span> = <span class="keyword">new</span> <span class="type">Item</span>(<span class="string">&quot;milk&quot;</span>, <span class="number">2.0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Change state using behavior</span></span><br><span class="line">        cereal.purchase()</span><br><span class="line">        cereal.onSale()</span><br><span class="line">        cereal.purchase()</span><br><span class="line"></span><br><span class="line">        println(cereal.decription + <span class="string">&quot; has been purchased &quot;</span> + cereal.timePurchaed + <span class="string">&quot; times&quot;</span>)</span><br><span class="line">        printPrice(cereal)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Change state directly</span></span><br><span class="line">        milk.price = <span class="number">1.5</span></span><br><span class="line"></span><br><span class="line">        printPrice(milk)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>Call a constructor using the <strong>new</strong> keyword</p></li><li><p>The constructor returns a reference to the created class of the type of the class</p></li><li><p>We have two different object of type item</p></li><li><p>cereal and milk have their own copies of each instance variable</p></li><li><p>Int, Double, Boolean, List, Array, Map</p><ul><li>Are all classes</li><li>We use these classes to creat objects</li><li>var list: List[Int] &#x3D; List(2, 3, 4)</li></ul></li><li><p>Create objects by calling the constructor for that class</p></li><li><p>List is setup in a way that we donâ€™t use <strong>new</strong></p></li><li><p>For our classes we will use the <strong>new</strong> keyword</p></li></ul><h1 id="Something-about-homework"><a href="#Something-about-homework" class="headerlink" title="Something about homework"></a>Something about homework</h1><ul><li>Method parameters, including constructor, can have default values<ul><li>Any missing arguments are set to the default value</li><li>Can define a toSting method to print an object with custom formatting<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PhysicsVector</span>(<span class="params">var x: <span class="type">Double</span> = 0.0, var y: <span class="type">Double</span> = 0.0, var z: <span class="type">Double</span> = 0.0</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>: <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="string">&quot;(&quot;</span> + x + <span class="string">&quot;, &quot;</span> + y + <span class="string">&quot;, &quot;</span> + z + <span class="string">&quot;)&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> vector: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">4.0</span>, <span class="number">-3.5</span>, <span class="number">0.7</span>)</span><br><span class="line"><span class="comment">// (4.0, -3.5, 0.7)</span></span><br><span class="line"><span class="keyword">val</span> vector: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>(<span class="number">-6.0</span>)</span><br><span class="line"><span class="comment">// (-6.0, 0.0, 0.0)</span></span><br><span class="line"><span class="keyword">val</span> vector: <span class="type">PhysicsVector</span> = <span class="keyword">new</span> <span class="type">PhysicsVector</span>()</span><br><span class="line"><span class="comment">// (0.0, 0.0, 0.0)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h1 id="Testing-Classes-Demo"><a href="#Testing-Classes-Demo" class="headerlink" title="Testing Classes Demo"></a>Testing Classes Demo</h1><p>â€¦â€¦<br>Nothing to show.<br>â€¦â€¦ </p><h1 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h1><p><strong>Question:</strong> In a package named â€œrhymesâ€ create a Scala <strong>class</strong> named â€œWordâ€ with the following:                        </p><ul><li>A constructor that takes a <strong>val</strong>ue of type List of Strings representing the sounds of the word with each sound as a separate element in the list<ul><li>For more information on sounds, see the Rhyming Dictionary HW handout</li></ul></li><li>A method named â€œalliterationLengthâ€ that takes a Word as a parameter and returns an Int. This method returns the number of sounds at the beginning of the 2 words that match<ul><li>Ex. The Lists of sounds <ul><li>List(â€œKâ€, â€œAH0â€, â€œLâ€, â€œAE1â€, â€œMâ€, â€œAH0â€, â€œTâ€, â€œAH0â€, â€œSâ€) and </li><li>List(â€œKâ€, â€œAH0â€, â€œLâ€, â€œIH1â€, â€œPâ€, â€œSâ€, â€œOW2â€) </li><li>have an alliteration length of 3 since the first 3 sounds are identical</li></ul></li></ul></li></ul><p><strong>Testing:</strong>  In a package named â€œtestsâ€ create a Scala class named â€œTestWordsâ€ as a test suite that tests the functionality listed above                   </p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EE202çš„å­¦ä¹ ç¬”è®°-Lec#1:Basic Components and Circuit Variables</title>
      <link href="/cn/EE-202-1/"/>
      <url>/cn/EE-202-1/</url>
      
        <content type="html"><![CDATA[<p>EE-202<br>Copy Right Â©ï¸ ï¼šFarah Vandrevala<br>EE202LRA1:Circuit Analysis:220910582    </p><h1 id="Basic-Components-and-Circuit-Variables"><a href="#Basic-Components-and-Circuit-Variables" class="headerlink" title="Basic Components and Circuit Variables"></a>Basic Components and Circuit Variables</h1><h2 id="Circuit-Terminology"><a href="#Circuit-Terminology" class="headerlink" title="Circuit Terminology"></a>Circuit Terminology</h2><ol><li><p>Electric: Mathematical model that approximates the behavior of a actual electical system.     </p></li><li><p>Electric Charge(Q): Charge conservation gener governs the working of electrival circuits. Charge(Q),measured in Coulum (C)   </p></li><li><p>Current(I): Rate of flow of change. measured in Ampere(A).<br>i &#x3D; dQ &#x2F; dt &#x3D; Q &#x2F; t<br>1A &#x3D; 1C &#x2F; 1S     </p></li><li><p>Voltage(V) (Potential difference): Force that causes current to flow from higher potential point to lower potential point.<br>Vab &#x3D; Va - Vb<br>Amount of work done (energy expended) to move charge is voltage.<br>V &#x3D; dW &#x2F; dQ &#x3D; W &#x2F; Q    </p></li><li><p>Power(P): Rate at which energy is expended. measured in Watts(W).<br>Voltage &amp; Current are mesureable variables.<br>P &#x3D; dW &#x2F; dt &#x3D; W &#x2F; t &#x3D; dW &#x2F; dq X dq &#x2F; dt<br>P &#x3D; V * I<br>1W &#x3D; 1V * 1A     </p></li><li><p>Energy(W): the cost of â€¦ , measured in Joules(J).<br>W &#x3D; V * Q</p></li></ol><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="P1"><a href="#P1" class="headerlink" title="P1"></a>P1</h4><p>If 5A of constant current passes through a conductor, how many electrons pass through a given point in 1 minute?   </p><p>Given:   </p><ul><li>i &#x3D; 5A</li><li>t &#x3D; 1min</li></ul><p>Find:    </p><ul><li>number of e, e &#x3D; -1.6 * 10^19 C</li></ul><p>Know:</p><ul><li>Amount of charge on each electron</li></ul><p>i &#x3D; q &#x2F; t<br>q &#x3D; i * t &#x3D; 5A * 60s &#x3D; 300C    </p><p>Verify: </p><ul><li>Balance the units</li></ul><p>e- &#x3D; q &#x2F; |e-| &#x3D; 1.875 * 10^21 electrons &#x3D; 300C &#x2F; 1.6 * 10^19 C    </p><h4 id="P2"><a href="#P2" class="headerlink" title="P2"></a>P2</h4><p>In a circuit, 9.25 uJ of energy is needed to move 0.5 uC of charge from point A to point B. What is the voltage between the points?    </p><p>Given: </p><ul><li>W &#x3D; 9.25 uJ   </li><li>q &#x3D; 0.5 uC</li></ul><p>Find:</p><ul><li>Vab &#x3D; W &#x2F; Q &#x3D; 9.25 * 10^-6 J &#x2F; 0.5 * 10^-6 C &#x3D; 18.5 V</li></ul><p>Verify:  </p><ul><li>Balance units 1V &#x3D; 1J &#x2F; 1C</li></ul><h4 id="P3"><a href="#P3" class="headerlink" title="P3"></a>P3</h4><p>A 120V battery is connected across a 100W bulb. How many electrons pass through the bulb in 1 hour?    </p><p>Given: </p><ul><li>V &#x3D; 120V</li><li>P &#x3D; 100W</li><li>t &#x3D; 1h</li></ul><p>Find: </p><ul><li>number of e<ul><li>Need: Total charge<ul><li>Current</li></ul></li></ul></li></ul><p>Know:</p><ul><li>P &#x3D; V * I</li><li>I &#x3D; P &#x2F; V &#x3D; 100W &#x2F; 120V &#x3D; 5&#x2F;6A</li><li>I &#x3D; Q &#x2F; t &#x3D; I * t &#x3D; 5&#x2F;6 * 60s * 60min &#x3D; 3000C</li><li>#of e- &#x3D; Q &#x2F; |e-| &#x3D; 3000C &#x2F; 1.6 * 10^-19C &#x3D; 1.875 * 10^22 e</li></ul><h4 id="P4"><a href="#P4" class="headerlink" title="P4"></a>P4</h4><p>A smartphone has a 3.8V battery whose charge capacity is 1.5mAh. One full cycle of charge will last 12h on talk time, and 10days on stanby. How mauch power is consumed in each case?     </p><p>q &#x3D; i * t<br>1C &#x3D; 1A * 1S &#x3D; 1A * 3600s &#x3D; 1Ah     </p><p>Given: </p><ul><li>V &#x3D; 3.8V</li><li>Q &#x3D; 1.5mAh</li><li>Talk time mode: t &#x3D; 12h</li></ul><p>Find:   </p><ul><li>P</li></ul><p>Know:   </p><ul><li>W &#x3D; V * Q </li><li>P &#x3D; W &#x2F; t</li><li>P &#x3D; (V * Q) &#x2F; t &#x3D; [3.8V * (1.5 * 10^-3Ah)] &#x2F; 12h &#x3D; 475 * 10^-6W &#x3D; 475 mW</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> EE202 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EE202 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec#3:Scala Unit Testing</title>
      <link href="/cn/Unit-Testing/"/>
      <url>/cn/Unit-Testing/</url>
      
        <content type="html"><![CDATA[<h1 id="Unit-Testing"><a href="#Unit-Testing" class="headerlink" title="Unit Testing"></a>Unit Testing</h1><h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><ul><li>How do you know if your code is correct?</li><li>Submit to AutoLab?<ul><li>Does not exist outside of class</li><li>Does not exist for your project</li></ul></li></ul><h2 id="Recall"><a href="#Recall" class="headerlink" title="Recall"></a>Recall</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> example</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Conditional</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">computeSize</span></span>(input: <span class="type">Double</span>): <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> large: <span class="type">Double</span> = <span class="number">60.0</span></span><br><span class="line">        <span class="keyword">val</span> medium: <span class="type">Double</span> = <span class="number">30.0</span></span><br><span class="line">        <span class="keyword">if</span> (input &gt;= large) &#123;</span><br><span class="line">            <span class="string">&quot;large&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (input &gt;= medium) &#123;</span><br><span class="line">            <span class="string">&quot;medium&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="string">&quot;small&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>How do we test this function to verufy that itâ€™s correct?</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> example</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Conditional</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">computeSize</span></span>(input: <span class="type">Double</span>): <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> large: <span class="type">Double</span> = <span class="number">60.0</span></span><br><span class="line">        <span class="keyword">val</span> medium: <span class="type">Double</span> = <span class="number">30.0</span></span><br><span class="line">        <span class="keyword">if</span> (input &gt;= large) &#123;</span><br><span class="line">            <span class="string">&quot;large&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (input &gt;= medium) &#123;</span><br><span class="line">            <span class="string">&quot;medium&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="string">&quot;small&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(computeSize(<span class="number">70.0</span>))</span><br><span class="line">        println(computeSize(<span class="number">50.0</span>))</span><br><span class="line">        println(computeSize(<span class="number">10.0</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Call the method from main</li><li>Print the results</li><li>Manaually verify</li></ul><h2 id="What-about-Large-Projects"><a href="#What-about-Large-Projects" class="headerlink" title="What about Large Projects?"></a>What about Large Projects?</h2><ul><li><p>There may be 100â€™s of files and 1000â€™s of methods</p></li><li><p>Any change in a function might break any code</p></li><li><p>Will you manually verify all that code for each change?</p></li><li><p>Unit Testing</p><ul><li>Automate testing</li><li>Provide structure to testing</li></ul></li></ul><h2 id="Unit-Testing-1"><a href="#Unit-Testing-1" class="headerlink" title="Unit Testing"></a>Unit Testing</h2><ul><li>Run a serious of tests on your code</li><li>If the code is correct, all test should pass</li><li>If the code is incorrect, at least one test should fail</li><li>A set of test should test every possible error that could occur</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> tests</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.scalatest._</span><br><span class="line"><span class="keyword">import</span> example.<span class="type">Conditional</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestComputeDize</span> <span class="title">extend</span> <span class="title">FunSuite</span> </span>&#123;</span><br><span class="line">    test(<span class="string">&quot;Doubles are checked for size in each category&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">val</span> largeDouble: <span class="type">Double</span> = <span class="number">70.0</span></span><br><span class="line">        <span class="keyword">val</span> mediumDoubleUpperBound: <span class="type">Double</span> = <span class="number">59.99</span></span><br><span class="line">        <span class="keyword">val</span> mediumDoubleLowerBound: <span class="type">Double</span> = <span class="number">30.00</span></span><br><span class="line">        <span class="keyword">val</span> smallDouble: <span class="type">Double</span> = <span class="number">10.0</span></span><br><span class="line"></span><br><span class="line">        assert(<span class="type">Conditional</span>.computeSize(largeDouble) == <span class="string">&quot;large&quot;</span>, largeDouble)</span><br><span class="line">        assert(<span class="type">Conditional</span>.computeSize(mediumDoubleUpperBound) == <span class="string">&quot;medium&quot;</span>, mediumDoubleUpperBound)</span><br><span class="line">        assert(<span class="type">Conditional</span>.computeSize(mediumDoubleLowerBound) == <span class="string">&quot;medium&quot;</span>, mediumDoubleLowerBound)</span><br><span class="line">        assert(<span class="type">Conditional</span>.computeSize(smallDouble) == <span class="string">&quot;small&quot;</span>, smallDouble)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Use Maven to download scalatest</li><li>Click Maven in the IntelliJ sidebar to interact with pom.xml</li></ul><p>Create a new test that will be executed when this file is ran        </p><p>No main method      </p><p>FunSuite controls execution instead of main     </p><p>Is this enough testing?    </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> tests</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.scalatest._</span><br><span class="line"><span class="keyword">import</span> example.<span class="type">Conditional</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestComputeDize</span> <span class="title">extend</span> <span class="title">FunSuite</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    test(<span class="string">&quot;Use many test cases for each category&quot;</span>)&#123;</span><br><span class="line">        <span class="comment">// notice largeDouble must be declared with var we change its value</span></span><br><span class="line">        <span class="keyword">var</span> largeDoubles: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">60.0</span>, <span class="number">60.01</span>, <span class="number">70.0</span>, <span class="number">90.0</span>, <span class="number">1000.0</span>)</span><br><span class="line">        <span class="keyword">val</span> mediumDoubles: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">59.9</span>, <span class="number">30.0</span>, <span class="number">30.01</span>, <span class="number">40.0</span>, <span class="number">50.0</span>)</span><br><span class="line">        <span class="keyword">val</span> smallDoubles: <span class="type">List</span>[<span class="type">Double</span>] = <span class="type">List</span>(<span class="number">29.99</span>, <span class="number">20.0</span>, <span class="number">10.0</span>, <span class="number">0.0</span>, <span class="number">-100.0</span>, <span class="number">-1000.0</span>)</span><br><span class="line"></span><br><span class="line">        largeDoubles = largeDoubles :+ <span class="number">10000.0</span> <span class="comment">// Example of adding an element to a List</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(largeDouble &lt;- largeDoubles)&#123;</span><br><span class="line">            assert(<span class="type">Conditional</span>.computeSize(largeDouble) == <span class="string">&quot;large&quot;</span>, largeDouble)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(mediumDouble &lt;- mediumDoubles)&#123;</span><br><span class="line">            assert(<span class="type">Conditional</span>.computeSize(mediumDouble) == <span class="string">&quot;large&quot;</span>, mediumDouble)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(smallDouble &lt;- smallDoubles)&#123;</span><br><span class="line">            assert(<span class="type">Conditional</span>.computeSize(smallDouble) == <span class="string">&quot;large&quot;</span>, smallDouble)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Use data structure to run many test cases       </p><h2 id="Unit-Testing-Objectives"><a href="#Unit-Testing-Objectives" class="headerlink" title="Unit Testing Objectives"></a>Unit Testing Objectives</h2><ul><li>Each homework, and other places in the course, will have objectives that require through testing</li><li>When these objectives are graded, your test suite is ran:<ul><li>Against your solution</li><li>Against a correct solution stored on the server</li><li>Against a variety of incorrect solution stored on the server</li></ul></li><li>Your test suite should pass on both your solution and the correct solution</li><li>Your test suite should fail on all the incorrect solutions</li></ul><h2 id="Maven-Dependency-Management"><a href="#Maven-Dependency-Management" class="headerlink" title="Maven: Dependency Management"></a>Maven: Dependency Management</h2><ul><li>To run this testing code, we used an external library named Scalatest<ul><li>Scalatest does not come with Scala</li><li>We must download it before running tests</li></ul></li><li>To manage external libraies, weâ€™ll use Maven<ul><li>List all dependancies(libraies)in a file named pom.xml</li><li>Save pom.xml in the root directory of your project</li><li>Use Maven to download all dependancies</li></ul></li><li>The pom.xml is similar to the requirements.txt file we used in Python</li></ul><h2 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h2><p><strong>Method:</strong> In a package named â€œlectureâ€ create an object named â€œFirstObjectâ€ with a metho named â€œcomputeShippingCostâ€ that takes a Double representing the weight of a package as a paramater and returns a Double representing the shipping cost of the package.</p><p>The shipping cost is ($)5 + 0.25 for each pound over 30.      </p><p><strong>Unit Testing:</strong> In a package named â€œtestsâ€ create a class &#x2F; file named â€œUnitTestingâ€ as a test suite that tests the computeShipping Cost method.     </p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec#2:Scala Basics cont&#39;</title>
      <link href="/cn/Scala-Basics-cont/"/>
      <url>/cn/Scala-Basics-cont/</url>
      
        <content type="html"><![CDATA[<p>Lecture #2  9&#x2F;4<br>æˆè¯¾æ—¶é—´ï¼š2020-09-04 13:50:00</p><h1 id="Scala-Basics-contâ€™"><a href="#Scala-Basics-contâ€™" class="headerlink" title="Scala Basics contâ€™"></a>Scala Basics contâ€™</h1><h2 id="Scala-Types"><a href="#Scala-Types" class="headerlink" title="Scala Types"></a>Scala Types</h2><ul><li>All values in Scala are objects<ul><li>Objects contain variables and methods</li><li>No primitive values in Scala</li></ul></li></ul><h3 id="Int"><a href="#Int" class="headerlink" title="Int"></a>Int</h3><ul><li>A whole number</li><li>32 bit representation</li><li>-2147483648 to 2147483648<ul><li>values out side this range will overflow</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> a: <span class="type">Int</span> = <span class="number">27397129</span></span><br><span class="line">println(a)</span><br></pre></td></tr></table></figure><h3 id="Long"><a href="#Long" class="headerlink" title="Long"></a>Long</h3><ul><li>A whole number (like int)</li><li>64 bit representation</li><li>-9223372036854775808 to 9223372036854775808</li><li>Useful when you expect values that would overflow an Int</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> a: <span class="type">Long</span> = <span class="number">27397129</span></span><br><span class="line">println(a)</span><br></pre></td></tr></table></figure><h3 id="Double"><a href="#Double" class="headerlink" title="Double"></a>Double</h3><ul><li>Number with a whole number and a decimal portion</li><li>64 bit representataion</li><li>Values are truncated to fit in 64 bit<ul><li>Loss of precision!</li><li>0.1 doesnâ€™t exit!</li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> epsilon: <span class="type">Double</span> = <span class="number">0.00000001</span></span><br><span class="line"><span class="keyword">val</span> b: <span class="type">Double</span> = <span class="number">0.1</span></span><br><span class="line"><span class="keyword">val</span> c: <span class="type">Double</span> = b * <span class="number">3</span></span><br><span class="line"><span class="keyword">val</span> expected: <span class="type">Double</span> = <span class="number">0.3</span></span><br><span class="line">println(<span class="type">Math</span>.abs(c - <span class="number">0.3</span>)&lt; epsilon)</span><br></pre></td></tr></table></figure><h3 id="Boolean-and-Unit"><a href="#Boolean-and-Unit" class="headerlink" title="Boolean and Unit"></a>Boolean and Unit</h3><ul><li>Boolean <ul><li>true or false</li></ul></li><li>Unit<ul><li>Nothing</li><li>Used to indicate a method &#x2F; function that does not return a value</li></ul></li></ul><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ul><li>A sequence of characters (type Char)</li><li>Declared with double quotes <code>&quot; &quot;</code><ul><li>val s: String &#x3D; â€œniceâ€</li></ul></li><li>Many useful methods.<ul><li>startsWith()</li><li>length() - number of String</li><li>.split() - Separates this String by given String<ul><li>line.split(â€œ#â€)</li></ul></li></ul></li></ul><h2 id="Scala-Type-Conversions"><a href="#Scala-Type-Conversions" class="headerlink" title="Scala Type Conversions"></a>Scala Type Conversions</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> example</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Types</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Declaring variable</span></span><br><span class="line">        <span class="keyword">var</span> anInt: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">        <span class="keyword">var</span> aDouble: <span class="type">Double</span> = <span class="number">5.8</span></span><br><span class="line">        <span class="keyword">var</span> aBoolean: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">var</span> aString: <span class="type">String</span> = <span class="string">&quot;6.3&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Converting variable types</span></span><br><span class="line">        <span class="keyword">var</span> anotherDouble: <span class="type">Double</span> = aString.toDouble</span><br><span class="line">        <span class="keyword">var</span> anotherString: <span class="type">String</span> = anInt.toString</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Truncates the decimal. anotherInt == 5</span></span><br><span class="line">        <span class="keyword">var</span> anotherInt: <span class="type">Int</span> = aDouble.toInt</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="For-Loop"><a href="#For-Loop" class="headerlink" title="For Loop"></a>For Loop</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (&lt;variable_name&gt; &lt;- &lt;data_structure&gt;)&#123;</span><br><span class="line">    &lt;loop_body&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> example</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Loop</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printOneTo</span></span>(n: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to n)&#123;</span><br><span class="line">            println(<span class="string">&quot;i == &quot;</span> + i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printOneToAlternate</span></span>(n: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> numbers: <span class="type">Range</span> = <span class="number">1</span> to n</span><br><span class="line">        <span class="keyword">for</span>(i &lt;- numbers) &#123;</span><br><span class="line">            println(<span class="string">&quot;i == &quot;</span> + i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        printOneTo(<span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="For-Loop-String-Example"><a href="#For-Loop-String-Example" class="headerlink" title="For Loop + String Example"></a>For Loop + String Example</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> example</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">StringSplitter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">computPercentTrue</span></span>(line: <span class="type">String</span>): <span class="type">Double</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> splits: <span class="type">Array</span>[<span class="type">String</span>] = line.split(<span class="string">&quot;:&quot;</span>)</span><br><span class="line">        <span class="keyword">var</span> totalCount: <span class="type">Double</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> trueCount: <span class="type">Double</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (value &lt;- splits) &#123;</span><br><span class="line">            <span class="keyword">val</span> valueAsBoleean: <span class="type">Boolean</span> = value.toBoolean</span><br><span class="line">            <span class="keyword">if</span> (valueAsBoleean)&#123;</span><br><span class="line">                trueCount += <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">            totalCount += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        trueCount / totalCount</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> testInput = <span class="string">&quot;true;false;true;true;ture&quot;</span></span><br><span class="line">        <span class="keyword">val</span> percenTrue = computePercentTrue(testInput) <span class="comment">// expecting 0.8</span></span><br><span class="line">        println(<span class="string">&quot;Percentage true == &quot;</span> + percentTrue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Reading-Files"><a href="#Reading-Files" class="headerlink" title="Reading Files"></a>Reading Files</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> example</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.io.&#123;<span class="type">BufferedSource</span>, <span class="type">Source</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">FileReader</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convertFileToString</span></span>(filename: <span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> contents: <span class="type">String</span> = <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="keyword">val</span> file: <span class="type">BufferedSource</span> = <span class="type">Source</span>.fromFile(filename)</span><br><span class="line">        <span class="keyword">for</span> (line &lt;- file.getLines()) &#123;</span><br><span class="line">            contents += line + <span class="string">&quot;\n&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        contents</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> filename = <span class="string">&quot;data/testFile.txt&quot;</span></span><br><span class="line">        <span class="keyword">val</span> contents = convertFileToString(filename)</span><br><span class="line">        println(contents)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h2><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><ul><li>Sequential<ul><li>One continuous block of memory</li><li>Random access based on memory address<ul><li>address &#x3D; first_address + (element_size * index)</li></ul></li></ul></li><li>Fixed Size<ul><li>Since memory adjacent to the block may be usedd</li><li><strong>Efficient when you konw how many elements youâ€™ll need to store</strong></li></ul></li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">arrayExample</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//Create new Array of Int</span></span><br><span class="line">    <span class="keyword">val</span> arr: <span class="type">Array</span>[int] = <span class="type">Array</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Change a value by index</span></span><br><span class="line">    arr(<span class="number">1</span>) = <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Access a value by index</span></span><br><span class="line">    <span class="keyword">val</span> x: <span class="type">Int</span> = arr(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Iterate over elements</span></span><br><span class="line">    <span class="keyword">for</span> (element &lt;- arr) &#123;</span><br><span class="line">        println(element)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Iterate over indices</span></span><br><span class="line">    <span class="keyword">for</span> (index &lt;- <span class="number">0</span> to (arr.length - <span class="number">1</span>)) &#123;</span><br><span class="line">        println(index)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Iterate over indices - alternate</span></span><br><span class="line">    <span class="keyword">for</span> (index &lt;- arr.indices) &#123;</span><br><span class="line">        println(index)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><ul><li>Sequential<ul><li>Spread across memory</li><li>Each element knows the memory address of the next element<ul><li>Follow the addresses to find each element</li></ul></li></ul></li><li>Variable Size<ul><li>Store new element anywhere in memory</li><li>Add the new memory address to the last element<ul><li>Or new element stores address of first element</li></ul></li></ul></li><li>Values cannot change [In Scala]</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">listExample</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// Create new Array of Int</span></span><br><span class="line">    <span class="keyword">var</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Access the first element</span></span><br><span class="line">    <span class="keyword">val</span> x: <span class="type">Int</span> = list.head</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Access a value by position</span></span><br><span class="line">    <span class="keyword">val</span> y: <span class="type">Int</span> = list.apply(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add an element to the end of the list (append)</span></span><br><span class="line">    list = list :+ <span class="number">50</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add an element to the beginning of the list (prepend)</span></span><br><span class="line">    list = <span class="number">70</span> :: list</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Iteration</span></span><br><span class="line">    <span class="keyword">for</span> (element &lt;- list) &#123;</span><br><span class="line">        println(element)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><ul><li>Key-Value Store<ul><li>Values stroed at keys instead of indices</li><li>Multiple different implementations<ul><li>Default is HashMap (CSE250 topic)</li></ul></li></ul></li><li>Variable Size</li><li>Variable Values</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mapExample</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// Create new Map of Int to Int</span></span><br><span class="line">    <span class="keyword">var</span> myMap: <span class="type">Mao</span>[<span class="type">Int</span>, <span class="type">Int</span>] = <span class="type">Map</span>(<span class="number">2</span> -&gt; <span class="number">4</span>, <span class="number">3</span> -&gt; <span class="number">9</span>, <span class="number">4</span> -&gt; <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add an key-value pair</span></span><br><span class="line">    myMap = myMap + (<span class="number">5</span> -&gt; <span class="number">25</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Access a value by key (Crashes if key not in map)</span></span><br><span class="line">    <span class="keyword">val</span> x: <span class="type">Int</span> = myMap(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Accesss a value by key with default value if key not in map</span></span><br><span class="line">    <span class="keyword">val</span> y: <span class="type">Int</span> = myMap.getOrElse(<span class="number">100</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Iteration</span></span><br><span class="line">    <span class="keyword">for</span> ((key, value) &lt;- myMap) &#123;</span><br><span class="line">        println(<span class="string">&quot;value &quot;</span> + vlue + <span class="string">&quot; stored at ket &quot;</span> + key)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h2><p>In a package named â€œlectureâ€ create an object named â€œLectureQuestionâ€ with a method named â€œfileSumâ€ that takes a filename as a String and returns an Int which is the sum of the values in the file.     </p><p>The input file will contain multiple lines each with multiple integer values separated by the â€˜#â€™ character     </p><p>Return the sum of all of the integer values in the file   </p><p>You may assume that the file exists and is properly formatted    </p><p>Sample file contents:   </p><p>â€”â€”Sample File Contentsâ€”â€”<br>3#1#8<br>12#9#25#10<br>-2#12<br>1#2<br>â€”â€”â€”â€”â€”Endâ€”â€”â€”â€”â€“</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³åŸŸåè¦†ç›–çš„é—®é¢˜</title>
      <link href="/cn/CNAME/"/>
      <url>/cn/CNAME/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h1><p>ä»¥æˆ‘ç”¨GitHub.ioæ­æˆ‘çš„åšå®¢ä¸ºä¾‹ï¼ŒGitHubä¼šç”Ÿæˆä¸€ä¸ªCNAMEæ–‡ä»¶æ¥è¿›è¡ŒåŸŸåé‡å®šå‘ã€‚ä½†æ˜¯å½“ä½ ä½¿ç”¨ <code>hexo d</code>æŒ‡ä»¤æ˜¯ä¼šå¯¼è‡´å»ºå¥½çš„CNAMEæ–‡ä»¶è¢«è¦†ç›– &#x2F; åˆ é™¤ã€‚è¿™æ—¶ä½ åˆè¦é‡æ–°å»ç”ŸæˆCNAMEæ–‡ä»¶ï¼Œååˆ†çš„ç¹çã€‚   </p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>é—®é¢˜ä¹Ÿå¾ˆå¥½è§£å†³ï¼Œæ—¢ç„¶hexoé»˜è®¤æ²¡æœ‰ <code>CNAME</code> æ–‡ä»¶ï¼Œé‚£æˆ‘ä»¬åœ¨æœ¬åœ°ç”Ÿæˆä¸€ä¸ª local <code>CNAME</code> å³å¯è§£å†³é—®é¢˜ï¼Œæ­¥éª¤ä¹Ÿéå¸¸çš„ç®€å•ã€‚   </p><p>é¦–å…ˆåœ¨ç»ˆç«¯cdåˆ°ä½ çš„åšå®¢æ ¹ç›®å½•ï¼Œ<br>æ¥ç€cdåˆ° <code>source</code> æ–‡ä»¶å¤¹ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="built_in">source</span></span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ç”ŸæˆCNAMEæ–‡ä»¶ï¼š   </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> CNAME</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå®Œæˆåä½¿ç”¨ <code>vim</code> æŒ‡ä»¤æ‰“å¼€ CNAMEæ–‡ä»¶ï¼Œå¹¶è¾“å…¥ä½ çš„è‡ªå®šä¹‰åŸŸåï¼š   </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim CNAME</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œ <code>CNAME</code> æ–‡ä»¶ä¿å­˜é€€å‡ºå³å¯ï¼Œåç»­å†ä½¿ç”¨ <code>hexo d</code> æ—¶å°±ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> åŸŸå </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> CNAME </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE191çš„å­¦ä¹ ç¬”è®°</title>
      <link href="/cn/CSE191/"/>
      <url>/cn/CSE191/</url>
      
        <content type="html"><![CDATA[<p>CSE-191 Discrete Structures<br>Copy rightÂ©ï¸ : Andrew Hughes (SUNY at Buffalo)</p><h1 id="Introduction-to-Propositional-Logic-9-x2F-2-Lec-1"><a href="#Introduction-to-Propositional-Logic-9-x2F-2-Lec-1" class="headerlink" title="Introduction to Propositional Logic (9&#x2F;2 Lec#1)"></a>Introduction to Propositional Logic (9&#x2F;2 Lec#1)</h1><h2 id="Outline"><a href="#Outline" class="headerlink" title="Outline"></a>Outline</h2><ul><li>Propositional Logic<ul><li><a href="#propositional-Logic">Propositions</a></li><li><a href="#logical-operators">Logical Operators</a></li><li><a href="#truth-tables">Truth Tables</a></li></ul></li></ul><h2 id="The-Foundations-Lagic-and-Proofs"><a href="#The-Foundations-Lagic-and-Proofs" class="headerlink" title="The Foundations: Lagic and Proofs"></a>The Foundations: Lagic and Proofs</h2><ul><li>Rules of logic specify the precise meanings of mathematical statements</li><li>Logic is the basis of all correct mathematical arguments (i.e.,proofs)</li><li>Important in all of CS and CEN:<ul><li>Problem soving</li><li>Software engineering (requirements specification, verification)</li><li>Databases (relational algebras, SQL)</li><li>Computer architecture (logic gates, verification)</li><li>AI (automated theorem proving, rule-based ML)</li><li>Computer security (threat modeling)</li><li>â€¦</li></ul></li></ul><h2 id="Propositional-Logic-Why-do-we-care"><a href="#Propositional-Logic-Why-do-we-care" class="headerlink" title="Propositional Logic: Why do we care?"></a>Propositional Logic: Why do we care?</h2><p>George Boole</p><h2 id="Propositional-Logic"><a href="#Propositional-Logic" class="headerlink" title="Propositional Logic"></a>Propositional Logic</h2><p>Definition: A proposition is a declarative statement    </p><ul><li><p>Must be either TRUE or FALSE   </p></li><li><p>Cannot be both TRUE or FALSE</p></li><li><p>An opinion of a specific person is a proposition</p><ul><li>Their opinion would determine the truth value</li></ul></li><li><p>The bits 0&#x2F;1 are used for F&#x2F;T, respectively</p><ul><li>Digital logic uses 0&#x2F;1 or LOW&#x2F;HIGH or OFF&#x2F;ON</li><li>Computers use bits and logic gates for <strong>all</strong> computation</li></ul></li><li><p>Prositions:</p><ul><li>Declarative statements</li><li>Must be either true of false</li></ul></li><li><p>Non-Prositions:</p><ul><li>Questions</li><li>Commands</li><li>Statements with unassigned variables</li><li>â€¦</li></ul></li></ul><h2 id="Prositional-Variables"><a href="#Prositional-Variables" class="headerlink" title="Prositional Variables"></a>Prositional Variables</h2><p>Definition: Propositional variables arevariables that represent propositions</p><ul><li>Commonly used letters: <em>p</em>, <em>q</em>, <em>r</em> <ul><li>Or first letter of what we mean to represent</li></ul></li><li>A propositional variable may be associated with a <strong>specific proposition</strong> or left as a placeholder for an <strong>arbitrary proposition</strong></li><li>Propositional variables and logical operators are used to form <strong>compound propositions.</strong><ul><li>Each compound prosition is a new proposition itself</li></ul></li></ul><h2 id="Logical-Operators"><a href="#Logical-Operators" class="headerlink" title="Logical Operators"></a>Logical Operators</h2><p>Logical operators allow the combination of propositions.</p><ul><li>Going forward: combine propositions to create new propositions.</li><li>Going backwards: decompose proposition into atomics.</li></ul><h3 id="Negation-operator"><a href="#Negation-operator" class="headerlink" title="Negation operator"></a>Negation operator</h3><ul><li>The proposition <em><code>-p</code></em> is read as <em><code>not p</code></em></li><li>The truth value of <em><code>-p</code></em> is the <strong>opposite</strong> of the truth value of <em><code>p</code></em></li></ul><p>Example:  </p><ul><li><em><code>p</code></em> : I like apple.</li><li><em><code>-p</code></em> : I donâ€™t like apple.</li></ul><h3 id="Binary-logical-operators"><a href="#Binary-logical-operators" class="headerlink" title="Binary logical operators"></a>Binary logical operators</h3><p>Unary operators: Transform <strong>one proposition</strong> into another.<br>Binary operators: Combine <strong>two propositions</strong> into <strong>one compound proposition</strong>.   </p><p>The <strong>conjunction</strong> of <em><code>p</code></em>  and <em><code>q</code></em>, denoted by <em><code>p ÊŒ q</code></em><br><em><code>p ÊŒ q</code></em> means <em><code>p and q</code></em><br>itâ€™s only TRUE when <em><code>p</code></em> &amp; <em><code>q</code></em> are <strong>both TRUE</strong>.  </p><p>The <strong>disjunction</strong> of <em><code>p</code></em>  and <em><code>q</code></em>, denoted by <em><code>p V q</code></em><br><em><code>p V q</code></em> means <em><code>p or q</code></em><br>itâ€™s TRUE that <strong>one of them are TRUE</strong> or <strong>both TRUE</strong>.</p><p>The <strong>exclusive</strong> of <em><code>p</code></em>  or <em><code>q</code></em>, denoted by <em><code>p âŠ• q</code></em><br><em><code>p âŠ• q</code></em> means <em><code>p or q, but not both</code></em><br>itâ€™s TRUE that <strong>one of them are TRUE</strong> but <strong>not both TRUE</strong>.   </p><p>The <strong>implication</strong> of <em><code>p</code></em>  on <em><code>q</code></em>, denoted by <em><code>p â†’ q</code></em><br><em><code>p â†’ q</code></em> means <em><code>p implies q</code></em> or <em><code>if p, then q</code></em><br>itâ€™s TRUE that as long as <strong><em><code>p</code></em> is FALSE</strong> or <strong><em><code>q</code></em> is TRUE</strong>.     </p><p>The <strong>bidirectional implication</strong> between <em><code>p</code></em>  and <em><code>q</code></em>, denoted by <em><code>p â†” q</code></em><br><em><code>p â†” q</code></em>  means <em><code>p if and only if q</code></em><br>itâ€™s only TRUE when <strong><em><code>p</code></em> and <em><code>q</code></em> share the same truth value</strong>.   </p><h3 id="English-Example"><a href="#English-Example" class="headerlink" title="English Example"></a>English Example</h3><p><em>p</em>: I like apple<br><em>q</em>: I like banana<br><em>p ÊŒ q</em>: I like apple and banana<br><em>p V q</em>: I like apple or banana    </p><p><em>p</em>: The car costs less than $100<br><em>q</em>: I will buy the car<br><em>p â†’ q</em>: If the car costs less than $100, Iâ€™ll buy the car.   </p><h2 id="Truth-Tables-9-x2F-3-Lec-1"><a href="#Truth-Tables-9-x2F-3-Lec-1" class="headerlink" title="Truth Tables (9&#x2F;3 Lec#1)"></a>Truth Tables (9&#x2F;3 Lec#1)</h2><ul><li>List <strong>all possible combinations</strong> of tryth values for the operands.</li><li>List <strong>the resulting truth value</strong> in the rightmost column.</li></ul><h3 id="Truth-table-for-negation"><a href="#Truth-table-for-negation" class="headerlink" title="Truth table for negation"></a>Truth table for negation</h3><p>negation: The truth value of <em><code>-p</code></em> is the opposite of the truth value of <em><code>p</code></em>.   </p><p>Only two cases to consider:    </p><ul><li>Original proposition <em><code>p</code></em> is FALSE:  <ul><li>New proposition <em><code>-p</code></em> is a TRUE proposition.</li></ul></li><li>Original proposition <em><code>p</code></em> is TRUE:  <ul><li>New proposition <em><code>-p</code></em> is a FALSE proposition.</li></ul></li></ul><p>Truth table for negation:   </p><table><thead><tr><th><em>p</em></th><th><em>-p</em></th></tr></thead><tbody><tr><td>F</td><td>T</td></tr><tr><td>T</td><td>F</td></tr></tbody></table><h3 id="Number-of-binary-logic-operators"><a href="#Number-of-binary-logic-operators" class="headerlink" title="Number of binary logic operators"></a>Number of binary logic operators</h3><p>Q: We have introduced 5 binary logic operators. Are there more?<br>A: There are totally 16 binary logic operators:   </p><ul><li>For any binary operator, there are 4 rowa in its truth table.</li><li>Operator is defined by the F&#x2F;T values in the 3rd column.</li><li>Each entry in the 3rd column of the truth table has 2 possible values (F&#x2F;T).</li><li>Total number of truth tables w&#x2F; a unique 3rd column:  <ul><li>2 x 2 x 2 x 2 &#x3D; 16</li></ul></li></ul><h3 id="How-did-we-construct-the-truth-table"><a href="#How-did-we-construct-the-truth-table" class="headerlink" title="How did we construct the truth table?"></a>How did we construct the truth table?</h3><p>We need a row for each possible combination of truth values.    </p><ul><li>Need <em>2^n</em> rows, where <em>n</em> is the number of propositional variables.<ul><li>For <em>p V q</em> we have 2 variables, so we need 2^2 &#x3D; 4 rows.</li></ul></li><li>Fill half of the first column with F values, remainder with T.</li><li>In the second column:<ul><li>For each group of rows in first column: fill half with F and half with T.</li></ul></li><li>Determine truth value of new proposition in the last column.</li></ul><h3 id="Precedence-of-Operators"><a href="#Precedence-of-Operators" class="headerlink" title="Precedence of Operators"></a>Precedence of Operators</h3><table><thead><tr><th>Operator</th><th>Precedence</th></tr></thead><tbody><tr><td>()</td><td>0</td></tr><tr><td>-</td><td>1</td></tr><tr><td>ÊŒ</td><td>2</td></tr><tr><td>V</td><td>3</td></tr><tr><td>âŠ•</td><td>4</td></tr><tr><td>â†’</td><td>5</td></tr><tr><td>â†”</td><td>6</td></tr></tbody></table><h1 id="Tautologies-and-Logical-Equivalence-9-x2F-4-Lec-2"><a href="#Tautologies-and-Logical-Equivalence-9-x2F-4-Lec-2" class="headerlink" title="Tautologies and Logical Equivalence (9&#x2F;4 Lec#2)"></a>Tautologies and Logical Equivalence (9&#x2F;4 Lec#2)</h1><p>Definitions:  </p><ul><li>A compound proposition that is always True is called a <strong>tautology</strong>. </li><li>Two propositions <em><code>p</code></em> and <em><code>q</code></em> are said to be <strong>logically equivalent</strong> if their truth tables are the same.   <ul><li>Namely, <em><code>p</code></em> and <em><code>q</code></em> are <strong>logically equivalent</strong> if and only if the proposition <em><code>p â†” q</code></em> is a <strong>tautology</strong>.</li></ul></li><li>if <em><code>p</code></em> and <em><code>q</code></em> are <strong>logically equivalent</strong> , we write <em><code>p â‰¡ q</code></em> or <em><code>p â†” q</code></em>.</li></ul><h2 id="Examples-of-Logical-Equivalence"><a href="#Examples-of-Logical-Equivalence" class="headerlink" title="Examples of Logical Equivalence"></a>Examples of Logical Equivalence</h2><p>Ex:<br>Consider the following two compound propositions: <em>p â†’ q</em> and <em>q V -p</em>.<br>Are <em>p â†’ q</em> and <em>q V -p</em> logically equivalent?    </p><table><thead><tr><th><em>p</em></th><th><em>q</em></th><th><em>p â†’ q</em></th><th><em>-p</em></th><th><em>q V -p</em></th><th>(<em>p â†’ q</em>) â†” (<em>q V -p</em>)</th></tr></thead><tbody><tr><td>F</td><td>F</td><td><strong>T</strong></td><td>T</td><td><strong>T</strong></td><td>T</td></tr><tr><td>F</td><td>T</td><td><strong>T</strong></td><td>T</td><td><strong>T</strong></td><td>T</td></tr><tr><td>T</td><td>F</td><td><strong>F</strong></td><td>F</td><td><strong>F</strong></td><td>T</td></tr><tr><td>T</td><td>T</td><td><strong>T</strong></td><td>F</td><td><strong>T</strong></td><td>T</td></tr></tbody></table><ul><li>The columns for our propositions in question are identical.<ul><li>So (<em>p â†’ q</em>) â†” (<em>q V -p</em>) is a <strong>tautology</strong></li></ul></li><li>Therefore, (<em>p â†’ q</em>) and (<em>q V -p</em>) are <strong>logically equivalent</strong>.</li></ul><h2 id="Equivalence-Laws"><a href="#Equivalence-Laws" class="headerlink" title="Equivalence Laws"></a>Equivalence Laws</h2><h3 id="DeMorganâ€™s-Law"><a href="#DeMorganâ€™s-Law" class="headerlink" title="DeMorganâ€™s Law"></a>DeMorganâ€™s Law</h3><p>-(<em>p ÊŒ q</em>) â‰¡ -<em>p</em> V -<em>q</em><br>-(<em>p V q</em>) â‰¡ -<em>p</em> ÊŒ -<em>q</em>     </p><h3 id="Law-of-Distributivity"><a href="#Law-of-Distributivity" class="headerlink" title="Law of Distributivity"></a>Law of Distributivity</h3><p><em>p</em> V (<em>q</em> ÊŒ <em>r</em>) â‰¡ (<em>p V q</em>) ÊŒ (<em>p V r</em>)<br><em>p</em> ÊŒ (<em>q</em> V <em>r</em>) â‰¡ (<em>p ÊŒ q</em>) V (<em>p ÊŒ r</em>)    </p><h3 id="Law-of-Contraposition"><a href="#Law-of-Contraposition" class="headerlink" title="Law of Contraposition"></a>Law of Contraposition</h3><p><em>p</em> â†’ <em>q</em> â‰¡ <em>-q</em> â†’ -<em>p</em>     </p><h3 id="Converse-and-Inverse"><a href="#Converse-and-Inverse" class="headerlink" title="Converse and Inverse"></a>Converse and Inverse</h3><h4 id="Converse"><a href="#Converse" class="headerlink" title="Converse"></a>Converse</h4><p><em>p</em> â†’ <em>q</em> to <em>q</em> â†’ <em>p</em>      </p><h4 id="Inverse"><a href="#Inverse" class="headerlink" title="Inverse"></a>Inverse</h4><p><em>p</em> â†’ <em>q</em> to -<em>p</em> â†’ -<em>q</em>     </p><h3 id="Logical-Equivalence-Rules"><a href="#Logical-Equivalence-Rules" class="headerlink" title="Logical Equivalence Rules"></a>Logical Equivalence Rules</h3><table><thead><tr><th>Equivalence</th><th>Name</th></tr></thead><tbody><tr><td><em>p</em> ÊŒ T â‰¡ <em>p</em>, <em>p</em> V F â‰¡ <em>p</em></td><td>Identity laws</td></tr><tr><td><em>p</em> V T â‰¡ T, <em>p</em> ÊŒ F â‰¡ F</td><td>Domination laws</td></tr><tr><td><em>p</em> V <em>p</em> â‰¡ <em>p</em>, <em>p</em> ÊŒ <em>p</em> â‰¡ <em>p</em></td><td>Idempotent laws</td></tr><tr><td>-(-<em>p</em>) â‰¡ <em>p</em></td><td>Double negation law</td></tr><tr><td><em>p</em> V <em>q</em> â‰¡ <em>q</em> V <em>p</em> <br> <em>p</em> ÊŒ <em>q</em> â‰¡ <em>q</em> ÊŒ <em>p</em></td><td>Commutative laws</td></tr><tr><td>(<em>p</em> V <em>q</em>) V <em>r</em> â‰¡ <em>p</em> V (<em>q</em> V <em>r</em>) <br> (<em>p</em> ÊŒ <em>q</em>) ÊŒ <em>r</em> â‰¡ <em>p</em> ÊŒ (<em>q</em> ÊŒ <em>r</em>)</td><td>Associative laws</td></tr><tr><td><em>p</em> V (<em>q</em> ÊŒ <em>r</em>) â‰¡ (<em>p</em> V <em>q</em>) ÊŒ (<em>p</em> V <em>r</em>) <br> <em>p</em> ÊŒ (<em>q</em> V <em>r</em>) â‰¡ (<em>p</em> ÊŒ <em>q</em>) V (<em>p</em> ÊŒ <em>r</em>)</td><td>Distributive laws</td></tr><tr><td>-(<em>p</em> ÊŒ <em>q</em>) â‰¡ -<em>p</em> V -<em>q</em> <br> -(<em>p</em> V <em>q</em>) â‰¡ -<em>p</em> ÊŒ -<em>q</em></td><td>De Morganâ€™s laws</td></tr><tr><td><em>p</em> V (<em>p</em> ÊŒ <em>q</em>) â‰¡ <em>p</em> <br> <em>p</em> ÊŒ (<em>p</em> V <em>q</em>) â‰¡ <em>p</em></td><td>Absorption laws</td></tr><tr><td><em>p</em> V -<em>p</em> â‰¡ T, <em>p</em> ÊŒ -<em>p</em> â‰¡ F</td><td>Negation laws</td></tr></tbody></table><h4 id="Logical-Equivalences-Involving-Conditional-Statements"><a href="#Logical-Equivalences-Involving-Conditional-Statements" class="headerlink" title="Logical Equivalences Involving Conditional Statements"></a>Logical Equivalences Involving Conditional Statements</h4><table><thead><tr><th></th></tr></thead><tbody><tr><td><em>p</em> â†’ <em>q</em> â‰¡ -<em>p</em> V <em>q</em></td></tr><tr><td><em>p</em> â†’ <em>q</em> â‰¡ <em>-q</em> â†’ -<em>p</em></td></tr><tr><td><em>p</em> V <em>q</em> â‰¡ -<em>p</em> â†’ <em>q</em></td></tr><tr><td><em>p</em> ÊŒ <em>q</em> â‰¡ -(<em>p</em> â†’ -<em>q</em>)</td></tr><tr><td>-(<em>p</em> â†’ <em>q</em>) â‰¡ <em>p</em> ÊŒ -<em>q</em></td></tr><tr><td>(<em>p</em> â†’ <em>q</em>) ÊŒ (<em>p</em> â†’ <em>r</em>) â‰¡ <em>p</em> â†’ (<em>q</em> ÊŒ <em>r</em>)</td></tr><tr><td>(<em>p</em> â†’ <em>r</em>) ÊŒ (<em>q</em> â†’ <em>r</em>) â‰¡ (<em>p</em> V <em>q</em>) â†’ <em>r</em></td></tr><tr><td>(<em>p</em> â†’ <em>q</em>) V (<em>p</em> â†’ <em>r</em>) â‰¡ <em>p</em> â†’ (<em>q</em> V <em>r</em>)</td></tr><tr><td>(<em>p</em> â†’ <em>r</em>) V (<em>q</em> â†’ <em>r</em>) â‰¡ (<em>p</em> ÊŒ <em>q</em>) â†’ <em>r</em></td></tr></tbody></table><h4 id="Logical-Equivalences-Involving-Biconditional-Statements"><a href="#Logical-Equivalences-Involving-Biconditional-Statements" class="headerlink" title="Logical Equivalences Involving Biconditional Statements"></a>Logical Equivalences Involving Biconditional Statements</h4><table><thead><tr><th></th></tr></thead><tbody><tr><td><em>p</em> â†” <em>q</em> â‰¡ (<em>p</em> â†’ <em>q</em>) ÊŒ (<em>q</em> â†’ <em>p</em>)</td></tr><tr><td><em>p</em> â†” <em>q</em> â‰¡ <em>q</em> â†” <em>p</em></td></tr><tr><td><em>p</em> â†” <em>q</em> â‰¡ -<em>p</em> â†” -<em>q</em></td></tr><tr><td><em>p</em> â†” <em>q</em> â‰¡ (<em>p</em> ÊŒ <em>q</em>) V (-<em>p</em> ÊŒ -<em>q</em>)</td></tr><tr><td>-(<em>p</em> â†” <em>q</em>) â‰¡ <em>p</em> â†” -<em>q</em></td></tr></tbody></table><h1 id="Predicates-and-Quantifiers-9-x2F-9-Lec-3"><a href="#Predicates-and-Quantifiers-9-x2F-9-Lec-3" class="headerlink" title="Predicates and Quantifiers (9&#x2F;9 Lec#3)"></a>Predicates and Quantifiers (9&#x2F;9 Lec#3)</h1><h2 id="From-Propositions-to-Predicates"><a href="#From-Propositions-to-Predicates" class="headerlink" title="From Propositions to Predicates"></a>From Propositions to Predicates</h2><ul><li>Consider the statement â€œXâ€ is even<ul><li>Contains the variable X, so it is not a proposition<ul><li>Given a value for X, we can determine the truth value</li><li>Once X is filled, sentence is TRUE or FALSE, but not both</li></ul></li></ul></li><li>Sentences whose truth value is based on variables are <strong>predicates</strong></li></ul><p>Definition:    </p><ul><li><p>A <strong>predicate</strong> is a <strong>function</strong> that takes some <strong>variable(s) as arguments;</strong> It returns rither TURE or FALSE (but never both) for each combination of the argument values.</p></li><li><p>In contrast, a <strong>proposition</strong> is a function of 0 variables</p><ul><li>Propositions have no variables.</li><li>Each proposition is either TRUE or FALSE (but not both)</li></ul></li><li><p>Predicate variables are derived from an associated <strong>domain of discourse.</strong></p><ul><li>Domain of discourse describes all allowable argument values.</li></ul></li><li><p>Ex, Coffee has a nice flavor.</p><ul><li>Now we can consider this as a function of â€œWho said it?â€</li><li><em>C(x)</em>: <em>x</em> thinks coffee has a nice flavor.</li></ul></li></ul><p>Definition:</p><ul><li><p>Given a predicate <em>P(x)</em>, the <strong>domain of discourse</strong> (often referred to as the domain) is a set of all possible values for the variable <em>x</em>.</p></li><li><p>Predicates with multiple variables may have:</p><ul><li>multiple domains of discourse, one for each variable, or</li><li>a single domain of discourse for all variables.</li></ul></li></ul><h2 id="Quantifiers"><a href="#Quantifiers" class="headerlink" title="Quantifiers"></a>Quantifiers</h2><h3 id="Universal-Quantification"><a href="#Universal-Quantification" class="headerlink" title="Universal Quantification"></a>Universal Quantification</h3><p>Dedinition:      </p><ul><li><p>Suppose <em>P(x)</em> is apredicate on some domain.</p><ul><li>The <strong>universal quantification of <em>P(x)</em></strong> is the proposition:<ul><li>â€œ<strong><em>P(x)</em> is true for all <em>x</em> in the domain of discourse <em>D</em>.â€</strong><ul><li>Written as: âˆ€<em>x</em>,<em>P(x)</em></li><li>Read as: â€œ<strong>For all</strong><em>x</em>,<em>P(x)</em>.â€</li></ul></li></ul></li></ul></li><li><p>âˆ€<em>x</em>,<em>P(x)</em> is TRUE <strong>if</strong> <em>P(x)</em> is TRUE for every <em>x</em> in <em>D</em>. </p></li><li><p>âˆ€<em>x</em>,<em>P(x)</em> is FALSE <strong>if</strong> <em>P(x)</em> is FALSE for some <em>x</em> in <em>D</em>. </p></li><li><p>An input that causes a universally quantified statement to evaluate to FALSE is called a <strong>counterexample</strong>.</p></li></ul><h4 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h4><p><em>P(x)</em>: <em>x</em> + 2 &#x3D;5, domain of discourse: {1,2,3}.      </p><ul><li>âˆ€<em>x</em>,<em>P(x)</em> means: â€œ<strong>for all <em>x</em> in {1,2,3}, <em>x</em> + 2 &#x3D; 5.</strong>â€œ</li><li>âˆ€<em>x</em>,<em>P(x)</em> is FALSE (since 1 + 2 &#x3D; 5, 2 + 2 &#x3D; 5 are both FALSE).</li></ul><h3 id="Existential-Quantification"><a href="#Existential-Quantification" class="headerlink" title="Existential Quantification"></a>Existential Quantification</h3><p>Definition:      </p><ul><li><p>Suppose <em>P(x)</em> is a predicate on some domain of discourse.</p><ul><li>The <strong>existential quantification of</strong> <em>P(x)</em> is the proposition:<ul><li>â€œ<em>P(x)</em> <strong>is true for some <em>x</em> in the domain of discourse <em>D</em></strong>.â€<ul><li>Written as: âˆƒ<em>x</em>,<em>P(x)</em></li><li>Read as: â€œ<strong>There exists</strong> <em>x</em>, <em>P(x)</em>â€œ.</li></ul></li></ul></li></ul></li><li><p>âˆƒ<em>x</em>,<em>P(x)</em> is TRUE <strong>if</strong> <em>P(x)</em> is TRUE for some <em>x</em> in <em>D</em>.</p></li><li><p>âˆƒ<em>x</em>,<em>P(x)</em> is FALSE <strong>if</strong> for every <em>x</em> in <em>D</em>, <em>P(x)</em> is FALSE.</p></li><li><p>An input that causes predicate to evaluate to TRUE is called a <strong>satisfying assignment</strong>.</p></li></ul><h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h4><p><em>P(x)</em>: <em>x</em> + 2 &#x3D;5, domain of discourse: {1,2,3}.   </p><ul><li>âˆƒ<em>x</em>,<em>P(x)</em> means: â€œ<strong>for some <em>x</em> in {1,2,3}, <em>x</em> + 2 &#x3D; 5.</strong>â€œ</li><li>âˆƒ<em>x</em>,<em>P(x)</em> is TRUE (since 3 + 2 &#x3D; 5 is TRUE).</li></ul><h3 id="Quantifiers-and-Their-Variables-9-x2F-11-Lec-4"><a href="#Quantifiers-and-Their-Variables-9-x2F-11-Lec-4" class="headerlink" title="Quantifiers and Their Variables (9&#x2F;11 Lec#4)"></a>Quantifiers and Their Variables (9&#x2F;11 Lec#4)</h3><h4 id="Quantifier-and-Variable-Mechanics"><a href="#Quantifier-and-Variable-Mechanics" class="headerlink" title="Quantifier and Variable Mechanics"></a>Quantifier and Variable Mechanics</h4><p>Example:<br>Suppose <em>L(x,y)</em>: <em>x</em> loves <em>y</em>, where</p><ul><li><p>the domain of <em>x</em> is all CSE 191 students and</p></li><li><p>the domain of <em>y</em> is the courses offered by UB CSE</p></li><li><p><em>L(x,y)</em> has <em>x</em> as the first variable and <em>y</em> is the second variable.</p><ul><li>The position of the variable determines its domain.</li><li>Here, we have <em>x</em> is a student and <em>y</em> is a course.</li></ul></li><li><p>Suppose we were to write <em>L(y,w)</em>.</p><ul><li><em>L(x,y)</em> translates to: <em>y</em> loves <em>w</em></li><li>Here, we have <em>y</em> is a student and <em>w</em> is a course.</li></ul></li><li><p>Pay close attention to where the variable enters the predicate:</p><ul><li>âˆ€<em>w</em>âˆƒ<em>x</em>,<em>L(w,x)</em> ÊŒ âˆƒ<em>y</em>,<em>z</em>,<em>L(y,z)</em></li><li><em>w</em> and <em>y</em> are students.</li><li><em>x</em> and <em>z</em> are courses.</li></ul></li></ul><h4 id="Quantified-Statements-and-English"><a href="#Quantified-Statements-and-English" class="headerlink" title="Quantified Statements and English"></a>Quantified Statements and English</h4><p>Example:<br>Suppose <em>L(x,y)</em>: <em>x</em> loves <em>y</em>, where</p><ul><li><p>the domain of <em>x</em> is all CSE 191 students and</p></li><li><p>the domain of <em>y</em> is the courses offered by UB CSE</p></li><li><p>âˆƒ<em>x</em>,(<em>L</em>(<em>x</em>,CSE 191) ÊŒ <em>L</em>(<em>x</em>, CSE250)):</p><ul><li>A CSE 191 student loves both CSE191 and CSE250</li></ul></li><li><p>âˆƒ<em>x</em>âˆƒ<em>y</em>âˆ€<em>z</em>,((<em>x</em> !&#x3D; <em>y</em>) ÊŒ (<em>L</em>(<em>x</em>,<em>z</em>) â†’ <em>L</em>(<em>y</em>,<em>z</em>))):</p><ul><li>There are different students <em>x</em> and <em>y</em> in CSE 191 such that if <em>x</em> loves a CSE course, then <em>y</em> loves it as well.</li></ul></li><li><p>Every CSE course is loved by some student in CSE 191:</p><ul><li>âˆ€<em>y</em>âˆƒ<em>x</em>, <em>L</em>(<em>x</em>,<em>y</em>)</li></ul></li><li><p>No student in CSE 191 loves CSE 191 and CSE 250:</p><ul><li>-âˆƒ<em>x</em>,(<em>L</em>(<em>x</em>,CSE191) ÊŒ <em>L</em>(<em>x</em>,CSE250)).</li></ul></li></ul><h4 id="Translating-Theorems"><a href="#Translating-Theorems" class="headerlink" title="Translating Theorems"></a>Translating Theorems</h4><ul><li><p>If <em>x</em> is an even number, then <em>x</em> + 1 is odd.</p><ol><li>Identify a domain and predicates:<ul><li>Domain: all integers.</li><li><em>P(x)</em> : <em>x</em> is an even number.</li><li><em>Q(x)</em> : <em>x</em> is an odd number&#x2F;</li></ul></li><li>Quantified statement: <em><code>âˆ€x,(P(x) â†’ Q(x + 1))</code></em></li></ol></li><li><p>Every even number is a multiple of 2.</p><ol><li>Domain and predicates:<ul><li>Domain: all integers.</li><li><em>R(x)</em> : <em>x</em> is an even number.</li><li><em>S(x)</em> : <em>x</em> is a multiple of 2.</li></ul></li><li>Quantified statement: <em><code>âˆ€y,(R(y) â†’ S(y))</code></em></li></ol></li><li><p>Every even number is a multiple of 2. (alternative)</p><ol><li>Domain and predicates:<ul><li><strong>Domain: all integers</strong></li><li><em>T(x)</em> : <em>x</em> is a multiple of 2.</li></ul></li><li>Quantified statement: <em><code>âˆ€z, T(z)</code></em></li></ol></li></ul><h3 id="Quantifier-Negation"><a href="#Quantifier-Negation" class="headerlink" title="Quantifier Negation"></a>Quantifier Negation</h3><p>In general we have for any predicate <em>P(x)</em>:</p><ul><li>-âˆ€<em>x</em>,<em>P(x)</em> â‰¡ âˆƒ<em>x</em>,-<em>P(x)</em> and -âˆƒ<em>x</em>,<em>P(x)</em> â‰¡ âˆ€<em>x</em>,-<em>P(x)</em></li></ul><h3 id="Quantifier-Negation-Rule"><a href="#Quantifier-Negation-Rule" class="headerlink" title="Quantifier Negation Rule"></a>Quantifier Negation Rule</h3><p>Move the negation over a quantifier. Flip the quantifier passed.</p><ul><li><code>âˆƒ</code> flips to <code>âˆ€</code><ul><li>-âˆƒ<em>x</em>,(â€¦) becomes âˆ€<em>x</em>,-(â€¦)</li></ul></li><li><code>âˆ€</code> flips to <code>âˆƒ</code><ul><li>-âˆ€<em>x</em>,(â€¦) becomes âˆƒ<em>x</em>,-(â€¦)</li></ul></li></ul><p>E.g.: No CSE 191 student lives in Amherst:</p><ul><li>-âˆƒ<em>x</em>,(<em>B(x)</em> ÊŒ <em>A(x)</em>) â‰¡ âˆ€<em>x</em>,-(<em>B(x)</em> ÊŒ <em>A(x)</em>)</li></ul><h3 id="Nested-Quantifiers"><a href="#Nested-Quantifiers" class="headerlink" title="Nested Quantifiers"></a>Nested Quantifiers</h3><p>How do sentences with multiple quantifiers work?       </p><p>Definition:      </p><ul><li>A logical expression with more than one quantifier that bind different variables in the same predicate is said to have <strong>nested quantifiers</strong>.<ul><li>Need to consider thier <strong>ordering</strong> and <strong>scope</strong>.</li></ul></li></ul><h3 id="Nested-Quantifiers-Ordering"><a href="#Nested-Quantifiers-Ordering" class="headerlink" title="Nested Quantifiers Ordering"></a>Nested Quantifiers Ordering</h3><p><strong>Recall:</strong><br>Every CSE course is loved by some student in CSE 191:</p><ul><li><p>âˆ€<em>y</em> âˆƒ<em>x</em>,<em>L(x,y)</em>.</p></li><li><p>Does switching the ordering of quantifiers maintain the meaning?</p><ul><li>âˆƒ<em>x</em> âˆ€<em>y</em>,<em>L(x,y)</em>: Some CSE 191 student lovers every CSE course.</li></ul></li></ul><p><strong>In general, we cannot switch the ordering and guarantee equivanlence.</strong>          </p><p><strong>Consecutive quantifiers of the same type can be reordered and maintain equivalence.</strong>          </p><ul><li>Suppose <em>Q(x,y,z)</em> is an arbitary predicate:<ul><li>âˆ€<em>i</em>âˆ€<em>j</em>âˆ€<em>k</em>, <em>Q(i,j,k)</em> â‰¡ âˆ€<em>j</em>âˆ€<em>i</em>âˆ€<em>k</em>, <em>Q(i,j,k)</em> â‰¡ âˆ€<em>k</em>âˆ€<em>j</em>âˆ€<em>i</em>, <em>Q(i,j,k)</em> â‰¡ â€¦</li><li>âˆƒ<em>i</em>âˆƒ<em>j</em>âˆƒ<em>k</em>, <em>Q(i,j,k)</em> â‰¡ âˆƒ<em>j</em>âˆƒ<em>i</em>âˆƒ<em>k</em>, <em>Q(i,j,k)</em> â‰¡ âˆƒ<em>k</em>âˆƒ<em>j</em>âˆƒ<em>i</em>, <em>Q(i,j,k)</em> â‰¡ â€¦</li></ul></li></ul><p>We usually simplify consecutive variables with the same quantifier:</p><ul><li>âˆ€<em>i</em>âˆ€<em>j</em>âˆ€<em>k</em>, <em>Q(i,j,k)</em> â‰¡ âˆ€<em>i</em>,<em>j</em>,<em>k</em>,<em>Q(i,j,k)</em></li><li>âˆƒ<em>i</em>âˆƒ<em>j</em>âˆƒ<em>k</em>, <em>Q(i,j,k)</em> â‰¡ âˆƒ<em>i</em>,<em>j</em>,<em>k</em>,<em>Q(i,j,k)</em></li></ul><p><strong>Note</strong>: the order variables enter <em>Q(â€¦)</em> does not change.         </p><h3 id="Nested-Quantifiers-Scoping"><a href="#Nested-Quantifiers-Scoping" class="headerlink" title="Nested Quantifiers Scoping"></a>Nested Quantifiers Scoping</h3><p><strong>Definition:</strong><br>The portion of the formula a quantifier is covering is called the <strong>scope of the quantifier</strong>.</p><ul><li>The scope of the quantifier is the predicate immediately following.<ul><li>Precedence is just below parenthesis.</li></ul></li><li>Any variable that is not covered by a quantifier is called a <strong>free variable</strong>.</li></ul><p>Consider the formula: <em><code>âˆ€i âˆƒj, (P(i,j) â†’ âˆ€k,Q(k))</code></em>         </p><ul><li>The scope of <em><code>âˆ€i</code></em> is the entire formula.</li><li>The scope of <em><code>âˆƒj</code></em> is the entire formula, minus <em><code>âˆ€i</code></em>.</li><li>The scope of <em><code>âˆ€k</code></em> is limited to <em>Q(k)</em>.</li></ul><p>Consider:        </p><p><em>âˆ€i âˆƒj, (P(i,j) â†’ âˆ€k,Q(k))</em>           </p><p>vs           </p><p><em>âˆ€i âˆƒj âˆ€k, (P(i,j) â†’ Q(k))</em>            </p><p><strong>Quantifiers can move as long as their scope doesnâ€™t encompass additional quantifiers of a different type.âœ…</strong>        </p><p>Consider:        </p><p><em>âˆ€i âˆƒj, (P(i,j) â†’ âˆ€k,Q(k))</em>           </p><p>vs           </p><p><em>âˆ€i âˆƒj, (âˆ€k,P(i,j) â†’ Q(k))</em>            </p><ul><li>In the second formula, <em>k</em> in <em>Q(k)</em> is no longer <strong>bound</strong> by any quantifier.<ul><li><em>k</em> is a free variable.</li></ul></li></ul><p><strong>Ensure that any reordering doesnâ€™t free variables originally covered.âŒ</strong></p><h1 id="Homework-1"><a href="#Homework-1" class="headerlink" title="Homework#1"></a>Homework#1</h1><p><img src="/cn/CSE191/image/hw1.png" alt="Homework#1"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Do not submit this file to Autolab.</span></span><br><span class="line"><span class="comment"># This file is only meant for testing your code.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cse191_homework01</span><br><span class="line"></span><br><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Enter a number n: &quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The following is the &quot;</span> + <span class="built_in">str</span>(n) + <span class="string">&quot; left-hand column(s) of a &quot;</span> + <span class="built_in">str</span>(n) + <span class="string">&quot; variable truth table:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----&quot;</span>)</span><br><span class="line">cse191_homework01.generateTTRows(n)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DO NOT REMOVE THIS HEADER</span></span><br><span class="line"><span class="comment"># Modfiy this header to specify your ubit and person number.</span></span><br><span class="line"><span class="comment"># UBIT: </span></span><br><span class="line"><span class="comment"># Person Number: </span></span><br><span class="line"><span class="comment"># ----</span></span><br><span class="line"><span class="comment"># Note: Do not add any input statements to this file.</span></span><br><span class="line"><span class="comment"># Note: You may not add any import statements to this file.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Your code goes within the funciton definition below, only.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generateTTRows</span>(<span class="params">n</span>):</span><br><span class="line">  row = [<span class="string">&quot;F&quot;</span>] * n</span><br><span class="line">  row_str = <span class="string">&quot;&quot;</span>.join(row)</span><br><span class="line">  index = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> row_str.rfind(<span class="string">&quot;F&quot;</span>) != -<span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(row_str)</span><br><span class="line">    index = row_str.rfind(<span class="string">&quot;F&quot;</span>)</span><br><span class="line">    row = <span class="built_in">list</span>(row_str)</span><br><span class="line">    row[index] = <span class="string">&quot;T&quot;</span></span><br><span class="line">    row_str = <span class="string">&quot;&quot;</span>.join(row)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> index &lt; n-<span class="number">1</span>:</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(index + <span class="number">1</span>, n):</span><br><span class="line">        row[i] = <span class="string">&quot;F&quot;</span></span><br><span class="line">        row_str = <span class="string">&quot;&quot;</span>.join(row)</span><br><span class="line">  <span class="built_in">print</span>(row_str)</span><br></pre></td></tr></table></figure><h1 id="Logical-Reasoning-and-Proof-Methods"><a href="#Logical-Reasoning-and-Proof-Methods" class="headerlink" title="Logical Reasoning and Proof Methods"></a>Logical Reasoning and Proof Methods</h1><h2 id="Logical-Reasoning"><a href="#Logical-Reasoning" class="headerlink" title="Logical Reasoning"></a>Logical Reasoning</h2><h3 id="Logical-Reasoning-Definition"><a href="#Logical-Reasoning-Definition" class="headerlink" title="Logical Reasoning Definition"></a>Logical Reasoning Definition</h3><ul><li>Differences from logical equivalence<ul><li>Statements derived are not always equivalent.<ul><li>Can be new knowledge.</li></ul></li><li>Multiple facts can be used to drive a new statement.</li></ul></li></ul><p>Arguments are:         </p><ul><li>A list of propositions, called <strong>hypotheses</strong>, and</li><li>A final proposition, called the <strong>conclusion</strong>.</li></ul><p><img src="/cn/CSE191/image/arguments.png" alt="Arguments"></p><p>Definition:      </p><ul><li>An argument is <strong>valid</strong> if:<ul><li>(<em>p1 ÊŒ p2 ÊŒ â€¦ ÊŒ pn</em>) â†’ <em>c</em> is a tautology</li></ul></li><li>An argument is <strong>invalid</strong> if it is not valid.</li></ul><h4 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h4><ul><li><p>Prove that the following is a valid argument:<br><img src="/cn/CSE191/image/argument-example1.png" alt="Arguments Example#1"></p></li><li><p>Proving this argument valid is the same as proving that <em><code>p â†’ p</code></em> is a tautology.</p><table><thead><tr><th><em>p</em></th><th><em>p â†’ p</em></th></tr></thead><tbody><tr><td>F</td><td>T</td></tr><tr><td>T</td><td>T</td></tr></tbody></table></li><li><p>Logical reasoning proof:</p></li></ul><ol><li><em>p</em> is Hypothesis</li></ol><p>Since we have arrived at our conclusion our proof is complete.      </p><ul><li>Therefore, we have shown that this is a valid argument.</li></ul><h4 id="Another-Simple-Example"><a href="#Another-Simple-Example" class="headerlink" title="Another Simple Example"></a>Another Simple Example</h4><p>Consider the contrapositive as a logical argument:<br><img src="/cn/CSE191/image/argument-example2-1.png" alt="Arguments Example#2-1"></p><p><strong>Proof of validity:</strong><br><img src="/cn/CSE191/image/argument-example2-2.png" alt="Arguments Example#2-2"></p><ul><li>Note: this is the logical equivalence proof we performed.<ul><li>Add line numbers for logical argument proofs.</li></ul></li></ul><p><img src="/cn/CSE191/image/argument-example2-3.png" alt="Arguments Example#2-3"></p><h3 id="Logical-Reasoning-Proof-Definition"><a href="#Logical-Reasoning-Proof-Definition" class="headerlink" title="Logical Reasoning: Proof Definition"></a>Logical Reasoning: Proof Definition</h3><p>Definition<br>A <strong>logical proof</strong> of an argument is a sequence of steps, each of which consists of a proposition and a justification.         </p><ul><li><p>Each line should contain:</p><ol><li>a hypothesis (assumption)</li><li>a proposition that is equivalent to a previous statement</li><li>a proposition that is derived by applying an argument to previous statements.</li></ol></li><li><p>Justifications should state</p><ol><li>hypothesis.</li><li>the equivalence law used (and the line it was applied to)</li><li>the argument used (and the line(s) it was applied to)</li></ol></li><li><p>The last line should be the conclusion.</p></li></ul><h3 id="Invalid-Argument"><a href="#Invalid-Argument" class="headerlink" title="Invalid Argument"></a>Invalid Argument</h3><p>To prove an argument is invalid, we need a counterexample.<br><img src="/cn/CSE191/image/invalid-argument-example1.png" alt="Invalid Arguments Example#1"></p><p>Proof of invalidity:         </p><ol><li>Suppose <em><code>p</code></em>: FALSE and <em><code>q</code></em>: TRUE.</li><li>Then **<code>p â†’ q</code>* is TRUE, but <em><code>q â†’ p</code></em> is FALSE.</li><li>Thus, the argument is invalid.</li></ol><p>Counterexample: a situation where all hypotheses are TRUE and the conclusion is FALSE.</p><h3 id="Logical-Reasoning-Rules"><a href="#Logical-Reasoning-Rules" class="headerlink" title="Logical Reasoning Rules"></a>Logical Reasoning Rules</h3><p>The following are a number of commonly used rules of inference:<br><img src="/cn/CSE191/image/rules-of-inference.png" alt="Rules of inference"></p><h1 id="Introduction-to-Mathematical-Proofs"><a href="#Introduction-to-Mathematical-Proofs" class="headerlink" title="Introduction to Mathematical Proofs"></a>Introduction to Mathematical Proofs</h1><h2 id="Mathenatical-Proofs"><a href="#Mathenatical-Proofs" class="headerlink" title="Mathenatical Proofs"></a>Mathenatical Proofs</h2><p>A <strong>mathematical proof</strong> is usually â€œinformalâ€              </p><ul><li>More formal than everyday language, less foraml than logical proofs.<ul><li>More than one rule may be used in step.</li><li><strong>(Some)</strong> step may be skipped.</li><li>Axioms may be assumed</li><li>Rules for inference need not be explicitly stated.</li></ul></li><li>Proofs must be a self-contained line of reasoning.<ul><li>Statements used must be<ul><li>facts (axioms)</li><li>theorems, lemmas, corollaries (previously proved statements), or</li><li>statements that can be derived from the above.</li></ul></li><li>You cannot use something as fact within a proof if you are not certain it is.</li></ul></li></ul><h2 id="Terminology"><a href="#Terminology" class="headerlink" title="Terminology"></a>Terminology</h2><ul><li><strong>Theorem:</strong> statement than can be shown true.<ul><li><strong>Proposition:</strong> less important theorem.</li><li><strong>Lemma:</strong> less important theorem used to prove other theorems.</li><li><strong>Corollary:</strong> theorem that trivially follows another theorem.</li></ul></li><li><strong>Conjecture:</strong> statement that is proposed to be true, but has not been proved.</li><li><strong>Axiom:</strong> statement assumed to be true (i.e., true statement that does not need a proof)</li><li>Most axioms, theorems, etc, are properties concerning all elements over some domain.<ul><li>E.g., All perfect squares are non-negative.</li></ul></li><li>The domain should be clear from context or explicitky stated.</li></ul><h2 id="Example-3"><a href="#Example-3" class="headerlink" title="Example"></a>Example</h2><p><img src="/cn/CSE191/image/Hidden-Universal-Quantifier.png" alt="Hidden Universal Quantifier"></p><h2 id="Proof-by-Exhaustion"><a href="#Proof-by-Exhaustion" class="headerlink" title="Proof by Exhaustion"></a>Proof by Exhaustion</h2><p>Definition<br>A <strong>proof by exhaustion</strong> for <strong><code>p â†’ q</code></strong> starts by considering each element of the domain of discourse and showing that the predicate is true.              </p><ul><li>Only a useful method when dealing with a small domain.<ul><li>In our first example(below), our domain was {2,4,6}.</li><li>Small is relative, but must be finite.</li></ul></li></ul><h3 id="Example-4"><a href="#Example-4" class="headerlink" title="Example"></a>Example</h3><p><img src="/cn/CSE191/image/Proof-by-Exhaustion-Example.png" alt="Proof by Exhaustion Example"></p><h3 id="non-Example"><a href="#non-Example" class="headerlink" title="(non-)Example"></a>(non-)Example</h3><p><img src="/cn/CSE191/image/non-Example.png" alt="Proof by Exhaustion (non-)Example"></p><h2 id="Disproof-by-Counterexample"><a href="#Disproof-by-Counterexample" class="headerlink" title="Disproof by Counterexample"></a>Disproof by Counterexample</h2><p><img src="/cn/CSE191/image/Disproof-by-Counterexample.png" alt="Disproof by Counterexample"></p><h2 id="Direct-Proofs"><a href="#Direct-Proofs" class="headerlink" title="Direct Proofs"></a>Direct Proofs</h2><p>Definition<br>A <strong>direct proof</strong> for <code>P(x) â†’ Q(x)</code> starts by assuming P(x) (for x) as fact and finishes by establishing Q(x).</p><ul><li>Make use of axioms, previously proven theorems, inference rules, etcâ€¦</li><li>Same approach was used to prove that a logical argument is true.<ul><li>P(x) is the hypothesis.</li><li>Q(x) is the conclusion.</li></ul></li></ul><p><img src="/cn/CSE191/image/direct-proof-definition.png" alt="direct proof definition"></p><h3 id="Example-5"><a href="#Example-5" class="headerlink" title="Example"></a>Example</h3><p>Example1:<br><img src="/cn/CSE191/image/direct-proof-example.png" alt="direct proof example"></p><p>Example2:<br><img src="/cn/CSE191/image/direct-proof-example2.png" alt="direct proof example"></p><h2 id="Proof-by-Contraposition"><a href="#Proof-by-Contraposition" class="headerlink" title="Proof by Contraposition"></a>Proof by Contraposition</h2><p>Recall that <code>p â†’ q</code> is logically equivalent to <code>-q â†’ -p</code>, its contrapositive            </p><p>Definition<br>A proof by contraposition for P(x) â†’ Q(x) is proof P(x) â†’ Q(x) where:           </p><ol><li>write a direct proof for -Q(x) â†’ -P(x) and</li><li>conclude that the contrapositive of -Q(x) â†’ -P(x) is also true.</li></ol><ul><li>Proof layout:<br><img src="/cn/CSE191/image/proof-layout.png" alt="proof layout"></li></ul><h3 id="Example-6"><a href="#Example-6" class="headerlink" title="Example"></a>Example</h3><p><img src="/cn/CSE191/image/proof-by-contraposition.png" alt="proof by contraposition"></p><h1 id="Proof-by-Exhaustion-1"><a href="#Proof-by-Exhaustion-1" class="headerlink" title="Proof by Exhaustion"></a>Proof by Exhaustion</h1><p>For a proof by exhaustion to work, cases must <strong>exhaust</strong>, or consider, the entire domain.</p><ul><li>Overlap is OK, but may introduce redundant work.<ul><li>For the domian of integers,<ul><li>n &gt;&#x3D; 0, n &#x3D; 0, and n &lt;&#x3D; 0 are exhaustive cases, but have overlap.</li><li>Bettter: n &gt;&#x3D; 0 and n &lt; 0 or n &gt; 0 and n &lt;&#x3D; 0</li></ul></li></ul></li><li>Non-exhaustive cases leave the possibility for error:<ul><li>For the domian of integers.<ul><li>n is positive and n is negative are non-exhaustive cases</li><li>Missing n &#x3D; 0</li></ul></li></ul></li></ul><h2 id="Example-7"><a href="#Example-7" class="headerlink" title="Example"></a>Example</h2><p>Prove that for any integers <em>x</em> and <em>y</em>, if both <em>x+y</em> and <em>xy</em> are even, then both <em>x</em> and <em>y</em> are even.       </p><p>Note the contrapositive is:        </p><ul><li>If <em>x</em> and <em>y</em> are not both even, then <em>x+y</em> and <em>xy</em> are not both even.</li></ul><p>Proof(by contraposition):<br><img src="/cn/CSE191/image/Exhaustion-1.png" alt="Exhaustion"><br>In both cases, we get that <em>x+y</em> and <em>xy</em> are not both even.</p><h2 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h2><p>Prove that if <em>n</em> is an integer, then <em>n^2</em> &gt;&#x3D; <em>n</em></p><h1 id="WLOG"><a href="#WLOG" class="headerlink" title="WLOG"></a>WLOG</h1><p>Without Loss Of Generality (ä¸å¤±ä¸€èˆ¬æ€§)<br>è¢«ç”¨åœ¨è¯æ˜ä¸­å°†å‰ææ¡ä»¶æ˜ç¡®åˆ°ä¸ªä¾‹ä¸Šæ—¶ï¼Œè¯´æ˜è¯¥ä¸ªä¾‹èƒ½ä»£è¡¨æ™®éæƒ…å†µï¼Œè€Œéä¸€ç§ç‰¹ä¾‹ã€‚</p><h1 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h1><p>A <strong>set</strong> is a <strong>collection of objects</strong> that do NOT have a order.       </p><ul><li>Each object is called an <strong>element</strong></li><li>We write:<br><img src="/cn/CSE191/image/Sets-1.png" alt="Sets"></li></ul><h2 id="How-to-describe-a-set"><a href="#How-to-describe-a-set" class="headerlink" title="How to describe a set:"></a>How to describe a set:</h2><ul><li>List all elements.<ul><li>E.g., {1,2,3}</li><li>This is called <strong>roster notation</strong> - list all contents</li></ul></li><li>Provide a description of what the elements look like.<ul><li>E.g., <img src="/cn/CSE191/image/Sets1-2.png" alt="example"></li><li>This is called <strong>set builder notation</strong> - describe contained elements.</li></ul></li></ul><h2 id="Common-Sets"><a href="#Common-Sets" class="headerlink" title="Common Sets"></a>Common Sets</h2><p><img src="/cn/CSE191/image/Sets1-3.png" alt="Common Sets"></p><p><img src="/cn/CSE191/image/Sets1-4.png" alt="More Examples"></p><h2 id="Universal-Set"><a href="#Universal-Set" class="headerlink" title="Universal Set"></a>Universal Set</h2><p>When discussing sets, there is always a <strong>universal set</strong> <em>U</em> involved, which contains all objects under consideration.<br><img src="/cn/CSE191/image/Sets2-1.png" alt="Universal Set"><br>In many casesm the universal set is <strong>implict and omitted from discussion</strong>.</p><h3 id="Russellâ€™s-Parabox"><a href="#Russellâ€™s-Parabox" class="headerlink" title="Russellâ€™s Parabox"></a>Russellâ€™s Parabox</h3><p>Is there a universal set covering all universes?<br><img src="/cn/CSE191/image/Sets2-2.png" alt="Universal Set"></p><h1 id="Cardinality"><a href="#Cardinality" class="headerlink" title="Cardinality"></a>Cardinality</h1><p>Definition:<br>If a set A contains exactly <em>n</em> elements, where <em>n</em> is a non-negative integer, then A <strong>is a finite set</strong>.       </p><ul><li><em>n</em> is called <strong>the cardinality of A</strong></li><li>Denoted by |A| &#x3D; <em>n</em>.</li><li>For a finite set, its cardinality is the â€œsizeâ€ of A.</li></ul><p>Definition:<br>The <strong>empty set</strong> is the set that <strong>contains no elements</strong>.</p><ul><li><p>Denoted by {}</p></li><li><p>Has size 0</p></li><li><p>Do we count duplicate items?</p><ul><li><strong>NO</strong>. We only count unque items for cardinality</li></ul></li></ul><p><img src="/cn/CSE191/image/Cardinality-1.png" alt="Cardinality"></p><p><strong>âˆ… &#x3D; 0</strong><br><strong>{âˆ…} &#x3D; 1</strong>             </p><h1 id="Cardinality-for-infinite-sets"><a href="#Cardinality-for-infinite-sets" class="headerlink" title="Cardinality(for infinite sets)"></a>Cardinality(for infinite sets)</h1><p>Definition:<br>If A is not finite, then it is an <strong>infinite set</strong>.           </p><ul><li>What is the cardinality of an <strong>infinite set</strong>?</li><li>Do all infinite sets have the same size?<ul><li>Appears to not be the case.<ul><li>Are there more rational numbers than integers?</li><li>Are there are more real numbers than rational numbers?</li><li>Only one of these is true.</li></ul></li></ul></li></ul><h1 id="Subsets"><a href="#Subsets" class="headerlink" title="Subsets"></a>Subsets</h1><p><img src="/cn/CSE191/image/SubSet-1.png" alt="Subset"></p><h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p><img src="/cn/CSE191/image/SubSet-2.png" alt="Subset"></p><h2 id="Equal-Sets"><a href="#Equal-Sets" class="headerlink" title="Equal Sets"></a>Equal Sets</h2><p>Definition:<br>Two sets are <strong>equal</strong> if and only if <strong>they have the same elements.</strong>            </p><ul><li>Denoted by A &#x3D; B.</li><li>Order of elements irrelevant.</li></ul><p><img src="/cn/CSE191/image/EqualSets.png" alt="Equal Sets"></p><h1 id="Set-Equality"><a href="#Set-Equality" class="headerlink" title="Set Equality"></a>Set Equality</h1><p><img src="/cn/CSE191/image/EqualitySet-1.png" alt="Set Equality"></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE191 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢æ­å»º-å¦‚ä½•åœ¨æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡</title>
      <link href="/cn/hexo-image/"/>
      <url>/cn/hexo-image/</url>
      
        <content type="html"><![CDATA[<h1 id="ç»å¯¹è·¯å¾„"><a href="#ç»å¯¹è·¯å¾„" class="headerlink" title="ç»å¯¹è·¯å¾„"></a>ç»å¯¹è·¯å¾„</h1><p>åœ¨ä½ çš„åšå®¢çš„æ ¹ç›®å½•ä¸­ï¼Œè¿›å…¥ <code>source</code> æ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ª <code>image</code> æ–‡ä»¶å¤¹ã€‚<br>ä½ å¯ä»¥å°†éœ€è¦åŠ è½½çš„å›¾ç‰‡ç»Ÿç»Ÿæ”¾åœ¨è¿™é‡Œï¼Œä½†æ˜¯å¹¶ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸ºå½“æ–‡ç« å¤šèµ·æ¥çš„æ—¶å€™å°±æ˜¾å¾—å¾ˆä¹±ï¼Œå¾ˆéš¾å»æ•´ç†ã€‚   </p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">/images/xxx.jpg</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä¸€èˆ¬æ˜¯å°†ä¸»é¡µçš„å›¾ç‰‡ç´ ææ”¾å…¥æ­¤æ–‡ä»¶å¤¹ï¼Œæ–‡ç« å›¾ç‰‡æˆ‘æ›´æ¨èä¸‹æ–¹æ“ä½œã€‚</p><h1 id="ç›¸å¯¹è·¯å¾„"><a href="#ç›¸å¯¹è·¯å¾„" class="headerlink" title="ç›¸å¯¹è·¯å¾„"></a>ç›¸å¯¹è·¯å¾„</h1><p>è¿™ç§æ–¹æ³•æ˜¯å¯¹æ¯ä¸€ä¸ªæ–‡ç« æ–°å»ºä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ï¼Œç”¨äºæ”¾å…¥å¯¹è¯¥æ–‡ç« çš„ç´ æï¼Œæ¯”è¾ƒæ¨èã€‚<br>é¦–å…ˆä½ éœ€è¦ä¿®æ”¹ä½ çš„ <code>_config.yml</code>,å°† <code>post_asset_folder</code> æ”¹ä¸º <code>true</code>ï¼š  </p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>åç»­åˆ›å»ºæ–°æ–‡ç« çš„æ—¶å€™å°±ä¼šç”ŸæˆåŒåæ–‡ä»¶å¤¹ï¼Œå›¾ç‰‡ä¸¢è¿›å»å³å¯ã€‚<br><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨æ­¤æ–¹æ³•ä¹‹å‰çš„æ–‡ç« éœ€è¦ä½ è‡ªå·±åˆ›å»ºåŒåæ–‡ä»¶å¤¹ï¼Œç³»ç»Ÿå¹¶ä¸ä¼šè¡¥ä¸Šã€‚</strong>   </p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> å›¾ç‰‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSE116çš„å­¦ä¹ ç¬”è®°-Lec#1:ScalaåŸºç¡€è¯­æ³•</title>
      <link href="/cn/scala-basic/"/>
      <url>/cn/scala-basic/</url>
      
        <content type="html"><![CDATA[<p>Lecture #1  9&#x2F;2<br>æˆè¯¾æ—¶é—´ï¼š2020-09-02 13:50:00</p><h1 id="Scala-Basics"><a href="#Scala-Basics" class="headerlink" title="Scala Basics"></a>Scala Basics</h1><h2 id="Hello-Scala"><a href="#Hello-Scala" class="headerlink" title="Hello Scala!"></a>Hello Scala!</h2><p>Example:</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> week1.basics </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;Hello Scala!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>package week1.basics</code> : define where this code lives.<br><code>object Hello</code>: Objects<br><code>def main&#123;&#125;</code>: Main Method<br><code>println(&quot;Hello Scala!&quot;)</code>: Print Line   </p><h2 id="Methods-Variables"><a href="#Methods-Variables" class="headerlink" title="Methods Variables"></a>Methods Variables</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> week1.basics</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">FirstObject</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">multiplyBtTwo</span></span>(input: <span class="type">Double</span>): <span class="type">Double</span> = &#123;</span><br><span class="line">        input * <span class="number">2.0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> x: <span class="type">Double</span> = <span class="number">7.0</span></span><br><span class="line">        <span class="keyword">var</span> result = multiplyBtTwo(x)</span><br><span class="line">        println(result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>input</code>: input value<br><code>Double</code>: Data type<br>Usually no <code>return</code> statements.</p><p><code>var</code>: Variables declaration </p><h2 id="Conditionals"><a href="#Conditionals" class="headerlink" title="Conditionals"></a>Conditionals</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> week1.basics</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Coditional</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">computeSize</span></span>(inout: <span class="type">Double</span>): <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> large: <span class="type">Double</span> = <span class="number">60.0</span></span><br><span class="line">        <span class="keyword">val</span> medium: <span class="type">Double</span> = <span class="number">60.0</span></span><br><span class="line">        <span class="keyword">if</span> (input &gt;= large) &#123;</span><br><span class="line">            <span class="string">&quot;large&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (input &gt;= medium) &#123;</span><br><span class="line">            <span class="string">&quot;medium&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="string">&quot;small&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span> </span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(computeSize(<span class="number">70.0</span>))</span><br><span class="line">        println(computeSize(<span class="number">50.0</span>))</span><br><span class="line">        println(computeSize(<span class="number">10.0</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>val</code>: Values declared with <code>val</code> cannot change, Reassignment causes an ERROR!<br><code>&quot;small&quot;</code>: means <code>return &quot;small&quot;</code></p><h2 id="Lecture-Question"><a href="#Lecture-Question" class="headerlink" title="Lecture Question"></a>Lecture Question</h2><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><p>In a package named â€œlectureâ€ create an object named â€œFirstObjectâ€ with a metho named â€œcomputeShippingCostâ€ that takes a Double representing the weight of a package as a paramater and returns a Double representing the shipping cost of the package.</p><p>Ex:<br>The shipping cost is ($)5 + 0.25 per pound over 30</p><ul><li>Every package weighing 30 pounds or less will cost 5 to ship.</li><li>Ex. A package weighting 31 pounds cost 5.25 to ship</li><li>Ex. A package weighting 40 pounds cost 7.50 to ship</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> CSE116 </category>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoä¸»é¢˜æ›´æ¢</title>
      <link href="/cn/hexo-theme/"/>
      <url>/cn/hexo-theme/</url>
      
        <content type="html"><![CDATA[<h1 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h1><p>æƒ³å¿…å¤§å®¶éƒ½çœ‹è…»äº†å®˜æ–¹çš„ä¸»é¢˜ï¼Œä½œä¸ºhexoçš„ä¼˜åŠ¿ä¹‹ä¸€ï¼Œä¸°å¯Œçš„ä¸»é¢˜å¯ä»¥å¸¦ç»™ä½ ä¸ä¸€æ ·çš„ç•Œé¢å’Œç”¨æˆ·ä½“éªŒï¼Œæˆ‘å°†ä¼šåœ¨è¿™é‡Œæ•™ä½ å¦‚ä½•å˜æ›´hexoçš„ä¸»é¢˜ã€‚</p><h1 id="é€‰æ‹©ä¸»é¢˜"><a href="#é€‰æ‹©ä¸»é¢˜" class="headerlink" title="é€‰æ‹©ä¸»é¢˜"></a>é€‰æ‹©ä¸»é¢˜</h1><p>ä½ å¯ä»¥å‰å¾€hexoçš„å®˜æ–¹ä¸»é¢˜é¡µé¢é€‰æ‹©ä½ å¿ƒä»ªçš„ä¸»é¢˜ï¼Œ<a href="https://hexo.io/themes/">ç‚¹å‡»è·³è½¬</a><br><img src="/cn/hexo-theme/image/hexo-theme.png" alt="Hexo theme"></p><h1 id="ä¸‹è½½ä¸»é¢˜"><a href="#ä¸‹è½½ä¸»é¢˜" class="headerlink" title="ä¸‹è½½ä¸»é¢˜"></a>ä¸‹è½½ä¸»é¢˜</h1><p>æ—¢ç„¶è¦å˜æ›´ä¸»é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦å…ˆå°†ä¸»é¢˜ä¸‹è½½åˆ°æˆ‘ä»¬åšå®¢é‡Œã€‚<br>ä¸‹è½½ä¸»é¢˜å¯ä»¥ä»ä½œè€…çš„GitHubé‡Œæˆ–è€…ä½¿ç”¨ <code>npm</code> è¿›è¡Œä¸‹è½½ï¼Œè¿™é‡Œæˆ‘å°±ä¸å¤šæè¿°äº†ã€‚<br>è¿™é‡Œå°±ä»¥æˆ‘ç°åœ¨ä½¿ç”¨çš„ä¸»é¢˜ <code>butterfly</code> è¿›è¡Œæ¼”ç¤ºï¼š  </p><h2 id="ä½¿ç”¨gitä¸‹è½½"><a href="#ä½¿ç”¨gitä¸‹è½½" class="headerlink" title="ä½¿ç”¨gitä¸‹è½½"></a>ä½¿ç”¨gitä¸‹è½½</h2><p>ç»ˆç«¯ä¸‹è¾“å…¥ï¼š   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨npmä¸‹è½½ï¼ˆè¦æ±‚Hexoç‰ˆæœ¬5-0-0ä»¥ä¸Šï¼‰"><a href="#ä½¿ç”¨npmä¸‹è½½ï¼ˆè¦æ±‚Hexoç‰ˆæœ¬5-0-0ä»¥ä¸Šï¼‰" class="headerlink" title="ä½¿ç”¨npmä¸‹è½½ï¼ˆè¦æ±‚Hexoç‰ˆæœ¬5.0.0ä»¥ä¸Šï¼‰"></a>ä½¿ç”¨npmä¸‹è½½ï¼ˆè¦æ±‚Hexoç‰ˆæœ¬5.0.0ä»¥ä¸Šï¼‰</h2><p>ç»ˆç«¯é‡Œå…ˆcdåˆ°åšå®¢çš„æ ¹ç›®å½•ï¼Œç„¶åè¾“å…¥ï¼š  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><h1 id="åº”ç”¨ä¸»é¢˜"><a href="#åº”ç”¨ä¸»é¢˜" class="headerlink" title="åº”ç”¨ä¸»é¢˜"></a>åº”ç”¨ä¸»é¢˜</h1><p>å‰å¾€åšå®¢æ ¹ç›®å½•ï¼Œæ‰¾åˆ°æ–‡ä»¶ <code>_config.yml</code>ï¼Œæ‰“å¼€å®ƒã€‚<br>åœ¨æœ€ä¸‹é¢çš„ <code># Extensions</code> é‡Œï¼Œå°† <code>theme</code> åé¢çš„å†…å®¹æ”¹æˆ <code>butterfly</code> å³å¯ã€‚<br><img src="/cn/hexo-theme/image/config.png" alt="Hexo theme"></p><h1 id="åˆ·æ–°ä¸»é¢˜"><a href="#åˆ·æ–°ä¸»é¢˜" class="headerlink" title="åˆ·æ–°ä¸»é¢˜"></a>åˆ·æ–°ä¸»é¢˜</h1><p>åº”ç”¨å®Œæˆåè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤åˆ·æ–°åšå®¢ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><p>å†å°†å…¶æ¨åˆ°äº‘ç«¯æˆ–æœ¬åœ°å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> ä¸»é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰§è¡Œ&quot;hexo d&quot;æ—¶äº§ç”Ÿå…³äºdeployçš„æŠ¥é”™</title>
      <link href="/cn/hexo-d/"/>
      <url>/cn/hexo-d/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>åœ¨è®¾ç½®å®Œ <code>deploy</code> æ—¶ï¼Œæ‰§è¡Œ <code>hexo d</code> æŠ¥é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>é”™è¯¯åŸå› åœ¨äºä½ æ²¡æœ‰å®‰è£… <code>hexo-deployer-git</code> æ’ä»¶ï¼Œåœ¨ä½ çš„åšå®¢æ ¹ç›®å½•ä¸‹è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ç°åœ¨å†æ‰§è¡Œ <code>hexo d</code> æ—¶å°±ä¸ä¼šæŠ¥é”™äº†</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> æŠ¥é”™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/cn/hello-world/"/>
      <url>/cn/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> Hello World </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Setup</title>
      <link href="/cn/Hexo-Setup/"/>
      <url>/cn/Hexo-Setup/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-Setup"><a href="#Hexo-Setup" class="headerlink" title="Hexo-Setup"></a>Hexo-Setup</h1><p>æœ¬æ–‡åŸºäºç¨‹åºç¾Šï¼ˆCodeSheepï¼‰åœ¨bç«™çš„å‘å¸ƒçš„å…³äºåšå®¢æ­å»ºçš„è§†é¢‘ï¼Œä»¥ä¸‹å‡ä¸ºå­¦ä¹ ç¬”è®°ã€‚</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>ä¸‹è½½ï¼š</p><ul><li><a href="https://nodejs.org/">node.js</a></li><li>iTerm</li></ul><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>æ‰“å¼€ <code>iTerm</code>ï¼Œè¾“å…¥ <code>sudo su</code>ï¼Œè¾“å…¥å¯†ç ä»¥rootèº«ä»½è¿è¡Œã€‚<br>å¦‚æœå‡ºç° <code>sh-3.2#</code> å­—æ ·è¯´æ˜æˆåŠŸã€‚<br><img src="/cn/Hexo-Setup/image/su.png" alt="sudo su">  </p><p>æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹ <code>node</code> å’Œ <code>npm</code> çš„ç‰ˆæœ¬ä»¥ç¡®ä¿å®‰è£…æˆåŠŸ<br>åˆ†åˆ«ä¸º <code>node -v</code> å’Œ <code>npm -v</code>ï¼Œå¦‚æœå‡ºç°ç‰ˆæœ¬å·åˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚<br><img src="/cn/Hexo-Setup/image/check.png" alt="check"> </p><p><strong>å›½å†…ç”¨æˆ·éœ€å®‰è£… <code>cnpm</code></strong><br>è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤å³å¯ï¼š<br><code>npm install -g cnpm --registry=http://registry.npm.taobao.org</code></p><p>å®‰è£…å®Œæˆåï¼Œè¾“å…¥ <code>cnpm -v</code> æŸ¥çœ‹ <code>cnpm</code> ç‰ˆæœ¬ä»¥ç¡®ä¿å®‰è£…æ— è¯¯ã€‚</p><h2 id="å®‰è£…hexoæ¡†æ¶"><a href="#å®‰è£…hexoæ¡†æ¶" class="headerlink" title="å®‰è£…hexoæ¡†æ¶"></a>å®‰è£…hexoæ¡†æ¶</h2><p>è¾“å…¥ <code>npm install -g hexo-cli</code> ä»¥å®‰è£… <code>hexo</code> æ¡†æ¶<br><img src="/cn/Hexo-Setup/image/hexo-cli.png" alt="hexo-cli"> </p><p><strong>å›½å†…ç”¨æˆ·ä½¿ç”¨ <code>cnpm</code> å®‰è£…æ¡†æ¶å³å¯ã€‚</strong><br>è¾“å…¥ <code>cnpm install -g hexo-cli</code> ä»¥å®‰è£… <code>hexo</code> æ¡†æ¶</p><p>å®‰è£…å®Œæˆåï¼Œè¾“å…¥ <code>hexo -v</code> æŸ¥çœ‹ <code>hexo</code> ç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿å®‰è£…æˆåŠŸ<br><img src="/cn/Hexo-Setup/image/hexo-v.png" alt="hexo-v"> </p><h2 id="ç”Ÿæˆåšå®¢"><a href="#ç”Ÿæˆåšå®¢" class="headerlink" title="ç”Ÿæˆåšå®¢"></a>ç”Ÿæˆåšå®¢</h2><p>è¾“å…¥ <code>mkdir blog</code> ä»¥åˆ›å»ºä¸€ä¸ªåå­—ä¸º<code>blog</code>çš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åå­—æ²¡æœ‰è¦æ±‚ï¼Œå¯ä»¥éšä¾¿èµ·ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿è®°å¿†ã€‚  </p><p>è¾“å…¥ <code>cd blog</code> è¿›å…¥ åˆšåˆ›å¥½çš„ <code>blog</code> æ–‡ä»¶å¤¹ã€‚<br>ä¸ç¡®å®šä½ç½®åœ¨å“ªçš„å¯ä»¥ä½¿ç”¨ <code>pwd</code> æ¥æŸ¥çœ‹æ–‡ä»¶ä½ç½®ã€‚<br><img src="/cn/Hexo-Setup/image/new_blog.png" alt="blog"> </p><p>è¾“å…¥ <code>sudo hexo init</code> åˆå§‹åŒ–åšå®¢ &#x2F; ç”Ÿæˆåšå®¢  </p><p>å®Œæˆåè¾“å…¥ <code>hexo s</code> å¯åŠ¨æœ¬åœ°åšå®¢<br>å¯åŠ¨å®Œæˆåï¼Œæµè§ˆå™¨è¾“å…¥ <code>http://localhost:4000/ </code>å³å¯çœ‹åˆ°ç”Ÿæˆçš„åšå®¢  </p><h2 id="çº¿ä¸Šåšå®¢éƒ¨ç½²-å…è´¹"><a href="#çº¿ä¸Šåšå®¢éƒ¨ç½²-å…è´¹" class="headerlink" title="çº¿ä¸Šåšå®¢éƒ¨ç½²(å…è´¹)"></a>çº¿ä¸Šåšå®¢éƒ¨ç½²(å…è´¹)</h2><p>æ‰“å¼€ä½ çš„ <code>GitHub</code>ï¼Œåˆ›å»ºä¸€ä¸ªä¸ä½ ç”¨æˆ·ååŒåçš„ioåº“ï¼š   </p><p>ä¸¾ä¾‹ï¼š<br>ç”¨æˆ·åï¼š <code>abc</code>  â¡ï¸  åº“åï¼š <code>abc.github.io</code>  </p><p><img src="/cn/Hexo-Setup/image/github.png" alt="github-io"> </p><p>åˆ›å»ºåè½¬åˆ° <code>iTerm</code>ï¼š<br>è¾“å…¥ <code>npm install --save hexo-deployer-git</code> å®‰è£…gitéƒ¨ç½²æ’ä»¶<br><strong>å›½å†…ç”¨æˆ·è¾“å…¥ï¼š<code>cnpm install --save hexo-deployer-git</code> å®‰è£…gitéƒ¨ç½²æ’ä»¶</strong>  </p><p>å®‰è£…å®Œæˆåè¾“å…¥ <code>vim _config.yml</code> æ‰“å¼€ <code>_config.yml</code> æ–‡ä»¶<br><img src="/cn/Hexo-Setup/image/config-1.png" alt="æ‰“å¼€ _cofig.yml"> </p><p>æ‰“å¼€æ–‡ä»¶åï¼Œç›´æ¥è·³è½¬åˆ°æœ€ä¸‹é¢ï¼Œåœ¨ <code>Deployment</code> èœå•ä¸‹è¾“å…¥å›¾ä¸­çš„å‚æ•°ï¼Œ<br><strong>å¹¶æŠŠ <code>repo</code> çš„å†…å®¹æ”¹ä¸ºè‡ªå·±åˆšåˆ›å»ºçš„ <code>repo</code> çš„åœ°å€ã€‚</strong><br><img src="/cn/Hexo-Setup/image/config-2.png" alt="é…ç½® _cofig.yml"> </p><p>ä¿®æ”¹å®ŒæˆåæŒ‰ <code>esc</code> é”®é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå¹¶è¾“å…¥ <code>:wq</code> ä¿å­˜&amp;é€€å‡º <code>_config.yml</code><br><img src="/cn/Hexo-Setup/image/config-3.png" alt="ä¿å­˜å¹¶é€€å‡º _cofig.yml"> </p><p>è¾“å…¥ <code>hexo d</code> å°†æœ¬åœ°çš„åšå®¢æ¨åˆ°ä½ çš„GitHubåº“ä¸­<br><img src="/cn/Hexo-Setup/image/config-4.png" alt="æ¨åº“"> </p><p>ç³»ç»Ÿä¼šè¦æ±‚ä½ è¾“å…¥GitHubçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œè¾“å…¥å³å¯ï¼š<br><img src="/cn/Hexo-Setup/image/config-5.png" alt="ç™»é™†GitHub"> </p><p>è‡³æ­¤ä½ çš„æœ¬åœ°åšå®¢å·²ç»æŒ‚åˆ°GitHubä¸Šï¼Œç°åœ¨å³å¯è¿›è¡Œè¿œç¨‹è®¿é—®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> éƒ¨ç½² </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCore for macOS Big Sur</title>
      <link href="/cn/Open-Core-for-macOS-Big-Sur/"/>
      <url>/cn/Open-Core-for-macOS-Big-Sur/</url>
      
        <content type="html"><![CDATA[<p>è­¦å‘Šâš ï¸ï¼šæœ¬ç›®å½•ä»…ä¸ºä¸ªäººè®°å½•æ‰€å‡†å¤‡ï¼Œå¦‚æœä½ ä¹Ÿæƒ³å°è¯•å‡çº§macOS11å¯ä»¥ä»¥æ­¤æ•™ç¨‹ä½œä¸ºå‚è€ƒï¼Œæœ¬äººä¸ä¼šä¸ºä½ æ“ä½œè¿‡ç¨‹ä¸­æ‰€å‡ºç°çš„ä»»ä½•é”™è¯¯è´Ÿè´£ï¼è¯·è‡ªå·±é…Œé‡è€Œè¡Œã€‚   </p><p><strong>EFIæ”¯æŒOTAæˆ–è€…é€šè¿‡ä¸‹è½½å¥½çš„æ›´æ–°ç¨‹åºappæ›´æ–°ï¼Œå› æ­¤å»ºè®®å…ˆå°è¯•è¿™ä¸¤ç§åŠæ³•ï¼Œå…¶æ¬¡å†å°è¯•Uç›˜å®‰è£…ï¼Œå†è€…æŸ¥çœ‹æˆ‘åé¢å†™çš„å…³äºè™šæ‹Ÿæœºå®‰è£…æ•™ç¨‹ï¼</strong><br><strong>EFI support OTA &amp; app update, recommend use these two method first, then try my virtual machine tutorial.</strong>   </p><p>ç”±äºæˆ‘å³å°†å¼€å­¦ï¼Œè¿™å‡ å¤©è¿˜åœ¨æ¬å®¶+å¸ƒç½®ç½‘ç»œï¼Œå› æ­¤æ‘é‡Œåˆšé€šç½‘ï¼Œå¯¹æ­¤æˆ‘éå¸¸æŠ±æ­‰ã€‚åœ¨åç»­çš„æ—¶é—´æˆ‘å°†é™ä½æˆ‘çš„æ›´æ–°é¢‘ç‡ï¼Œå­¦ä¸šä¸ºé‡å¸Œæœ›å¤§å®¶ç†è§£ï¼Œä¸è¿‡æˆ‘ä¹Ÿå‘å¤§ä¼™ä»¬ä¿è¯ä¸ä¼šåœæ›´çš„ï¼ˆæ—¥æ›´æˆ‘è‚¯å®šæ˜¯è‚ä¸åŠ¨äº†ï¼Œæ¯•ç«ŸğŸ‘´æ¯å‘¨éƒ½è¦åšLab Reportï¼Œå› æ­¤æˆ‘å°½é‡ä¿æŒå‘¨æ›´ã€‚ï¼‰</p><h1 id="æ–‡ä»¶è¯´æ˜-x2F-File-Description"><a href="#æ–‡ä»¶è¯´æ˜-x2F-File-Description" class="headerlink" title="æ–‡ä»¶è¯´æ˜ &#x2F; File Description"></a>æ–‡ä»¶è¯´æ˜ &#x2F; File Description</h1><ul><li><p><strong>CLOVER</strong></p><ul><li><code>CLOVER</code>å¼•å¯¼<code>EFI</code>ï¼Œç‰ˆæœ¬<code>5103</code>ï¼Œå¯¹åº”ç³»ç»Ÿ <code>macOS 10.15.4</code>ã€‚ç”±äºæˆ‘å·²ç»è½¬å…¥ <code>OC</code> å¼•å¯¼ï¼Œå› æ­¤ä¸ä¼šå†è¿›è¡Œæ›´æ–°ï¼Œæ”¾åœ¨è¿™é‡Œåªæ˜¯ä¸ºäº†ç»™é‚£äº›éœ€è¦ä½¿ç”¨ <code>5120</code> çš„äººä½œä¸ºå‚è€ƒ</li><li>EFI with <code>CLOVER</code>ï¼Œ<code>v5103</code>, for <code>macOS 10.15.4</code>. I wonâ€™t update it anymore,because of I move to <code>OC</code>. Just a reference for guys who want to use <code>CLOVER v5120</code>.</li><li>é—®é¢˜ï¼šæ— é—®é¢˜  &#x2F; Issue: None</li></ul></li><li><p><del><strong>EFI 10.15.6</strong> (ä½¿ç”¨æ—¶è®°å¾—æ”¹åä¸º <code>EFI</code>)</del></p><ul><li><del><code>OpenCore</code> ç‰ˆæœ¬çš„EFIï¼Œç‰ˆæœ¬ <code>0.6.0</code>ï¼Œå¯¹åº”ç³»ç»Ÿ <code>macOS 10.15.6</code>ã€‚æˆ‘ä¼šæ›´æ–°è¯¥EFIï¼Œä½†æ˜¯é¢‘ç‡ä¸é«˜ï¼Œå› ä¸ºæˆ‘ç°åœ¨å¾ˆå°‘ä½¿ç”¨è¯¥ç‰ˆæœ¬ç³»ç»Ÿã€‚</del></li><li><del>EFI with <code>OpenCore</code> , <code>v0.6.0</code>, for <code>macOS 10.15.6</code>. Still updating, but low freq.</del></li><li><del>é—®é¢˜ï¼šç¡çœ å”¤é†’é»‘å±  &#x2F; Issue: Wakeup with BlackScreen(after sleep)</del></li></ul></li><li><p><strong>EFI beta</strong>  (ä½¿ç”¨æ—¶è®°å¾—æ”¹åä¸º <code>EFI</code>)</p><ul><li><code>OpenCore</code> ç‰ˆæœ¬çš„EFIï¼Œç‰ˆæœ¬ <code>0.6.1</code>ï¼Œå¯¹åº”ç³»ç»Ÿ <code>macOS 11</code>ã€‚è¯¥ç‰ˆæœ¬çš„EFIæ›´æ–°é¢‘ç‡è¾ƒé«˜ï¼ˆæ›´æ–°æ¯”è¾ƒæ¿€è¿›ï¼ŒåŸºæœ¬å¯¹åº”æœ€æ–°è‡ªç¼–è¯‘ <code>Kext</code> å’Œ <code>OpenCore</code>ï¼‰å› æ­¤å¾ˆå®¹æ˜“å‡ºç°ä¸€äº›BUGã€‚å–œæ¬¢å°é²œçš„å¯ä»¥ä½¿ç”¨ã€‚</li><li>EFI with <code>OpenCore</code> , <code>v0.6.1</code>, for <code>macOS 11</code>. Update with High Freq (<strong>Lastest <code>Kext</code>[Self Compile] &amp; <code>OpenCore</code>[From <code>OpenCore-Factory</code>]</strong>)which could cause some <strong>ISSUE</strong> that donâ€™t expect.</li><li><strong>é—®é¢˜ï¼š</strong><ul><li><strong><del>ä½¿ç”¨ <code>SecureBoot</code> æ— æ³•è¿›å…¥<code>æ¢å¤æ¨¡å¼</code></del></strong>  </li><li><strong>åŒ…å«<code>EFI</code>é‡Œæ‰€æœ‰çš„BUG</strong></li><li><strong>å¯èƒ½ä¼šæœ‰å…¶ä»–æœªçŸ¥BUG</strong></li></ul></li><li><strong>Issue:</strong><ul><li><strong><del>Canâ€™t enter <code>Recovery</code> with <code>SecureBoot</code>.</del></strong></li><li><strong>Contain all BUG in <code>EFI</code></strong></li><li><strong>Might have other unknow BUG</strong></li></ul></li></ul></li><li><p><strong>EFI</strong> </p><ul><li><code>OpenCore</code> ç‰ˆæœ¬çš„EFIï¼Œç‰ˆæœ¬ <code>0.6.1</code>ï¼Œå¯¹åº”ç³»ç»Ÿ <code>macOS 11</code> &amp; <code>macOS 10.15.6</code>ã€‚è¾ƒä¸ºç¨³å®šçš„EFIï¼Œåªæœ‰åœ¨ç¡®è®¤ç¨³å®šåæ‰ä¼šè¿›è¡Œæ›´æ–°ï¼Œå› æ­¤æ›´æ–°é¢‘ç‡ä¸æ˜¯å¾ˆé«˜ã€‚</li><li>EFI with <code>OpenCore</code> , <code>v0.6.1</code>, for <code>macOS 11</code> &amp; <code>macOS 10.15.6</code>. <code>Stable Version</code> for EFI, Only updated while itâ€™s stable to use. Thus not too high freq.</li><li><strong>é—®é¢˜ï¼š</strong><ul><li><del><strong>ç¡çœ å”¤é†’åæ—¶é—´ä»å®šæ ¼åœ¨ç¡çœ å‰ï¼ˆéœ€æ‰‹åŠ¨æ›´æ–°æ—¶é—´ï¼‰</strong></del> </li><li><strong>æ— æ³•è‡ªåŠ¨åˆ‡æ¢éŸ³é¢‘è¾“å‡ºï¼Œå¼€æœºé»˜è®¤è€³æœºè¾“å‡ºï¼Œå˜æ›´è¾“å‡ºéœ€è¦æ‰‹åŠ¨åˆ‡æ¢ã€‚</strong></li></ul></li><li><strong>Issue:</strong><ul><li><del><strong>Time Freeze while laptop sleep, That means you have to MANUALLY update the time after sleep.</strong></del></li><li><strong>Canâ€™t switch audio output automatically. You have to MANUALLY switch it</strong></li></ul></li></ul></li><li><p><strong>Tools</strong></p><ul><li>é‡Œé¢åŒ…å«è¯¥æ•™ç¨‹éœ€è¦çš„åŸºæœ¬å·¥å…·ï¼ˆè½¯ä»¶ï¼‰ã€‚</li><li>Include some necessary &#x2F; basic <code>tools</code> for this tutorial</li></ul></li><li><p><strong>Wallpaper</strong></p><ul><li>æˆ‘å¤‡ä»½çš„å£çº¸ã€‚ã€‚ã€‚</li><li>Just <code>Wallpaper</code>,nothing else. (if u want something else, go porxhxb prm)</li></ul></li><li><p><strong>image</strong></p><ul><li>æœ¬æ•™ç¨‹æ‰€åŒ…å«çš„å›¾ç‰‡çš„ç¼“å­˜ï¼Œå¯¹äºä½ ä»¬æ¥è¯´å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨</li><li>Just some <code>image caches</code> for this tutorial, <code>useless</code> to your guys.</li></ul></li><li><p><strong>Changelog</strong></p><ul><li>å…³äºReleasesä¸Šçš„å˜æ›´ç›®å½•ã€‚</li><li>Changelog for releases.</li></ul></li></ul><h1 id="å†™åœ¨æœ€å‰"><a href="#å†™åœ¨æœ€å‰" class="headerlink" title="å†™åœ¨æœ€å‰"></a>å†™åœ¨æœ€å‰</h1><ul><li>æœ¬æ–‡çš„å†…å®¹ä¸»è¦å‚è€ƒäº†<a href="https://github.com/EmeryWan">EmeryWan</a>çš„æ–‡ç« <a href="https://github.com/EmeryWan/Razer-Blade-15-2018-Base-Hackintosh">â€œé›·è›‡çµåˆƒ15é»‘è‹¹æœâ€</a>ä½œä¸ºå…¥é—¨é»‘è‹¹æœçš„æ•™ç¨‹ï¼ˆè¯¥æ–‡ç« é‡‡ç”¨äº†Cloverçš„å¼•å¯¼ï¼‰ï¼Œ<a href="https://github.com/blade15basehackintosh">Razer Blade 15 Base Model Hackintosh</a>çš„æ–‡ç« <a href="https://github.com/blade15basehackintosh/razerbladehackintosh">â€œrazerbladehackintoshâ€</a>ä½œä¸ºOCï¼ˆOpenCoreï¼‰å¼•å¯¼è½¬æ¢çš„å‚è€ƒæ–‡æ¡£ï¼Œä»¥åŠ<a href="https://github.com/doanhmaple">doanhmaple</a>çš„æ–‡ç« <a href="https://github.com/doanhmaple/Razer-Blade-15-Advanced-2018-Hackintosh">â€œRazer-Blade-15-Advanced-2018-Hackintoshâ€</a>å¯¹ACPIçš„ç”µæ± ä¿®è¡¥å·¥ä½œçš„patchå¸®åŠ©ã€‚è¿™é‡Œå†æ¬¡æ„Ÿè°¢ä»–ä»¬å¯¹å®‰è£…é»‘è‹¹æœçš„åˆ†äº«å’Œä»˜å‡ºï¼ˆBig thanks for <a href="https://github.com/EmeryWan">EmeryWan</a>, <a href="https://github.com/blade15basehackintosh">Razer Blade 15 Base Model Hackintosh</a> and <a href="https://github.com/doanhmaple">doanhmaple</a>!!!)ã€‚å¦‚æœä½ è¿˜éœ€è¦æ›´å¤šå…³äºé»‘è‹¹æœå®‰è£…ä»¥åŠä¼˜åŒ–çš„æ•™ç¨‹ï¼Œå¯ä»¥å‰å¾€<a href="https://blog.daliansky.net/">é»‘æœå°å…µçš„éƒ¨è½é˜</a>å’Œ<a href="https://github.com/daliansky/Hackintosh">Hackintoshé»‘è‹¹æœé•¿æœŸç»´æŠ¤æœºå‹EFIåŠå®‰è£…æ•™ç¨‹æ•´ç†</a>æŸ¥çœ‹ï¼Œé‡Œé¢æœ‰å¾ˆå¤šæ‚ä¸ƒæ‚å…«çš„æœºå‹é…ç½®å’Œå®‰è£…æ•™ç¨‹ä»¥åŠä¸€äº›å®ç”¨çš„é»‘è‹¹æœä¼˜åŒ–ã€‚</li><li>è·Ÿå¾ˆå¤šäººä¸€æ ·ï¼Œæˆ‘å¼€å§‹æ¥è§¦é»‘è‹¹æœè¿™ä¸ªé¢†åŸŸæ˜¯å› ä¸ºmacOSçš„æµç•…ä¸ç¨³å®šæ€§ï¼Œå¯¹ç å†œæ›´å‹å¥½çš„unixå†…æ ¸å’Œå¥½çœ‹çš„ç³»ç»ŸUIã€‚å†è€…ç”±äºæ–°å† ç–«æƒ…çš„å½±å“ï¼Œæˆ‘è¢«è¿«é•¿æ—¶é—´æ‹˜ç•™åœ¨å®¶ä¸­å®åœ¨æ— èŠğŸ¥±ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†å¾ˆå¤šç›¸åŒæœºå‹çš„æ•™ç¨‹ï¼Œè¿™å¤§å¤§å‡å°‘äº†å…¥é—¨é»‘è‹¹æœçš„éš¾åº¦ã€‚</li><li>å¦‚æœä½ åªæƒ³å¯»æ±‚ç¨³å®šçš„macOSï¼Œå»ºè®®ä½ å‰å¾€æ–‡ç« å¼€å¤´çš„é‚£äº›æ–‡ç« æŸ¥çœ‹ï¼ˆmacOS 10.15ï¼‰ï¼Œ<strong>âš ï¸è¿™é‡Œæˆ‘åªä¼šè®²è§£å…³äºmacOS 11 çš„å®‰è£…âš ï¸</strong> ï¼Œå½“ç„¶å¦‚æœä½ å¸Œæœ›å……åˆ†åˆ©ç”¨ä½ çš„æ˜¾å¡ï¼ˆä¾‹å¦‚GTX1060ï¼ŒGTX1070ï¼ŒGTX960ï¼ŒGTX980ç­‰20ç³»ä¹‹å‰çš„è‹±ä¼Ÿè¾¾æ˜¾å¡[<strong>RTXç³»åˆ—ï¼šRTX2060ï¼ŒRTX2060 SUPERï¼ŒRTX2070ï¼ŒRTX2070Tiï¼Œç­‰ç±»ä¼¼æ˜¾å¡å‡ä¸å¯ç”¨ ğŸš«</strong> ]ï¼‰ï¼Œä½ å¯ä»¥å°è¯•å®‰è£…macOS 10.13ï¼ˆHigh Sierraæ˜¯æ”¯æŒè‹±ä¼Ÿè¾¾æ˜¾å¡çš„æœ€æ–°çš„ç‰ˆæœ¬ï¼Œåœ¨æ­¤ä¹‹ååªèƒ½è¿è¡Œä½ çš„IGPUï¼Œä¹Ÿå°±æ˜¯è‹±ç‰¹å°”çš„é›†æˆæ˜¾å¡ï¼‰ï¼Œè¯·è‡ªè¡Œçˆ¬è´´æŸ¥æ‰¾æ•™ç¨‹ã€‚</li><li><strong>æœ¬æ–‡å¹¶ä¸ä¼šè®²è§£å…³äºOCé…ç½®çš„é—®é¢˜ï¼Œæˆ‘ç›¸ä¿¡æ—¢ç„¶ä½ æƒ³å‡çº§ macOS Big Sur ï¼Œé‚£ä¹ˆä½ åº”è¯¥å…·æœ‰ä¸€å®šçš„OCåŸºç¡€çŸ¥è¯†ï¼Œå†è€…ç”±äºæœºå‹çš„ä¸åŒå¤§å®¶çš„OCä¹Ÿéƒ½ä¸å¤§ä¸€æ ·ï¼Œè¿™é‡Œå¾ˆéš¾è¿›è¡Œç»†è¯´ã€‚å¦‚æœä½ çœŸçš„æ˜¯æ–°æ‰‹å¹¶ä¸”æƒ³å°è¯•æ–°ç³»ç»Ÿï¼Œé‚£æˆ‘ä¹Ÿä¸å»ºè®®ä½ è¿›è¡Œæ“ä½œï¼Œé¦–å…ˆæ–°ç³»ç»Ÿçš„bugæœ‰å¾ˆå¤šï¼Œå®ƒå¹¶ä¸æ˜¯ç†æƒ³çš„macOSï¼Œå…¶æ¬¡å„ç§é©±åŠ¨å’Œæ’ä»¶å¯¹äº macOS Big Sur éƒ½è¿˜åœ¨æµ‹è¯•é˜¶æ®µå¹¶ä¸ç¨³å®šï¼Œå¦‚æœå“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œä¸€ä¸ªæ–°æ‰‹å¾ˆéš¾å»è§£å†³ã€‚</strong></li><li>çœ‹åˆ°è¿™é‡Œå¦‚æœä½ çœŸçš„æ‰“ç®—ç»§ç»­å®‰è£…macOS 11ã€‚é‚£ä¹ˆå»ºè®®ä½ æœ€å¥½æ›´æ¢ä¸ºåšé€šçš„ç½‘å¡è¿›è¡Œä½¿ç”¨ï¼ŒUSBç½‘å¡å’Œè‹±ç‰¹å°”ç½‘å¡é©±åŠ¨åœ¨11é‡Œä»ç„¶å­˜åœ¨ä¼—å¤šé—®é¢˜ï¼Œ<del>ç°æ— æ³•åœ¨11é‡Œè¿è¡Œ</del> (USBç½‘å¡ç°åœ¨å¯ä»¥ä½¿ç”¨ï¼Œä½†éœ€è¦å…³é—­SIP)ã€‚</li><li><strong>åŒæœºå‹æˆ–è€…ç›¸ä¼¼æœºå‹çš„åŒå­¦ä»¬å¯ä»¥å‚è€ƒæˆ‘çš„efiï¼Œå½“ç„¶åœ¨ä½ ä½¿ç”¨æˆ‘çš„efiçš„æ—¶å€™è®°å¾—æ›´æ”¹é‡Œé¢çš„ä¸‰ç ï¼ˆæˆ‘å¿˜æ”¹äº†ğŸ˜­ï¼‰ï¼Œä»¥å…é€ æˆè®¾å¤‡å†²çªï¼</strong></li></ul><h1 id="åŸºç¡€é…ç½®-amp-çŸ¥è¯†"><a href="#åŸºç¡€é…ç½®-amp-çŸ¥è¯†" class="headerlink" title="åŸºç¡€é…ç½® &amp; çŸ¥è¯†"></a>åŸºç¡€é…ç½® &amp; çŸ¥è¯†</h1><p>ç”±äºè®¸å¤šæ ¸å¿ƒKextéƒ½å¯¹CLOVERå¼•å¯¼åœæ­¢äº†ç»´æŠ¤ï¼ŒOpenCoreä½œä¸ºæ–°åŠ›å†›å»ºè®®æå‰ ç ”ç©¶ &#x2F; åˆ¶ä½œ å¼•å¯¼ï¼Œä»¥é€‚åº”æœªæ¥çš„åœºæ™¯ã€‚</p><ul><li>CLOVER<ul><li><a href="https://github.com/EmeryWan/Razer-Blade-15-2018-Base-Hackintosh">Razer Blade 15 Base Model (2018) [Clover] [10.15.3 &#x2F; Catalina]</a></li><li><a href="https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh">Razer Blade 15 Advanced Model (early-2019) [Clover] [10.14 &#x2F; 10.15]</a> [è‹±æ–‡ &#x2F; English]</li><li><a href="https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh">Razer Blade 15 Avdanced Model (2018) [Clover] [10.13 &#x2F; High Sierra]</a> [è‹±æ–‡ &#x2F; English]</li></ul></li><li>OpenCore<ul><li><a href="https://github.com/blade15basehackintosh/razerbladehackintosh">Razer Blade 15 Base Model (2018) [OpenCore] [10.15.4 &#x2F; Catalina]</a> [è‹±æ–‡ &#x2F; English]</li><li><a href="https://github.com/doanhmaple/Razer-Blade-15-Advanced-2018-Hackintosh">Razer Blade 15 Advanced Model (2018) [OpenCore] [10.15.5 &#x2F; Catalina]</a> [è‹±æ–‡ &#x2F; English]</li></ul></li><li>OpenCoreå‘å¯¼<ul><li><a href="https://dortania.github.io/vanilla-laptop-guide/">vanilla-laptop-guide</a> [è‹±æ–‡ &#x2F; English]</li><li><a href="https://blog.xjn819.com/?p=543">ä½¿ç”¨OpenCoreå¼•å¯¼é»‘è‹¹æœ</a></li><li><a href="https://blog.daliansky.net/OpenCore-BootLoader.html">ç²¾è§£OpenCore</a></li><li><a href="https://blog.daliansky.net/From-Clover-To-OpenCore.html">ä»Cloveråˆ°OpenCore</a></li><li><a href="http://imacos.top/2020/03/28/0154/">ã€æŒç»­æ›´æ–°ã€‘OpenCoreå¼•å¯¼-vå„ç§å¡åŠOCå¼•å¯¼å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆé€ŸæŸ¥è¡¨åˆé›†</a></li></ul></li><li><strong>å…¶ä»–æœºå‹çš„EFIï¼ˆä¸ä¼šé…çš„æˆ–è€…æƒ³è¦ç°æˆçš„çœ‹è¿™é‡Œï¼ï¼‰</strong><ul><li><a href="https://github.com/daliansky/Hackintosh">Hackintoshé»‘è‹¹æœé•¿æœŸç»´æŠ¤æœºå‹EFIåŠå®‰è£…æ•™ç¨‹æ•´ç†</a></li></ul></li></ul><p><em>ä»¥ä¸Šæ‰€æœ‰çš„æ–‡ç« å‡ä¸º æ¬è¿ &#x2F; è½¬è½½ å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œå¯ä»¥æ‰“èµåŸä½œè€… <strong>ï¼ˆæˆ‘ä¸æ˜¯åŸä½œè€…ï¼ï¼ï¼ï¼‰</strong></em></p><h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><ul><li>æ›´æ–°<ul><li><a href="#819-%E6%9B%B4%E6%96%B0"> macOS Big Sur Beta5 &amp; Public Beta2 ï¼ˆ8&#x2F;19 æ›´æ–°ï¼‰</a></li><li><a href="#813-%E6%9B%B4%E6%96%B0"> macOS Big Sur Public Beta (8&#x2F;13æ›´æ–°)</a></li><li><a href="#84-%E6%9B%B4%E6%96%B0"> macOS Big Sur Beta4 ï¼ˆ8&#x2F;4 æ›´æ–°ï¼‰</a></li><li><a href="#722-%E6%9B%B4%E6%96%B0"> macOS Big Sur Beta3 ï¼ˆ7&#x2F;22 æ›´æ–°ï¼‰</a></li><li><a href="#716-%E6%9B%B4%E6%96%B0-clover-v5120"> Clover v5120 ï¼ˆ7&#x2F;16 æ›´æ–°ï¼‰</a></li><li><a href="#715-%E6%9B%B4%E6%96%B0-%E9%9D%9E-big-sur--catalina"> macOS 10.15.6 ï¼ˆ7&#x2F;15 æ›´æ–°ï¼‰</a></li><li><a href="#711-%E6%9B%B4%E6%96%B0"> ã€é»‘æœå°å…µã€‘macOS Big Sur Beta 2 Installer for OpenCore and PEåŒEFIåˆ†åŒºåŸç‰ˆé•œåƒ ï¼ˆ7&#x2F;11 æ›´æ–°ï¼‰</a></li><li><a href="#77-%E6%9B%B4%E6%96%B0">macOS Big Sur Beta2 ï¼ˆ7&#x2F;7 æ›´æ–°ï¼‰</a></li></ul></li><li><a href="#%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98">ä¸€äº›é—®é¢˜</a></li><li><a href="#1%E7%A1%AC%E4%BB%B6%E4%BB%8B%E7%BB%8D">ç¡¬ä»¶ä»‹ç»</a></li><li><a href="#2%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C">æœ€ç»ˆæ•ˆæœ</a></li><li><a href="#3%E8%A7%A3%E9%94%81bios">è§£é”BIOS</a></li><li><a href="#4%E5%AE%89%E8%A3%85%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87">å®‰è£…å‰çš„å‡†å¤‡</a></li><li><a href="#5%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85">ç³»ç»Ÿå®‰è£…</a></li><li><a href="#6%E4%B8%80%E4%BA%9B%E4%BC%98%E5%8C%96">ä¸€äº›ä¼˜åŒ–</a></li><li><a href="#7%E9%99%84%E5%8A%A0u%E7%9B%98%E7%9B%B4%E8%A3%85">é™„åŠ ï¼šUç›˜ç›´è£…</a></li><li><a href="#8%E5%8F%82%E8%80%83">å‚è€ƒ</a></li><li><a href="#9%E5%8F%98%E6%9B%B4%E7%9B%AE%E5%BD%95">å˜æ›´ç›®å½•</a></li></ul><h1 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h1><h2 id="8-x2F-19-æ›´æ–°"><a href="#8-x2F-19-æ›´æ–°" class="headerlink" title="8&#x2F;19 æ›´æ–°"></a>8&#x2F;19 æ›´æ–°</h2><p>è¿™æ¬¡å®˜æ–¹æ¨è¿Ÿäº†ä¸€å¤©å‘å¸ƒ <code>beta5</code>ï¼Œç‰ˆæœ¬å· <code>20a5354i</code>ï¼Œæ­£å¸¸ <code>OTA</code> æ›´æ–°å³å¯ã€‚å¢é‡åŒ…å¤§å° <code>7.15GB</code>ï¼Œå…¨é‡åŒ…å¤§å° <code>12.13GB</code>ã€‚ç›®å‰ç‰ˆæœ¬å·²æ— ä»€ä¹ˆå¤§çš„BUGï¼Œæ›´å¤šçš„ä¸ºUI BUGï¼Œå¯ä»¥æ—¥å¸¸ä½¿ç”¨ã€‚ <code>Public Beta2</code> å†…å®¹ä¸ <code>beta5</code> ä¸€è‡´(ç‰ˆæœ¬å·ä¹Ÿå‡ä¸º <code>20A5354i</code>)ï¼Œç”¨å“ªä¸ªçœ‹ä½ è‡ªå·±äº†ã€‚ </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta5.jpg" alt="11 beta5"></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta5-1.jpeg" alt="11 beta5"></p><h2 id="8-x2F-13-æ›´æ–°"><a href="#8-x2F-13-æ›´æ–°" class="headerlink" title="8&#x2F;13 æ›´æ–°"></a>8&#x2F;13 æ›´æ–°</h2><p>å¯¹ <code>AirportBrcmFixup</code> è¿›è¡Œäº†ä¿®è¡¥ï¼Œ ç°åœ¨ <code>DW1560 / Brcm94352z</code> åœ¨ <code>Beta4</code> å’Œ <code>Public Beta</code> å‡å¯æ­£å¸¸è¿è¡Œï¼Œä¸ä¼šå†å¡å¼€æœºbootã€‚    </p><p><code>Beta4</code> ä¸ <code>Public Beta</code> å†…å®¹ä¸€è‡´ï¼Œåªæ˜¯å˜æ›´äº†ç‰ˆæœ¬å·è€Œå·²ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ä½¿ç”¨ <code>Public Beta</code>ã€‚   </p><p>ç‰ˆæœ¬è¯´æ˜ï¼š<br><code>20A5343j</code> â¡ï¸ <code>Public Beta</code><br><code>20A5343i</code> â¡ï¸ <code>Beta4</code></p><p>é™„ä¸Šæˆªå›¾ï¼š<br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/publicbeta1.png" alt="11 publicbeta"></p><h2 id="8-x2F-4-æ›´æ–°"><a href="#8-x2F-4-æ›´æ–°" class="headerlink" title="8&#x2F;4 æ›´æ–°"></a>8&#x2F;4 æ›´æ–°</h2><p>è‹¹æœå®˜æ–¹æ¨å‡ºäº† macOS Big Sur Beta4ï¼Œæ›´æ–°è¿‡ç¨‹ä¸ä¹‹å‰ä¸€è‡´ã€‚ç”±äºæˆ‘åœ¨ <code>beta4</code> ä¸­æœ‰è®¸å¤šè½¯ä»¶éƒ½å‡ºç°äº†é—®é¢˜ï¼Œå› æ­¤æˆ‘å†³å®šå›åˆ° <code>beta3</code> ç‰ˆæœ¬ç»§ç»­ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œå¹¶æ²¡æœ‰æ”¾å‡ºæˆªå›¾ã€‚å…¬æµ‹ç‰ˆ(Public Beta)ä¸ <code>beta4</code> å†…å®¹ä¸€è‡´ï¼Œåªæ˜¯æ›´æ”¹äº†ç‰ˆæœ¬å·ã€‚<strong>EFI ç°å·²ä¿®å¤ï¼Œå¯ä»¥è¿›è¡Œ <code>ota</code> å‡çº§è‡³ <code>beta4</code></strong></p><h2 id="7-x2F-22-æ›´æ–°"><a href="#7-x2F-22-æ›´æ–°" class="headerlink" title="7&#x2F;22 æ›´æ–°"></a>7&#x2F;22 æ›´æ–°</h2><p>è‹¹æœå®˜æ–¹æ¨å‡ºäº† macOS Big Sur Beta3ï¼Œå›¾å¦‚ä¸‹ï¼Œå¤§å°ä¸º4.96GBï¼Œå…¨é‡åŒ…ä¸º12GBå¤šï¼Œæ­£å¸¸OTAæ›´æ–°å³å¯ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3.jpg" alt="11 beta3"></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3-2.png" alt="11 beta3"></p><p>æ›´æ–°å®Œæˆï¼Œé™„ä¸Šæˆªå›¾ï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3-3.png" alt="11 beta3"></p><p>è¿™æ¬¡æ›´æ–°ä¹Ÿä¿®å¤äº†ä¸€äº›bugï¼Œä¾‹å¦‚èœå•æ çš„æ—¶é’Ÿå¾—åˆ°æ±‰åŒ–+ä¿®å¤ï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3-4.png" alt="11 beta3"></p><p>è¢«äººç–¯ç‹‚åæ§½çš„ç”µæ± å›¾æ ‡å¾—åˆ°æ›´æ¢ï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3-5.png" alt="11 beta3"></p><p>å·²çŸ¥é—®é¢˜ï¼š<br>ç”±äºè‹¹æœåœ¨beta3ä¸­æ›´æ–°äº†SDKï¼Œç°è¢«è¯†åˆ«æˆ <code>macOS 11.0</code> è€Œé  <code>macOS 10.16</code>ï¼Œå› æ­¤ä¸€äº›bashæ— æ³•è¯†åˆ«å¹¶å®‰è£…ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„âš ï¸ ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3-6.png" alt="11 beta3"></p><p>å¯ä»¥çœ‹åˆ°æç¤ºéœ€å‡çº§ <code>CLT</code>ï¼Œä½†æˆ‘æ£€æŸ¥è¿‡æ²¡æœ‰æ–°çš„æ›´æ–°äº†ï¼Œå› æ­¤é—®é¢˜å‡ºåœ¨SDKä¸­ï¼Œè¿™éœ€è¦å®˜æ–¹è¿›è¡Œé€‚é…ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3-7.png" alt="11 beta3"></p><p>å›¾ä¸­å¯ä»¥çœ‹åˆ°å¹¶æ— æ£€æŸ¥åˆ°æ›´æ–°ï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta3-8.png" alt="11 beta3"></p><h3 id="å…³äºCLTçš„ä¿®å¤"><a href="#å…³äºCLTçš„ä¿®å¤" class="headerlink" title="å…³äºCLTçš„ä¿®å¤"></a>å…³äº<code>CLT</code>çš„ä¿®å¤</h3><p>å‰å¾€ <a href="https://developer.apple.com/download/more/">https://developer.apple.com/download/more/</a> ç™»é™†è‹¹æœè´¦å·å¹¶ä¸‹è½½ <code>Xcode 12 beta</code> å’Œ <code>Command Line Tools for Xcode 12 beta3</code>,ä¸‹è½½å®ŒæˆååŒå‡»å®‰è£… <code>CLT</code> å³å¯ï¼Œ<code>Xcode 12</code> éœ€è¦è§£å‹xipæ–‡ä»¶åæ‹–å…¥åº”ç”¨ç¨‹åºå®Œæˆå®‰è£…ï¼Œ<strong>åŒæ—¶åˆ é™¤è€ç‰ˆæœ¬ <code>Xcode</code></strong>   </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/CLT.png" alt="CLT"></p><h2 id="7-x2F-16-æ›´æ–°-CLOVER-v5120"><a href="#7-x2F-16-æ›´æ–°-CLOVER-v5120" class="headerlink" title="7&#x2F;16 æ›´æ–° (CLOVER v5120)"></a>7&#x2F;16 æ›´æ–° (<code>CLOVER v5120</code>)</h2><p><code>CloverBootloader</code> å‘å¸ƒäº†æœ€æ–°ç‰ˆ<code>CLOVER</code>å¼•å¯¼ <code>v5.0 r5120</code> ï¼Œæ­¤æ¬¡æ›´æ–°ä» <code>OpenCore</code> é‚£è¾¹æ¬æ¥äº† <code>OcQuirks.efi</code> å’Œ <code>OpenRuntime.efi</code> ä»¥å®ç°å¼•å¯¼ <code>Big Sur</code>ã€‚åŸæ–‡å¦‚ä¸‹</p><blockquote><p>   â€œThis release includes OcQuirks.efi and OpenRuntime.efi copied from OpenCore project.â€</p><p> â€œOcQuirks.plist embedded into config.plist and present in Clover GUI as separate menu to tune settings on the fly.â€</p><p>â€œKernel patching includes pattern for Big Sur.â€</p></blockquote><p>è¿™é‡Œé™„ä¸ŠåŸæ–‡ç« åœ°å€ä¾›å¤§å®¶ä¸‹è½½ <a href="https://github.com/CloverHackyColor/CloverBootloader/releases/tag/5120">ç‚¹å‡»è·³è·ƒè‡³ <code>CloverBootloader</code></a></p><p>è€ƒè™‘åˆ°è¿˜æ˜¯æœ‰ä¸å°‘äººä¸ä¼šé…ç½® <code>OC</code>ï¼Œæˆ‘æŠŠè‡ªå·±å½“æ—¶ä½¿ç”¨çš„CLOVERæ”¾å…¥æœ¬æ–‡ï¼Œå¸Œæœ›å¯ä»¥å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚ï¼ˆ<code>CLOVER</code> ç‰ˆæœ¬ä¸º <code>v5103</code>ï¼Œå¯¹åº”ç³»ç»Ÿç‰ˆæœ¬ä¸º <code>10.15.4</code>ï¼‰</p><h2 id="7-x2F-15-æ›´æ–°-ï¼ˆâ€é-Big-Surâ€œ-x2F-Catalinaï¼‰"><a href="#7-x2F-15-æ›´æ–°-ï¼ˆâ€é-Big-Surâ€œ-x2F-Catalinaï¼‰" class="headerlink" title="7&#x2F;15 æ›´æ–° ï¼ˆâ€é Big Surâ€œ &#x2F; Catalinaï¼‰"></a>7&#x2F;15 æ›´æ–° ï¼ˆâ€<strong>é <code>Big Sur</code></strong>â€œ &#x2F; <code>Catalina</code>ï¼‰</h2><ol><li>è‹¹æœå®˜æ–¹æ¨é€ <code>macOS 10.15.6</code> æ­£å¼ç‰ˆï¼ˆç‰ˆæœ¬å· <code>19G73</code> ï¼Œæ—¥å¸¸OTAå‡çº§å³å¯ï¼Œæ— å…¶ä»–é—®é¢˜ã€‚</li><li>è‹¹æœå®˜æ–¹æ¨é€ <code>Safari 14.0</code> æµ‹è¯•ç‰ˆ [é€‚ç”¨äº <code>macOS 10.15 åŠæ›´ä½ç‰ˆæœ¬</code>]ï¼Œå†…å®¹ä¸ Big Sur ç‰ˆæœ¬é‡Œçš„ <code>Safari</code> åŒæ­¥ã€‚</li></ol><p>æ›´æ–°æ¨é€å›¾ï¼š[10.15.6 beta4 â¡ï¸  10.15.6]</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/15.6.jpg" alt="10.15.6æ­£å¼ç‰ˆ"></p><p>æ›´æ–°å®Œæ¯•ï¼š </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/15.6-2.jpg" alt="10.15.6æ­£å¼ç‰ˆ"></p><h2 id="7-x2F-11-æ›´æ–°"><a href="#7-x2F-11-æ›´æ–°" class="headerlink" title="7&#x2F;11 æ›´æ–°"></a>7&#x2F;11 æ›´æ–°</h2><p>é»‘è‹¹æœå¤§ä½¬æ›´æ–°äº†ä»–è‡ªå·±åˆ¶ä½œçš„æ¢å¤é•œåƒï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´åº”è¯¥æ˜¯ç¦éŸ³ï¼ï¼ï¼</p><p><a href="https://blog.daliansky.net/WeChat-First-macOS-Big-Sur-Beta-2-Installer-for-OpenCore-and-PE-dual-EFI-partition-original-image.html">ã€é»‘æœå°å…µã€‘ã€å¾®ä¿¡é¦–å‘ã€‘macOS Big Sur Beta 2 Installer for OpenCore and PEåŒEFIåˆ†åŒºåŸç‰ˆé•œåƒ</a>   </p><p>è¿™é‡Œç®€ç•¥çš„æ¬è¿ä¸€äº›æè¿° â¬‡ï¸    </p><p>ç‰¹ç‚¹ï¼š</p><ul><li>ä¸¤ä¸ªç‹¬ç«‹çš„<code>EFI</code>å¼•å¯¼åˆ†åŒºï¼ŒåŒæ—¶æ”¯æŒ <code>OpenCore</code> &#x2F; <code>PE</code> å¼•å¯¼</li><li>æ”¯æŒ <code>z300</code> &#x2F; <code>b300</code> ç­‰éƒ¨åˆ†å°å¼æœºç›´æ¥å®‰è£…</li><li><code>PE</code> å¯è¿æ¥ç½‘ç»œï¼Œå¯è¿œç¨‹ååŠ©ï¼Œé›†æˆ <code>å‘æ—¥è‘µ</code> å’Œ <code>AnyDesk</code></li></ul><p><em>Â©ï¸ æ¬è¿è‡ª<a href="https://blog.daliansky.net/">é»‘æœå°å…µçš„éƒ¨è½é˜</a>ï¼Œç‰ˆæƒä¸ºDalianskyæ‰€æœ‰ï¼Œä¾µæƒç«‹åˆ ï¼Â©ï¸</em></p><h2 id="7-x2F-7-æ›´æ–°"><a href="#7-x2F-7-æ›´æ–°" class="headerlink" title="7&#x2F;7 æ›´æ–°"></a>7&#x2F;7 æ›´æ–°</h2><p>è‹¹æœåˆšå‘å¸ƒäº†macOS BigSurçš„beta2ç‰ˆæœ¬ï¼ŒåŒæ ·ä¸ºå…¨é‡åŒ…ï¼Œå¤§å°å°†è¿‘10GBï¼Œä½¿ç”¨æ™®é€šçš„OTAæ›´æ–°å³å¯ã€‚ï¼ˆä¸‹è½½å¯èƒ½ç•¥æ…¢ï¼Œå¦‚æœè¿›åº¦æ¡ä¸åŠ¨è¯·è€å¿ƒç­‰å¾…ï¼Œè¿™å¹¶ä¸æ˜¯å¡äº†ï¼‰</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/beta2.jpg" alt="beta2"></p><p>ä¸‹é¢ä¸ºæ›´æ–°å®Œæˆçš„æ ·å­ï¼ˆæ„Ÿè§‰å°±å˜äº†ä¸ªç‰ˆæœ¬å·â€¦..ï¼‰</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/info2.png" alt="info2"></p><p>ä»macOS Catalinaå‡çº§åç›´æ¥ä¸º<strong>beta2</strong>ç‰ˆæœ¬ï¼Œå› æ­¤å¹¶ä¸å½±å“åé¢çš„æ“ä½œã€‚</p><p><strong>7&#x2F;7 ä¹‹å‰ï¼š</strong><br><strong>macOS Catalina â¡ï¸ macOS Big Sur beta1 â¡ï¸ macOS Big Sur beta2</strong><br><strong>7&#x2F;7 ä¹‹åï¼š</strong><br><strong>macOS Catalina â¡ï¸ macOS Big Sur beta2</strong>   </p><p>ä¸ç¡®å®šçš„å¯ä»¥è‡ªå·±æŸ¥çœ‹è‡ªå·±çš„<strong>ç‰ˆæœ¬å·</strong>ï¼š</p><ul><li><code>20A4299v</code>  â€”beta1</li><li><code>20A4300b</code>  â€”beta2</li></ul><p>è¸©è¿‡çš„å‘ï¼š   </p><ul><li><strong>å®‰è£…å¡å¼•å¯¼çš„è¯·å°†ä½ çš„OCæ›´æ–°åˆ°7&#x2F;6ä»¥åçš„OCç‰ˆæœ¬ï¼Œ<del>å¹¶æŠŠkexté‡Œçš„<code>VisualSMC</code>æ›´æ¢ä¸º<code>FakeSMC</code></del> (æ–°ç‰ˆ <code>VirtualSMC</code> å·²è§£å†³è¯¥é—®é¢˜ï¼Œv1.1.5+)</strong></li><li><del>å®‰è£…åæ— ç”µæ± å›¾æ ‡ğŸ”‹æˆ–è€…ç”µé‡ä¸€ç›´ä¸º0%ï¼ˆè§¦æ‘¸æ¿å¯ç”¨ä½†æ˜¯è®¾ç½®é‡Œè¯†åˆ«ä¸å‡ºæ¥çš„ï¼Œ<strong>åˆ«é—®æˆ‘ä¸ºå•¥è¿™è·Ÿè§¦æ‘¸æ¿ä¹Ÿæœ‰å…³ç³»ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œåæ­£æˆ‘æ˜¯è¿™æ ·åšå°±å¥½äº†ğŸ˜¯</strong>ï¼‰ï¼Œè¯·å°†kexté‡Œçš„<code>SMCBatteryManager</code>æ›´æ¢ä¸º<code>ACPIBatteryManager</code></del> <strong>(æ–°ç‰ˆ <code>VirtualSMC</code> å·²è§£å†³è¯¥é—®é¢˜ï¼Œv1.1.5+)</strong></li><li>æ— éœ€åœ¨OCé‡Œæ³¨å…¥æ˜¾å¡ä¿¡æ¯ï¼Œå¦‚æœæ˜¾ç¤ºå‡ºç°é—®é¢˜å¯å°è¯•åˆ é™¤<code>Device</code>é‡Œçš„æ˜¾å¡æ³¨å…¥ä¿¡æ¯ <strong>ï¼ˆä»…é™ UHD630ï¼Œå…¶ä»–å‹å·æ— è§†æœ¬ä¿¡æ¯ï¼‰</strong></li></ul><h1 id="ä¸€äº›é—®é¢˜"><a href="#ä¸€äº›é—®é¢˜" class="headerlink" title="ä¸€äº›é—®é¢˜"></a>ä¸€äº›é—®é¢˜</h1><p>æˆ‘ä¹Ÿæ˜¯åˆšæ¥è§¦é»‘è‹¹æœä¸ä¹…ï¼Œåˆ°æˆ‘å†™è¿™ç¯‡æ–‡ç« æ‰ä¸€ä¸ªå¤šæœˆï¼Ÿ è¿˜æœ‰å¾ˆå¤šé—®é¢˜æ˜¯æˆ‘æ— æ³•è§£å†³çš„ï¼Œå½“ç„¶æˆ‘åé¢ä¹Ÿä¼šåŠªåŠ›çˆ¬è´´æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆï¼Œæ¯•ç«Ÿ <code>macOS 11</code> æˆ‘ä¸å°±æ˜¯è¿™ä¹ˆè¿‡æ¥çš„å˜›ã€‚å¦‚æœæœ‰å“ªä½å¤§ä½¬çŸ¥é“å¦‚ä½•è§£å†³å¯ä»¥è”ç³»æˆ‘ï¼Œæ„Ÿæ¿€ä¸å°½ï¼</p><ul><li><del>ä¸10.15çš„é—®é¢˜ä¸€æ ·ï¼Œç¡çœ åæ— æ³•å”¤é†’ï¼Œå¼€ç›–å°±åªæœ‰é»‘å±ï¼Œå…¶ä»–éƒ½æ­£å¸¸è¿ä½œ</del>  (å·²è§£å†³ï¼Œç°åœ¨å¯ä»¥ç›´æ¥å…³ç›–ç¡çœ ğŸ’¤ )</li><li><del>æ— æ³•è¿›å…¥Recovery  ï¼ˆç›´å‡æ— æ­¤é—®é¢˜ï¼Œä½†è¿™é‡Œå¹¶ä¸ä¼šè®²è§£ç›´å‡ï¼Œä¹Ÿè®¸ä»¥åä¼šï¼Ÿï¼‰</del>  (å…·ä½“è§£å†³æ–¹æ¡ˆè¯·ç§»æ­¥[<a href="#6-10%E4%BF%AE%E5%A4%8Drecovery%E6%97%A0%E6%B3%95%E8%BF%9B%E5%85%A5">6-10ä¿®å¤Recoveryæ— æ³•è¿›å…¥</a>])</li><li><del>Wi-Fiè€æ–­</del>  (æ›´æ–°AirportBrcmFixup)</li><li><del>ç›´å‡ç³»ç»Ÿå¯¼è‡´Safariæ— æ³•æ­£å¸¸è¿è¡Œï¼ˆè¿‡ä¸€ä¼šå°±é—ªé€€ï¼‰</del></li><li><del>å¼€æœºç”»å±</del>  ï¼ˆæ˜¾å¡æ³¨å…¥é—®é¢˜ï¼ŒUHD630 æ— éœ€å†æ³¨å…¥æ˜¾å¡idï¼‰</li><li><del>ç”µæ± æ— æ˜¾ç¤º &amp; ç”µé‡å§‹ç»ˆä¸º 0%  ï¼ˆå…·ä½“è§£å†³æ–¹æ¡ˆè¯·ç§»æ­¥ <a href="#%5B6-3%5D%E7%94%B5%E6%B1%A0%E4%B8%8D%E6%98%BE%E7%A4%BA">[6-3]ç”µæ± ä¿®å¤</a> ï¼‰</del> [æ–°ç‰ˆ <code>VirtualSMC</code> å·²ä¿®å¤æ­¤é—®é¢˜ï¼Œv1.1.5+]</li><li><del>è§¦æ‘¸æ¿å¯ç”¨ä½†æ˜¯è®¾ç½®åå¥½é‡Œæ‰¾ä¸åˆ°è§¦æ‘¸æ¿  ï¼ˆå…·ä½“è§£å†³æ–¹æ¡ˆè¯·ç§»æ­¥ <a href="#%5B6-3%5D%E7%94%B5%E6%B1%A0%E4%B8%8D%E6%98%BE%E7%A4%BA">[6-3]ç”µæ± ä¿®å¤</a> ï¼‰</del> [æ–°ç‰ˆ <code>VirtualSMC</code> å·²ä¿®å¤æ­¤é—®é¢˜ï¼Œv1.1.5+]</li><li><del><code>sip</code> æ— æ³•å…³é—­  ï¼ˆéœ€è¦è¿›å…¥Recoveryæ–¹å¯æ›´æ”¹ï¼Œæ®è¯´ç›´å‡æ— æ­¤é—®é¢˜ï¼‰</del> (å…·ä½“è§£å†³æ–¹æ¡ˆè¯·ç§»æ­¥ <a href="#6-6%E5%85%B3%E9%97%AD-sip">[6-6]å…³é—­ <code>SIP</code></a></li><li><del>æ—¶é—´æ— æ³•æ›´æ”¹è‡ªå®šä¹‰è®¾ç½®</del> (<code>beta3</code> å·²ä¿®å¤è¯¥é”™è¯¯)</li><li><del>è“ç‰™ä¸å¯ç”¨</del> ï¼ˆå·²é€šè¿‡æ›´æ¢ç½‘å¡è§£å†³ï¼‰</li><li><del>USBç½‘å¡ä¸å¯ç”¨</del> (<code>chris1111</code>ç°å·²æ›´æ–°USBç½‘å¡å¯¹macOS11çš„æ”¯æŒï¼Œ<strong>ä½¿ç”¨æ—¶éœ€å…³é—­ <code>SIP</code>!!!</strong>)</li><li><del>çŠ¶æ€æ å¡é¡¿</del>   (å…·ä½“è§£å†³æ–¹æ¡ˆè¯·ç§»æ­¥ <a href="#%5B6-4%5D%E7%8A%B6%E6%80%81%E6%A0%8F%E7%9A%84%E5%8D%A1%E9%A1%BF">[6-4]çŠ¶æ€æ å¡é¡¿</a> ï¼‰</li><li><strong>æ–°å¢ï¼šç¡çœ æ—¶ï¼Œæ—¶é—´ä¼šå®šæ ¼åœ¨ç¡çœ å‰çš„æ—¶å€™ï¼Œå”¤é†’åéœ€æ‰‹åŠ¨åŒæ­¥æ—¶é—´ã€‚</strong></li><li><strong>ç›®å‰æ— è§£ï¼šæ— é™å®ç°è‡ªåŠ¨åˆ‡æ¢éŸ³é¢‘è¾“å‡ºï¼Œéœ€æ‰‹åŠ¨è¿›è¡Œåˆ‡æ¢</strong></li></ul><h1 id="1-ç¡¬ä»¶ä»‹ç»"><a href="#1-ç¡¬ä»¶ä»‹ç»" class="headerlink" title="[1]ç¡¬ä»¶ä»‹ç»"></a>[1]ç¡¬ä»¶ä»‹ç»</h1><table><thead><tr><th align="center">éƒ¨ä»¶</th><th align="center">å‹å·</th><th align="center">æœ€ç»ˆæƒ…å†µ</th></tr></thead><tbody><tr><td align="center">CPU</td><td align="center">Intel Core i7-8750H processor, 6 Cores &#x2F; 12 Threads, 2.2GHz &#x2F; 4.1GHz, 9MB Cache</td><td align="center">æ— é—®é¢˜ï¼ˆç³»ç»Ÿå°†é‡‡ç”¨UHD630ä½œä¸ºæ˜¾å¡ï¼‰</td></tr><tr><td align="center">IGPU</td><td align="center">Intel UHD 630</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">GPU</td><td align="center">Nvdia 1060 Max-Q</td><td align="center">é™¤ 10.13 High Sierra å®‰è£… WebDriver å¤–ï¼Œ10.13ä»¥ä¸Šç‰ˆæœ¬çš†ä¸å¯ç”¨ï¼ˆå»ºè®®ç›´æ¥å±è”½æ‰ï¼‰</td></tr><tr><td align="center">å†…å­˜</td><td align="center">16GB dual-channel DDR4-2667MHz, up to 64GB</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">ç¡¬ç›˜</td><td align="center">æ›´æ¢ä¸º Sabrent Rocket NVMe 1TB</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">ç½‘å¡</td><td align="center">9560NGW ï¼ˆç°å·²æ›´æ¢ä¸ºDW1560 &#x2F; BCM94352Zï¼‰</td><td align="center">æ— é—®é¢˜ï¼ˆWindowsé©±åŠ¨éœ€è¦è‡ªå·±ä¸‹è½½ï¼‰</td></tr><tr><td align="center">æ˜¾ç¤ºå™¨</td><td align="center">15.6â€ Full HD 60Hz, 1920 x 1080 IPS</td><td align="center">æ— é—®é¢˜ï¼ˆå¯ä»¥åœ¨60Hzå’Œ48Hzä¹‹é—´åˆ‡æ¢ï¼‰</td></tr><tr><td align="center">æ‘„åƒå¤´</td><td align="center">HD webcam (1MP &#x2F; 720P)</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">æ‰¬å£°å™¨</td><td align="center">Realtek ALC256</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">è€³æœº</td><td align="center">çˆ±æ’å•¥å°±æ˜¯å•¥</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">éº¦å…‹é£</td><td align="center">é¬¼æ™“å¾—å•¥å‹å·</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">è§¦æ§æ¿</td><td align="center">å…¨ç»ç’ƒ</td><td align="center">æ— é—®é¢˜</td></tr><tr><td align="center">HDMI æ¥å£</td><td align="center"></td><td align="center">ç›´é€šæ˜¾å¡ï¼Œé™¤å®‰è£… High Sierra å¤–ä¸å¯ç”¨</td></tr><tr><td align="center">Mini DP æ¥å£</td><td align="center"></td><td align="center">ç›´é€šæ˜¾å¡ï¼Œé™¤å®‰è£… High Sierra å¤–ä¸å¯ç”¨</td></tr><tr><td align="center">é›·ç”µ3</td><td align="center"></td><td align="center">è¢«è¯†åˆ«æˆ USB3.1 ï¼Ÿï¼Ÿï¼Ÿï¼ˆeGPUç›®å‰ä¸ç¡®å®šï¼Œåº”è¯¥æ— æ³•ä½¿ç”¨ï¼‰</td></tr><tr><td align="center">å¤§å°</td><td align="center">17.8mm x 235mm x 355mm</td><td align="center">è¿™tmè¿˜èƒ½å˜ï¼Ÿï¼Ÿï¼Ÿ</td></tr><tr><td align="center">é‡é‡</td><td align="center">2.21 Kg</td><td align="center">è¿˜æƒ³å˜çš„æ›´è½»ï¼Ÿåˆ«åšæ¢¦äº†è€é“</td></tr><tr><td align="center">ç”µæ± </td><td align="center">80Wh ï¼ˆå¥½åƒæ˜¯ï¼Œæˆ‘å¿˜äº†ï¼Œåæ­£ä¸è€ç”¨â€¦)</td><td align="center">æ— é—®é¢˜ï¼ˆè¿˜èƒ½æœ‰é—®é¢˜ ï¼Ÿï¼Ÿï¼Ÿï¼‰</td></tr><tr><td align="center">ç”µæºé€‚é…å™¨</td><td align="center">180W</td><td align="center">æ²¡PDå¿«å……ï¼Œå½“ç„¶ä½ å¯ä»¥è‡ªå·±è¯•è¯•è¯±éª—å™¨</td></tr></tbody></table><h3 id="1-1-ç¡¬ä»¶æ›´æ¢-x2F-ç¡¬ä»¶å‡çº§"><a href="#1-1-ç¡¬ä»¶æ›´æ¢-x2F-ç¡¬ä»¶å‡çº§" class="headerlink" title="[1-1]ç¡¬ä»¶æ›´æ¢ &#x2F; ç¡¬ä»¶å‡çº§"></a>[1-1]ç¡¬ä»¶æ›´æ¢ &#x2F; ç¡¬ä»¶å‡çº§</h3><p><strong>ç½‘å¡ &amp; è“ç‰™</strong> </p><table><thead><tr><th align="right">ç½‘å¡å‹å·</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="right"><code>BCM94352Z (DW-1560)</code></td><td align="left">é€‚é…macOS 11ï¼ŒåŒå¤©çº¿ï¼Œå³è£…å³ç”¨ï¼ˆç”¨æˆ‘EFIçš„è¯ï¼‰ã€‚<strong>Windows 10éœ€è¦å®‰è£…é©±åŠ¨æ‰å¯ä½¿ç”¨ï¼</strong></td></tr><tr><td align="right"><code>BCM94360cs2</code></td><td align="left">åŒå¤©çº¿ + å…é©±ï¼Œä½†æ˜¯éœ€è¦è‡ªå·±å¦è´­ä¹°è½¬æ¥å¡ï¼Œæ®è¯´2.4GHz WiFi ä¸ è“ç‰™æœ‰å¹²æ‰°</td></tr><tr><td align="right"><code>BCM94350ZAE(DW-1820a)</code></td><td align="left">é»‘æœå°å…µæ¨èçš„ç½‘å¡ï¼Œåœ¨macOS 11ä¸­å·²ä¸æ˜¯å…é©±å¡ï¼Œéœ€è¦è‡ªå·±æ‰“é©±åŠ¨è¡¥ä¸ï¼Œå¹¶ä¸”éœ€è¦å±è”½é’ˆè„šï¼Œçˆ±æŠ˜è…¾çš„å¯ä»¥ä¸Š</td></tr></tbody></table><p><strong>å›ºæ€ç¡¬ç›˜</strong></p><table><thead><tr><th align="right">NVMeç¡¬ç›˜</th><th align="left">4k æ”¯æŒ</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="right"><code>Samsung EVO 970 NVMe</code></td><td align="left">å¦</td><td align="left">ä¸€ä¸ªæ€§èƒ½éå¸¸ä¼˜ç§€çš„SSDï¼Œå½“ç„¶ä»·æ ¼ä¹Ÿéå¸¸çš„æ‰å¿ƒï¼Œæˆ‘çŸ¥é“ä¹°ä¸èµ·æ˜¯æˆ‘çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸æ”¯æŒ4kä½¿æˆ‘åŠé€€</td></tr><tr><td align="right"><code>Sabrent Rocket NVMe</code></td><td align="left">æ˜¯</td><td align="left">ç”±<code>stonevil</code>å¤§ä½¬ç¡®è®¤ï¼Œå¤–ç½‘è®¸å¤šè¯„æµ‹éƒ½å¯¹è¯¥SSDçš„æ€§ä»·æ¯”è¡¨ç¤ºè®¤å¯ï¼Œæˆ‘ä¹Ÿå…¥æ‰‹äº†è¯¥SSDï¼Œé¡ºåºè¯»å–3500MB&#x2F;s</td></tr><tr><td align="right"><code>WD Black SN750 NVMe</code></td><td align="left">æœªçŸ¥</td><td align="left">æ²¡äººæµ‹è¯•è¿‡è¯¥SSDå¯¹4kçš„æ”¯æŒï¼Œä¸è¿‡æ€§ä»·æ¯”ä¸é”™ï¼Œæ€§èƒ½ç•¥é€Š970</td></tr><tr><td align="right"><code>WD Black SN550 NVMe</code></td><td align="left">æœªçŸ¥</td><td align="left">750çš„ä½é…ï¼Œè“ç›˜æ¸©åº¦ç›¸æ¯”é»‘ç›˜æ¸©æŸ”å¾ˆå¤šï¼Œå½“ç„¶æ€§èƒ½ä¹Ÿç•¥ä½ï¼Œæ€§ä»·æ¯”ä¸é”™</td></tr><tr><td align="right"><code>Samsung PM981</code> &#x2F; <code>Samsung PM981a</code></td><td align="left">å¦</td><td align="left">çš†ä¸º970ç³»åˆ—çš„OEMç‰ˆï¼Œæ— ä¿ä¸å»ºè®®ï¼Œæ®è¯´å®‰è£…ç³»ç»Ÿä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼Œå”¯ä¸€çš„ä¼˜ç‚¹ä¹Ÿå°±æ˜¯ä¾¿å®œäº†</td></tr></tbody></table><p><strong>å†…å­˜æ¡</strong>[æ¬è¿è‡ª<code>stonevil</code>çš„å¸–å­]</p><table><thead><tr><th align="right">å†…å­˜æ¡å‹å·</th><th align="left">å†…å­˜å¤§å°</th><th align="left">å†…å­˜é¢‘ç‡</th><th align="left">æ—¶åº</th><th align="left">äºšé©¬é€Šé“¾æ¥</th><th align="left">æ¶ˆæ¯æ¥æº</th></tr></thead><tbody><tr><td align="right"><code>Ballistix Sport LT 32GB</code></td><td align="left">2x16Gb</td><td align="left">2666</td><td align="left">CL16</td><td align="left"><a href="https://www.amazon.com/gp/product/B06XRBS4Y5/ref=ppx_yo_dt_b_asin_title_o03_s00?ie=UTF8&psc=1">Amazon</a></td><td align="left"><a href="https://www.tonymacx86.com/members/stonevil.254235/">stonevil</a></td></tr><tr><td align="right"><code>Kingston Technology HyperX Impact 32GB</code></td><td align="left">2x16Gb</td><td align="left">2666</td><td align="left">CL15</td><td align="left"><a href="https://www.amazon.com/dp/B01NAL3TYY/?coliid=I3Q9P4ZU9V435H&colid=1ZGSQH2G88154&psc=1&ref_=lv_ov_lig_dp_it">Amazon</a></td><td align="left"><a href="https://www.reddit.com/r/razer/comments/c1c9wl/razer_blade_15_advanced_ram_upgrade/">Razer Blade 15 Advanced RAM upgrade</a></td></tr><tr><td align="right"><code>Samsung 16GB DDR4 PC4-21300</code></td><td align="left">16Gb (éœ€è‡ªå·±ä¹°ä¸¤ç‰‡)</td><td align="left">2666</td><td align="left">CL19</td><td align="left"><a href="https://www.amazon.com/Samsung-PC4-21300-2666MHZ-SODIMM-laptop/dp/B07F6N8L3S/ref=sr_1_8?crid=1ZAJ4EFZ2FBQY&dchild=1&keywords=samsung+ram+32gb+ddr4&qid=1596330429&sprefix=samsung+ram+32,aps,158&sr=8-8">Amazon</a></td><td align="left">è‡ªå·±æ‰¾çš„</td></tr></tbody></table><p><strong>å·¥å…·å¥—ä»¶</strong></p><table><thead><tr><th align="right">å·¥å…·</th><th align="left">é“¾æ¥</th></tr></thead><tbody><tr><td align="right"><code>iFixIt Pro Tech Toolkit</code></td><td align="left"><a href="https://www.ifixit.com/Store/Tools/Pro-Tech-Toolkit/IF145-307?o=4">iFixIt</a></td></tr></tbody></table><h1 id="2-æœ€ç»ˆæ•ˆæœ"><a href="#2-æœ€ç»ˆæ•ˆæœ" class="headerlink" title="[2]æœ€ç»ˆæ•ˆæœ"></a>[2]æœ€ç»ˆæ•ˆæœ</h1><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/info.png" alt="info"></p><h1 id="3-è§£é”BIOS"><a href="#3-è§£é”BIOS" class="headerlink" title="[3]è§£é”BIOS"></a>[3]è§£é”BIOS</h1><h2 id="3-1-Baseç‰ˆ-BIOS-è§£é”"><a href="#3-1-Baseç‰ˆ-BIOS-è§£é”" class="headerlink" title="[3-1]Baseç‰ˆ BIOS è§£é”"></a>[3-1]Baseç‰ˆ <code>BIOS</code> è§£é”</h2><table><thead><tr><th align="right"></th><th align="left">BIOSç‰ˆæœ¬</th></tr></thead><tbody><tr><td align="right"><code>System BIOS</code></td><td align="left">1.02</td></tr></tbody></table><p> è§£é”BIOSå¯ä»¥å‚è€ƒEmeryWançš„<a href="https://github.com/EmeryWan/Razer-Blade-15-2018-Base-Hackintosh#3-%E8%A7%A3%E9%94%81bios">æ•™ç¨‹</a>, è¿™é‡Œå°±ä¸å¤šæè¿°äº†ã€‚macOS BigSur å¯¹BIOSçš„å¤§è‡´è®¾å®šä¸Catalinaä¸€è‡´ï¼Œæœ‰æ¡ä»¶çš„å¯ä»¥å°è¯•è§£é”CFGã€‚ï¼ˆåé¢æœ‰æ—¶é—´çš„æ—¶å€™æˆ‘ä¼šå°è¯•ä¸€æ­¥æ­¥æ•™ä½ æ€ä¹ˆè§£é”ã€‚ï¼‰<br> <del><strong>æ›´æ–°ï¼šæˆ‘å·²ä¸Šä¼ æ”¹å¥½çš„biosï¼ˆ1.0.2ï¼‰ï¼Œåªå¯ä¾›åŒæœºå‹åŒç‰ˆæœ¬biosä½¿ç”¨ï¼ï¼ï¼</strong></del><br> <strong>æ­¤æ“ä½œå…·æœ‰ä¸å¯é€†çš„å±é™©ï¼Œæœ‰å¯èƒ½åˆ·åbioså¯¼è‡´æ— æ³•ç‚¹äº®ï¼Œè¯·è°¨æ…æ“ä½œï¼ï¼ï¼</strong>   </p><h2 id="3-1-1-æå–æœºå™¨ç°ä½¿ç”¨çš„-BIOS"><a href="#3-1-1-æå–æœºå™¨ç°ä½¿ç”¨çš„-BIOS" class="headerlink" title="[3-1-1]æå–æœºå™¨ç°ä½¿ç”¨çš„ BIOS"></a>[3-1-1]æå–æœºå™¨ç°ä½¿ç”¨çš„ <code>BIOS</code></h2><p>å°† <code>Tools</code> é‡Œçš„ <code>AFUWINGUI</code> æ‰“å¼€ï¼Œåœ¨ä¿¡æ¯é¡µé¢ç‚¹å‡»åº•éƒ¨çš„ <code>å‚¨å­˜</code> &#x2F; <code>Save</code> è¿›è¡ŒBIOSæå–ã€‚â†“    </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-1.png" alt="bios">   </p><p>æ–‡ä»¶åå’Œå­˜æ”¾ä½ç½®æŒ‰è‡ªå·±å–œå¥½ï¼Œè®°å¾—ä½å°±è¡Œã€‚â†“</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-2.png" alt="bios">   </p><p>æ¥ç€æ‰“å¼€ <code>Tools</code> é‡Œçš„ <code>AMIBCP</code>ï¼Œå·¦ä¸Šè§’èœå•æ ç‚¹å‡» <code>File</code> â†’ <code>Open</code> æ‰“å¼€åˆšåˆšæå–çš„BIOSæ–‡ä»¶ã€‚â†“   </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-3.png" alt="bios">   </p><p>æ‰“å¼€ååœ¨å·¦ä¾§å¯¼èˆªæ é‡Œæ‰¾åˆ° <code>  </code> â†’ <code>Setup</code> â†’ <code>Chipset</code>ï¼Œå¹¶å°†å³ä¾§çš„ <code>System Agent Configuration</code> çš„ <code>Acces/Use</code> ç”± <code>Default</code> æ”¹ä¸º <code>USER</code>ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-4.png" alt="bios">   </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-5.png" alt="bios">   </p><p>æ”¹å®Œæ˜¾ç¤ºå¦‚ä¸‹ï¼šâ†“   </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-6.png" alt="bios">   </p><p>æ¥ç€è¿›å…¥ï¼š</p><ul><li><code>Setup</code><ul><li><code>Advanced</code><ul><li><code>Power &amp; Performance</code></li></ul></li></ul></li></ul><p>å°†ä»¥ä¸‹é¡¹ç›®æƒé™ä» <code>Default</code> ä¿®æ”¹ä¸º <code>USER</code>ï¼š</p><ul><li><code>Power &amp; Performance</code></li><li><code>CPU - Power Management Control</code></li><li><code>Intel(R) Speed Shift Technology</code></li></ul><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-7.png" alt="bios">  </p><p>æœ€åè¿›å…¥ï¼š</p><ul><li><code>Setup</code><ul><li><code>Advanced</code><ul><li><code>Power &amp; Performance</code><ul><li><code>View/Configure CPU Lock Configuration</code></li></ul></li></ul></li></ul></li></ul><p>å°†ä»¥ä¸‹é¡¹ç›®æƒé™ä» <code>Default</code> ä¿®æ”¹ä¸º <code>USER</code>ï¼š</p><ul><li><code>CFG Lock</code></li><li><code>Overclocking Lock</code></li></ul><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-8.png" alt="bios">   </p><p>æ‰“å¼€å·¦ä¸Šè§’èœå•æ  <code>File</code> â†’ <code>Save As...</code>ï¼Œå°†ä¿®æ”¹å¥½çš„BIOSæ–‡ä»¶ä¿å­˜åˆ°ä½ è®°å¾—ä½çš„åœ°æ–¹ï¼Œåå­—ä¹Ÿæ˜¯ä¸€æ ·ã€‚ä¿å­˜å®Œæ¯•åå³å¯å…³é—­ <code>AMIBCP</code>ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-9.png" alt="bios"> </p><p>å›åˆ° <code>AFUWINGUI</code>ï¼Œç‚¹å‡»åº•éƒ¨çš„æŒ‰é’® <code>å¼€å¯</code> &#x2F; <code>Open</code> æ¥è¯»å–åˆšæ‰ä¿®æ”¹ä¿å­˜å¥½çš„BIOSæ–‡ä»¶ã€‚  </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-10.png" alt="bios"> </p><p><strong>åˆ·å…¥å‰è¯·å°½å¯èƒ½å…³é—­æ‰€æœ‰ç¨‹åº(åŒ…æ‹¬æ€æ¯’è½¯ä»¶)ï¼Œä»¥é˜²æ­¢åˆ·å…¥BIOSè¿‡ç¨‹è¢«ä¸­æ–­ï¼ï¼ï¼</strong><br>è¯»å–å®Œæ¯•åç‚¹å‡»åº•éƒ¨æŒ‰é’® <code>åˆ·æ–°</code> &#x2F; <code>Flash</code> å³å¯å¼€å§‹åˆ·å…¥ä¿®æ”¹å¥½çš„BIOSã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/bios-11.png" alt="bios"> </p><p>åˆ·å…¥ä¸­é€”å¯èƒ½å‡ºç°å¡é¡¿ï¼Œå‡æ­»ç­‰çŠ¶å†µ(åæ­£æˆ‘æ˜¯æ²¡é‡åˆ°)è¯·ä¸è¦å…³é—­è½¯ä»¶æˆ–å…³é—­ç”µè„‘ä»¥å…é€ æˆä¸å¯é€†çš„æŸå¤±ï¼</p><h2 id="3-2-Advancedç‰ˆ-BIOSè§£é”"><a href="#3-2-Advancedç‰ˆ-BIOSè§£é”" class="headerlink" title="[3-2]Advancedç‰ˆ BIOSè§£é”"></a>[3-2]Advancedç‰ˆ BIOSè§£é”</h2><p>ç”±äºæˆ‘ä½¿ç”¨çš„å¹¶ä¸æ˜¯Advancedç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘æ— æ³•æä¾›å…·ä½“çš„å›¾æ–‡æ•™ç¨‹ï¼Œä½ ä»¬å¯ä»¥å‚è€ƒstonevilå¤§ä½¬çš„å¸–å­<a href="https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh">Razer_Blade_Advanced_early_2019_Hackintosh</a> æˆ‘Baseç‰ˆä¿®æ”¹ä¹Ÿæ˜¯åŸºäºä»–çš„æ–‡ç« ï¼Œè¿™é‡Œå†æ¬¡æ„Ÿè°¢stonevilï¼ï¼ï¼</p><p><strong>æ­¤æ“ä½œå…·æœ‰ä¸å¯é€†çš„å±é™©ï¼Œæœ‰å¯èƒ½åˆ·åbioså¯¼è‡´æ— æ³•ç‚¹äº®ï¼Œè¯·è°¨æ…æ“ä½œï¼ï¼ï¼</strong></p><h1 id="4-å®‰è£…å‰çš„å‡†å¤‡"><a href="#4-å®‰è£…å‰çš„å‡†å¤‡" class="headerlink" title="[4]å®‰è£…å‰çš„å‡†å¤‡"></a>[4]å®‰è£…å‰çš„å‡†å¤‡</h1><h2 id="4-1-BIOSè®¾ç½®"><a href="#4-1-BIOSè®¾ç½®" class="headerlink" title="[4-1]BIOSè®¾ç½®"></a>[4-1]BIOSè®¾ç½®</h2><ul><li><p><code>Advanced</code></p><ul><li><code>Power &amp; Performance</code><ul><li><code>CPU - Power Management Control</code><ul><li><code>CPU Lock Configuration</code><ul><li><code>CFG Lock</code> è®¾ç½®æˆ <code>Disabled</code></li><li><code>Overclocking Lock</code> è®¾ç½®æˆ <code>Disabled</code></li></ul></li></ul></li></ul></li><li><code>Thunderbolt(TM) Configuration</code><ul><li><code>Security Level</code> è®¾ç½®æˆ <code>No Security</code></li></ul></li></ul></li><li><p><code>Chipset</code></p><ul><li><code>System Agent (SA) Configuration</code><ul><li><code>Graphics Configuration</code><ul><li><code>DVMT Pre-Allocated</code>  è®¾ç½®æˆ <code>64</code></li><li><code>DVMT Total Gfx Mem</code>  è®¾ç½®æˆ <code>MAX</code></li></ul></li></ul></li></ul></li><li><p><code>Security</code></p><ul><li><code>Secure Boot</code> è®¾ç½®æˆ <code>Disabled</code></li></ul></li><li><p><code>Boot</code></p><ul><li><p><code>Fast Boot</code> è®¾ç½®æˆ <code>Disabled</code></p></li><li><p><code>CSM Configuration</code></p><ul><li><code>CSM Support</code> è®¾ç½®æˆ <code>Disabled</code></li></ul></li></ul></li></ul><h2 id="4-2-è½¯ä»¶ä¸‹è½½"><a href="#4-2-è½¯ä»¶ä¸‹è½½" class="headerlink" title="[4-2]è½¯ä»¶ä¸‹è½½"></a>[4-2]è½¯ä»¶ä¸‹è½½</h2><ul><li><strong>macOSä¸‹</strong><ul><li>ä¸‹è½½å¥½çš„macOS Big Sur å®‰è£…app</li><li>ä¸€ä¸ªå¯ä»¥æ­£å¸¸å·¥ä½œçš„ macOS</li><li><a href="https://www.vmware.com/products/fusion.html">VMWare Fusion</a> ï¼ˆè™šæ‹Ÿæœºè½¯ä»¶,æ™®é€šç‰ˆæˆ–proç‰ˆéƒ½å¯ä»¥ï¼‰</li><li><a href="http://dl.paragon-software.com/free/VMDK_MOUNTER_2014.dmg">Paragon VMDK Mounter</a> ï¼ˆæŒ‚è½½è™šæ‹Ÿæœºçš„è½¯ä»¶ï¼‰</li><li>OpenCore 0.6.0 è‡ªç¼–è¯‘ ï¼ˆå¯ä»¥ç›´æ¥å»ä¸‹è½½ Williambj1 æ¯å¤©æ›´æ–°ç¼–è¯‘å¥½çš„OC<a href="https://github.com/williambj1/OpenCore-Factory/releases">ï¼ˆç‚¹å‡»å‰å¾€Opencore-Factoryï¼‰</a>, ä¹Ÿå¯ä»¥è‡ªè¡Œç¼–è¯‘å®˜æ–¹çš„æºç <a href="https://github.com/acidanthera/OpenCorePkg">ï¼ˆç‚¹å‡»å‰å¾€OpenCorePkgï¼‰</a>ã€‚</li></ul></li><li><strong>Windowsä¸‹</strong><ul><li>ä¸€ä¸ªå¯ä»¥æ­£å¸¸å·¥ä½œçš„ Windows ï¼ˆæˆ‘ç›¸ä¿¡åœ¨åçš„å„ä½éƒ½æœ‰å§ğŸ¤”ï¼‰</li><li>ä¸€ä¸ªå¯ä»¥ç¼–è¾‘ä»£ç çš„è½¯ä»¶<ul><li>Sublime Textï¼ŒVisual Studio Code ç­‰ç­‰</li></ul></li><li>VMWare WorkStation Pro ï¼ˆæ³¨æ„è¿™é‡Œå¿…é¡»æ˜¯proç‰ˆæœ¬âš ï¸ï¼‰</li><li>Unlocker 302</li></ul></li></ul><h1 id="5-ç³»ç»Ÿå®‰è£…"><a href="#5-ç³»ç»Ÿå®‰è£…" class="headerlink" title="[5]ç³»ç»Ÿå®‰è£…"></a>[5]ç³»ç»Ÿå®‰è£…</h1><p><em>å®‰è£…è¿‡ç¨‹åŸºäºè¿œæ™¯è®ºå›çš„å¤§ä½¬Bat.batçš„å¸–å­<a href="http://bbs.pcbeta.com/forum.php?mod=viewthread&tid=1862049&highlight=big+sur">ã€Œæ•™ç¨‹ã€ç®€å•æ‰¯æ‰¯ç”¨ VMWare åœ¨å®ä½“æœºä¸Šè£… Big Sur</a>ï¼Œä¾µæƒç«‹åˆ </em></p><h2 id="ä»¥ä¸‹æ­¥éª¤å‡åœ¨macOSä¸Šæ‰§è¡Œ"><a href="#ä»¥ä¸‹æ­¥éª¤å‡åœ¨macOSä¸Šæ‰§è¡Œ" class="headerlink" title="ä»¥ä¸‹æ­¥éª¤å‡åœ¨macOSä¸Šæ‰§è¡Œ"></a>ä»¥ä¸‹æ­¥éª¤å‡åœ¨macOSä¸Šæ‰§è¡Œ</h2><p>é¦–å…ˆåœ¨ macOS ä¸­å…ˆåˆ†ä¸€ä¸ªæ–°çš„ APFS å®¹å™¨ã€‚<strong>âš ï¸æ³¨æ„ï¼Œè¿™é‡ŒæŒ‡çš„ä¸€ä¸ªç‹¬ç«‹çš„æ–°å®¹å™¨ï¼Œå»ºè®®åˆ†60G ä»¥ä¸Šï¼Œè¶Šå¤§è¶Šå¥½</strong>ã€‚è¿™ä¸ªæ–°çš„å®¹å™¨å°±æ˜¯ä½ è¦å®‰è£…ç³»ç»Ÿçš„ç£ç›˜ï¼Œåˆ†å®Œè¯·è®°ä½è¯¥å®¹é‡çš„å¤§å°ï¼Œåé¢ä¼šç”¨åˆ°</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/disk1.jpg" alt="disk1"></p><p>æ‰“å¼€VMWare Fusion<br>ç”¨ VMWare Fusion æ–°å»ºä¸€ä¸ªè‡ªå®šä¹‰è™šæ‹Ÿæœº</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/creatCostom.png" alt="vm1"></p><p>ç³»ç»Ÿéšä¾¿é€‰ä¸€ä¸ªè‹¹æœç³»ç»Ÿå°±è¡Œï¼Œæˆ‘è¿™é‡Œé€‰çš„<code>10.15</code>ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/creatCostom2.png" alt="vm2"></p><p>ç‚¹å‡»<code>ç»§ç»­</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/creatCostom3.png" alt="vm3"></p><p>ç‚¹å‡»<code>è‡ªå®šè®¾ç½®</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/creatCostom4.png" alt="vm4"></p><p>ç‚¹å‡»<code>ç»§ç»­</code>ï¼Œ<strong>è¿™é‡Œè¯·è®°ä½è™šæ‹Ÿæœºå­˜æ”¾çš„ä½ç½®ï¼Œåé¢ä¼šç”¨åˆ°ã€‚</strong></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/creatCostom5.png" alt="vm5"></p><p>ç‚¹å‡»<code>å¤„ç†å™¨ä¸å†…å­˜</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/creatCostom6.png" alt="vm6"></p><p>æ‹–åŠ¨å°æ ‡åˆ°8Gå¤§å°ï¼Œè¿™é‡Œè°ƒæ•´å†…å­˜çš„ä¸»è¦åŸå› æ˜¯æ€•å®‰è£…çš„æ—¶å€™å¡ä½ã€‚ã€‚ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/creatCostom7.png" alt="vm7"></p><p>è®¾ç½®å®Œå·¦ä¸Šè§’ç‚¹å‡»å…³é—­å³å¯ã€‚</p><p>æ¥ç€ç”¨ Paragon VMDK Mounter æ‰“å¼€æ–°å»ºçš„è™šæ‹Ÿæœºï¼ŒæŒ‚è½½åˆšåˆ›å»ºçš„åˆ†åŒºã€‚<strong>ï¼ˆæˆ‘ç›¸ä¿¡ä½ ä»¬å®‰è£…VMDkçš„æ—¶å€™éƒ½ä¼šå¡åœ¨æ¿€æ´»é¡µé¢ï¼Œè¿™é‡Œç»™ä½ ä»¬æä¾›äº†ä¸€äº›æœ‰ç”¨çš„å¸®åŠ©ï¼šVMDK-MOUNTER-2014-434979472ï¼Œ51537-43450-1B2D9-8213Aï¼Œæ€ä¹ˆå¡«å°±ä¸ç”¨æˆ‘è¯´äº†å§ï¼Œå‚»å­éƒ½ä¼šğŸ˜Šï¼‰</strong></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmdk1.png" alt="vmdk1"></p><p>ç‚¹å‡»<code>Attach Selected</code>ã€‚è¿™é‡Œç”±äºæˆ‘æ˜¯åœ¨macOS 11 ä¸Šæˆªçš„å›¾ï¼Œå› æ­¤å‡ºç°äº†â€œâš ï¸â€ï¼Œ10.15ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmdk2.png" alt="vmdk2"></p><p>å¦‚æœä½ å‡ºç°äº†æ­¤é—®é¢˜ï¼Œå¹¶æ˜¾ç¤ºä»¥ä¸‹çª—å£ï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vdm1.jpg" alt="vdm1"></p><p>è¯·å‰å¾€<code>ç³»ç»Ÿåå¥½è®¾ç½®</code> â¡ï¸ <code>å®‰å…¨æ€§ä¸éšç§</code> â¡ï¸ <code>é€šç”¨</code>ï¼Œè§£é™¤å·¦ä¸‹è§’çš„é”å®šç„¶åå…è®¸æ“ä½œå³å¯</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vdm2.jpg" alt="vdm2"></p><p>æ‰“å¼€<code>ç£ç›˜å·¥å…·</code>ï¼Œå°†æŒ‚è½½ä¸Šçš„ VMDK ï¼ˆæ˜¾ç¤ºä¸ºå¤–ç½®ç£ç›˜ï¼‰æ ¼å¼åŒ–æˆ HFSï¼ˆmacOSæ‰©å±•ï¼ˆæ—¥å¿—å¼ï¼‰ï¼‰ï¼Œåå­—å°±å« <code>Big Sur Installer</code>ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/disk2.jpg" alt="disk2"></p><p><strong>å¤‡æ³¨ï¼šæŠ¹ç›˜åº”é€‰æ‹©çº¢æ¡†ä¸‹æ–¹çš„å­ç£ç›˜ï¼Œè¿™é‡Œæ ‡é”™äº†å¾ˆæŠ±æ­‰</strong></p><p>å®Œæˆæ ¼å¼åŒ–åå…³é—­ç£ç›˜å·¥å…·ï¼Œç”¨å¦‚ä¸‹å‘½ä»¤å°† Big Sur å®‰è£…ç¨‹åºå†™å…¥ VMDKç£ç›˜ã€‚   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /Applications/Install\ macOS\ Big\ Sur\ Beta.app/Contents/Resources/createinstallmedia --volume /Volumes/Big\ Sur\ Installer  </span><br></pre></td></tr></table></figure><p>å¤‡æ³¨ï¼šè¿™æ®µå£ä»¤åªé€‚ç”¨ä¸è·Ÿæˆ‘æ–‡ä»¶å­˜æ”¾ç›¸åŒä½ç½®çš„äººï¼Œä½ å¯ä»¥è‡ªå·±æ‹–åŠ¨å®‰è£…åŒ…å’Œç£ç›˜è¿›å…¥ç»ˆç«¯ï¼ˆæ‹–è¿›ï¼‰ä»¥å¯¹é½æ–‡ä»¶ä½ç½®ã€‚è¾“å…¥æ­£ç¡®åç»ˆç«¯è¯¢é—®ä½ æ˜¯å¦ç»§ç»­ï¼Œæ‰“ <code>y</code> å³å¯ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/code.jpg" alt="code"></p><p>è¿›å…¥ç£ç›˜å·¥å…·å¸è½½VMDKåˆ†åŒºï¼Œç„¶åæ‰“å¼€è™šæ‹Ÿæœºï¼Œå¦‚æœèƒ½è¿›å®‰è£…ç•Œé¢ï¼Œç›´æ¥ç‚¹å…³æœºã€‚   </p><p><del>æ‰“å¼€ OC çš„ <code>config.plist</code>ï¼Œä½¿ç”¨<code>OCC</code>ï¼Œ<code>Xcode</code>æˆ–è€…<code>PaperTree</code>éƒ½è¡Œï¼Œåœ¨<code>NVRAM</code>é‡Œçš„ <code>7C436110-AB2A-4BBB-A880-FE41995C9F82</code> ä¸‹ <code>Add</code> æ·»åŠ  <code>booter-fileset-basesystem</code> å’Œ <code>booter-fileset-kernel</code>ï¼Œç±»å‹ä¸º <code>Data</code>ï¼Œå€¼ä¸º <code>&lt;00&gt;</code> (OCCé‡Œå¡«<code>00</code>å³å¯)ï¼Œ<code>Block</code> åŠ ä¸åŠ æ— æ‰€è°“ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¸éœ€è¦åˆ·æ–°è¿™ä¸ªå˜é‡ã€‚</del> </p><p><del>è¿™é‡Œæˆ‘ä»¥<code>OCC</code>ä¸ºä¾‹ï¼Œå…¶ä»–å·¥å…·åŒç†ã€‚</del></p><p><strong>(æ–°ç‰ˆ <code>OpenCore</code> å·²ä¸éœ€è¦æ­¤æ­¥éª¤ï¼Œè¯·ç•¥è¿‡ï¼)</strong></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/config.png" alt="config"></p><p>å°†ä½ åˆ¶ä½œå¥½çš„å®‰è£…ç›˜è™šæ‹Ÿæœºæ‹·è´åˆ°<code>nas</code>æˆ–è€…<code>exfat</code>æ ¼å¼çš„ç£ç›˜ä¸­ä½œä¸ºä¸­ä»‹ï¼Œè‡³æ­¤åœ¨macOSä¸Šçš„æ“ä½œå°±ç»“æŸäº†ğŸ”šã€‚</p><h2 id="ä»¥ä¸‹æ­¥éª¤å‡åœ¨Windowä¸‹æ‰§è¡Œ"><a href="#ä»¥ä¸‹æ­¥éª¤å‡åœ¨Windowä¸‹æ‰§è¡Œ" class="headerlink" title="ä»¥ä¸‹æ­¥éª¤å‡åœ¨Windowä¸‹æ‰§è¡Œ"></a>ä»¥ä¸‹æ­¥éª¤å‡åœ¨Windowä¸‹æ‰§è¡Œ</h2><p>é¦–å…ˆæŠŠåˆšæ‰åˆ›å»ºçš„è™šæ‹Ÿæœºè½¬è¿› Windowsï¼Œåœ¨ä¸Šé¢ğŸ‘†æ“ä½œçš„æœ€åä¸€æ­¥é‡Œä½ ç”¨ä»€ä¹ˆå­˜çš„å°±ä»é‚£é‡Œè½¬ç§»å‡ºæ¥ï¼ˆæˆ‘å’‹è¿™ä¹ˆå¤šåºŸè¯ğŸ˜¯ï¼‰</p><p>è§£é”ä¸‹è½½å¥½çš„ <code>VMWare Workstation Pro</code> ï¼ˆä½œä¸ºä¸€ä¸ªğŸ‡¨ğŸ‡³äººï¼Œä½ è¿˜ä¸ä¼šè¿™ç§æœ€åŸºç¡€çš„ä¸œè¥¿ï¼Ÿç™¾åº¦ä¸€å †å¥½å§ğŸ‘Œï¼‰</p><p>å¯¼å…¥åˆšæ‰è½¬ç§»è¿‡æ¥çš„è™šæ‹Ÿæœºï¼ˆåŒå‡»vmxæ–‡ä»¶å°±è¡Œã€‚ã€‚ã€‚ï¼‰</p><p>ç”¨ <code>Sublime Text</code>ï¼Œ<code>Visual Studio Code</code> æˆ–å…¶ä»–æ‚ä¸ƒæ‚å…«èƒ½ç”¨çš„å·¥å…·æ‰“å¼€è™šæ‹Ÿæœºçš„ <code>vmx</code> æ–‡ä»¶ï¼Œè¯¥æ”¹çš„è¯¥ï¼Œè¯¥åŠ çš„åŠ </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp1.png" alt="vmp1"></p><p><strong>ä¸‹é¢çš„æ˜¯æˆ‘è‡ªå·±éšä¾¿ç”Ÿæˆçš„ï¼Œä¸è¦æ‹¿æ¥ç™»é™†âš ï¸</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">board-id.reflectHost = &quot;TRUE&quot; </span><br><span class="line">board-id = &quot;Mac-937A206F2EE63C01&quot;</span><br><span class="line">hw.model.reflectHost = &quot;FALSE&quot;</span><br><span class="line">hw.model = &quot;MacBookPro15,1&quot;</span><br><span class="line">serialNumber.reflectHost = &quot;FALSE&quot;</span><br><span class="line">serialNumber = &quot;D25XVQYDKGYG&quot;</span><br><span class="line">smbios.reflectHost = &quot;FALSE&quot;</span><br></pre></td></tr></table></figure><p>å¤‡æ³¨ï¼šç¬¬ä¸€è¡Œçš„å‚æ•°åº”è¯¥æ–‡ä»¶é‡Œå·²ç»åŒ…å«äº†ï¼Œå¯ä»¥ä¸ç”¨å†æ·»åŠ ä¸€éã€‚å‚æ•°é¡ºåºæ— æ‰€è°“ï¼Œæ”¾å“ªé‡Œéƒ½è¡Œã€‚(çœ‹å›¾â¬‡ï¸)</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp2.png" alt="vmp2"></p><p><strong>è¿›å…¥ <code>ä»»åŠ¡ç®¡ç†å™¨</code> ï¼Œå…³æ‰æ‰€æœ‰å…³äº <code>VM</code> çš„è¿›ç¨‹ï¼</strong></p><p>æ¥ç€è¿è¡Œä½ ä¸‹è½½å¥½çš„ <code>Unblocker 302</code>ï¼Œ(å³é”®ç®¡ç†å‘˜è¿è¡Œ <code>win-install</code>ï¼Œæ³¨æ„å¿…é¡»æ˜¯ä»¥ç®¡ç†å‘˜è¿è¡Œâš ï¸ï¼‰<strong>å¦‚æœä¸è¿è¡Œçš„è¯ä½ ä¼šå‘ç°åé¢æ‰“å¼€è™šæ‹Ÿæœºçš„æ—¶å€™ä¸€ç›´é‡å¯ï¼ˆæ²¡é”™ï¼Œæ— é™é‡å¯ï¼Œè´¼æ¶å¿ƒğŸ¤®ï¼‰</strong></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/unlocker.png" alt="unlocker302"></p><p>æ¥ç€è¿›å…¥<code>VMWare Workstation Pro</code> â¡ï¸ ç‚¹å‡» <code>ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp3.png" alt="vmp3"></p><p>ç‚¹å‡» <code>æ·»åŠ </code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp4.png" alt="vmp4"></p><p>ç‚¹å‡» <code>ç¡¬ç›˜</code> â¡ï¸ ç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp5.png" alt="vmp5"></p><p>ç‚¹å‡» <code>SATA</code> â¡ï¸ ç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp6.png" alt="vmp6"></p><p>ç‚¹å‡» <code>ä½¿ç”¨ç‰©ç†ç£ç›˜</code> â¡ï¸ ç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp7.png" alt="vmp7"></p><p>ç‚¹å‡» <code>è®¾å¤‡</code> è§’æ ‡ é€‰æ‹© ä½ è‡ªå·±è¦å®‰è£…çš„ç£ç›˜åˆ†åŒºï¼ˆ<strong>å¼€å¤´å«ä½ åˆ†çš„é‚£ä¸ªAPFSå®¹å™¨</strong>ï¼‰æ‰€å¯¹åº”çš„ç£ç›˜ï¼Œç„¶åé€‰æ‹© <code>ä½¿ç”¨å•ä¸ªåˆ†åŒº</code> â¡ï¸ ç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code> <strong>(å¿˜äº†æ˜¯å“ªä¸ªç›˜ï¼Ÿæˆ‘æ¥å¸®ä½ æƒ³æƒ³ï¼Œæ‰¾åˆ°äº†ï¼æ˜¯è¿™ä¸€æ­¥åˆ†çš„ç›˜ï¼<a href="#%E4%BB%A5%E4%B8%8B%E6%AD%A5%E9%AA%A4%E5%9D%87%E5%9C%A8macos%E4%B8%8A%E6%89%A7%E8%A1%8C">ç‚¹æˆ‘ä¼ é€</a>)</strong></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp8.png" alt="vmp8"></p><p>ç‚¹å‡»åœ¨æ–‡ç« å¼€å¤´åˆ›å»ºçš„ <code>APFS</code> å®¹å™¨ (<strong>è¯·æ ¹æ®åˆ†åŒºå¤§å°åˆ¤æ–­âš ï¸</strong>)  â¡ï¸ ç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp9.png" alt="vmp9"></p><p>ç‚¹å‡» <code>å®Œæˆ</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp10.png" alt="vmp10"></p><p>åˆ°è¿™åº”è¯¥å·²ç»æˆåŠŸæ·»åŠ ç‰©ç†å®‰è£…ç£ç›˜ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨è®¾å¤‡åˆ—è¡¨é‡Œçœ‹åˆ°è¿™ä¸ªåˆšåˆšæ·»åŠ çš„ç£ç›˜ï¼Œç¡®è®¤æ— è¯¯åç‚¹å‡» <code>ç¡®å®š</code> å³å¯</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/vmp11.png" alt="vmp11"></p><p>è™šæ‹Ÿæœºå¼€æœºï¼Œç›´æ¥è¿›å®‰è£…ç¨‹åºå®‰è£…ï¼Œæ— éœ€å†æŠ¹ç›˜ï¼Œç„¶åå„ç§ç‚¹ï¼Œè£…æœºæ€»ä¼šå§â€¦..   è£…å®Œåˆ°é€‰æ‹©è¯­è¨€çš„æ—¶å€™å°±å¯ä»¥å…³æ‰è™šæ‹Ÿæœºäº†</p><p>åˆ°æ­¤ï¼Œè™šæ‹Ÿæœºå®‰è£…å°±æ­£å¼ç»“æŸäº†ã€‚ç°åœ¨ä½ å¯ä»¥é‡å¯ç”µè„‘ğŸ’»ï¼Œç„¶åç”¨ OC å¼€æœºï¼Œç»§ç»­åˆšæ‰çš„æ¿€æ´»å‘å¯¼ï¼Œè®¾ç½®å®Œå°±å¯ä»¥åƒèƒèŸ¹äº†ğŸ¦€ï¸</p><p><strong>æ­å–œä½ ï¼Œç°åœ¨å·²ç»å®Œæˆäº†macOS Big Sur çš„ç³»ç»Ÿå®‰è£…ğŸ‰</strong></p><h1 id="6-ä¸€äº›ä¼˜åŒ–"><a href="#6-ä¸€äº›ä¼˜åŒ–" class="headerlink" title="[6]ä¸€äº›ä¼˜åŒ–"></a>[6]ä¸€äº›ä¼˜åŒ–</h1><h2 id="6-1-æ‰“å¼€TRIM"><a href="#6-1-æ‰“å¼€TRIM" class="headerlink" title="[6-1] æ‰“å¼€TRIM"></a>[6-1] æ‰“å¼€TRIM</h2><p>å¦‚æœä½ å°†ç³»ç»Ÿè£…åœ¨äº†å›ºæ€ç¡¬ç›˜ä¸Šï¼Œåº”å¼€å¯TRIMã€‚è¿™æ ·å¯ä»¥é˜²æ­¢ç³»ç»Ÿå¯¹ç¡¬ç›˜è¿›è¡Œå¤šæ¬¡æ“¦å†™ä»è€Œç¡®ä¿ç¡¬ç›˜å¯¿å‘½ã€‚ï¼ˆä»€ä¹ˆï¼Ÿä½ é—®æˆ‘æœºæ¢°ç¡¬ç›˜è¦å¼€å—ï¼Ÿåæ­£æˆ‘æ˜¯å¼€äº†ï¼‰</p><p>è¿›å…¥ç»ˆç«¯ï¼Œå¡«å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo trimforce enable</span><br></pre></td></tr></table></figure><p>å®Œæˆåç³»ç»Ÿä¼šè¦æ±‚ä½ é‡å¯</p><h2 id="6-2-æ´—ç™½åºåˆ—å·-x2F-ä¸‰ç "><a href="#6-2-æ´—ç™½åºåˆ—å·-x2F-ä¸‰ç " class="headerlink" title="[6-2]æ´—ç™½åºåˆ—å· &#x2F; ä¸‰ç "></a>[6-2]æ´—ç™½åºåˆ—å· &#x2F; ä¸‰ç </h2><p>è‡ªè¡Œè¿›å…¥OCCæ‰“å¼€ <code>config.plist</code> ,åœ¨ <code>PlatformInfo</code> é‡Œçš„ <code>Generic</code> ç”Ÿæˆä¸‰ç å³å¯</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/occ.jpg" alt="occ"></p><p><strong>æ³¨æ„ï¼Œå¦‚æœä½ æ‰“ç®—ç”¨ OpenCore å¼•å¯¼ Windowsï¼Œè¯·å°† <code>System UUID</code> ä¸€æ ä¿®æ”¹æˆä½ BIOSå¯¹åº”çš„UUIDï¼Œå¦åˆ™å¯¼è‡´Windowsçš„æ‰€æœ‰è½¯ä»¶æ¿€æ´»å¤±æ•ˆï¼âš ï¸</strong></p><h2 id="6-3-ç”µæ± ä¸æ˜¾ç¤º-æœ€æ–°ç‰ˆçš„-VirtualSMC-å·²ä¿®å¤è¯¥é—®é¢˜ï¼"><a href="#6-3-ç”µæ± ä¸æ˜¾ç¤º-æœ€æ–°ç‰ˆçš„-VirtualSMC-å·²ä¿®å¤è¯¥é—®é¢˜ï¼" class="headerlink" title="[6-3]ç”µæ± ä¸æ˜¾ç¤º (æœ€æ–°ç‰ˆçš„ VirtualSMC å·²ä¿®å¤è¯¥é—®é¢˜ï¼)"></a>[6-3]ç”µæ± ä¸æ˜¾ç¤º <strong>(æœ€æ–°ç‰ˆçš„ <code>VirtualSMC</code> å·²ä¿®å¤è¯¥é—®é¢˜ï¼)</strong></h2><p><del>å°†kexté‡Œçš„ <code>SMCBatteryManager</code> æ¢æˆ <code>ACPIBatteryManager</code> å³å¯è§£å†³é—®é¢˜ï¼ˆå‰ææ˜¯ä½ çš„dsdtæ˜¯è¡¥å¥½çš„ï¼ï¼‰</del></p><h2 id="6-4-çŠ¶æ€æ çš„å¡é¡¿"><a href="#6-4-çŠ¶æ€æ çš„å¡é¡¿" class="headerlink" title="[6-4]çŠ¶æ€æ çš„å¡é¡¿"></a>[6-4]çŠ¶æ€æ çš„å¡é¡¿</h2><h3 id="6-4-1-åˆ é™¤-WiFiAgent-è§£é”å¡é¡¿é—®é¢˜"><a href="#6-4-1-åˆ é™¤-WiFiAgent-è§£é”å¡é¡¿é—®é¢˜" class="headerlink" title="[6-4-1]åˆ é™¤ WiFiAgent è§£é”å¡é¡¿é—®é¢˜"></a>[6-4-1]åˆ é™¤ WiFiAgent è§£é”å¡é¡¿é—®é¢˜</h3><p>big surçš„å¡é¡¿æ˜¯å› ä¸ºæ‰¾ä¸åˆ°wifiè®¾å¤‡é€ æˆçš„ï¼é‚£ä¹ˆä½¿ç”¨usbç½‘å¡ã€æ— ç½‘å¡çš„ç”¨æˆ·å°±éœ€è¦åˆ æ‰ <code>WiFiAgent</code> è¿™ä¸ªå¯åŠ¨é¡¹ï¼Œè¿™é‡Œåªæ˜¯ç§»åŠ¨äº†ä¸‹ä½ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$mount -o rw /</span><br><span class="line"></span><br><span class="line">$cd /System/Library/LaunchAgents</span><br><span class="line"></span><br><span class="line">$sudo mv com.apple.wifi.WiFiAgent.plist ../LaunchAgentsIgnored</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œæ¯•é‡å¯å³å¯</p><p><del>æç¤ºï¼šUSBç½‘å¡ç°åœ¨è¿˜æ— æ³•åœ¨macOS Big Sur ä¸Šä½¿ç”¨ï¼å½“ç„¶è¯´ä¸å®šä»¥åå¯ä»¥ï¼ˆè¯´çš„éƒ½æ˜¯ä»€ä¹ˆåºŸè¯â€¦ï¼‰</del> <code>chris1111</code>å·²ç»æ›´æ–°æ”¯æŒé»‘è‹¹æœçš„USBç½‘å¡é©±åŠ¨ï¼Œè¿™é‡Œé™„ä¸Šé“¾æ¥ğŸ”—ä¾›å¤§ğŸ”¥ğŸšªæŸ¥çœ‹ <a href="https://github.com/chris1111/Wireless-USB-Big-Sur-Adapter">ç‚¹å‡»è·³è½¬è‡³<code>Wireless-USB-Big-Sur-Adapter</code></a><br>**ä½¿ç”¨æ—¶éœ€è¦å…³é—­ <code>SIP</code> !!! <a href="#6-6%E5%85%B3%E9%97%AD-sip--authenticated-root">ç‚¹å‡»è·³è½¬è‡³[6-6]å…³é—­ <code>SIP</code> &amp; <code>Authenticated-root</code></a> </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb.png" alt="usb"></p><h3 id="6-4-2-ç›´æ¥æ›´æ¢åšé€šç½‘å¡"><a href="#6-4-2-ç›´æ¥æ›´æ¢åšé€šç½‘å¡" class="headerlink" title="[6-4-2]ç›´æ¥æ›´æ¢åšé€šç½‘å¡"></a>[6-4-2]ç›´æ¥æ›´æ¢åšé€šç½‘å¡</h3><p>åˆ é™¤<code>WiFiAgent</code>åªæ˜¯ç¼“å…µä¹‹è®¡ï¼Œé™¤äº†æ’ç½‘çº¿å¦åˆ™ä½ è¿˜æ˜¯è¿ä¸ä¸Šç½‘ï¼Œå› æ­¤ç»™ç”µè„‘æ›´æ¢åšé€šç½‘å¡æ‰æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ³•ã€‚ï¼ˆè€Œä¸”é›·è›‡æ‹†æœºå¹¶ä¸ä¼šå½±å“ä¿ä¿®ï¼Œä¸åƒæŸäº›å‚å•†â€¦.ï¼‰</p><p>æ•´ä¸ªæœºèº«å…±æœ‰ 10 é¢—èºä¸åˆ†ä¸€ç§è§„æ ¼ï¼Œä½ éœ€è¦ä¸€æŠŠ <code>T5</code> çš„èºä¸åˆ€æ¥æ‰“å¼€å®ƒï¼Œå¸ä¸‹æ‰€æœ‰èºä¸å³å¯æ‹†ä¸‹èƒŒæ¿ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/laptop1.jpg" alt="laptop"></p><p>ç½‘å¡ä½äºæœºå™¨çš„å³ä¸‹è§’ï¼Œæ’æ§½å¤„è¢«ä¸€å¼ é˜²é™ç”µèƒ¶å¸ƒè¦†ç›–ï¼Œéœ€è¦æ­å¼€å®ƒã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/laptop2.jpg" alt="laptop"></p><p>è®°å¾—æ–­å¼€å¤©çº¿ï¼Œä¸ä¼šå§ï¼Œä¸ä¼šå§ï¼Œä¸ä¼šæœ‰äººä¸çŸ¥é“å§ã€‚</p><p>æ¢å¥½è£…ä¸ŠèƒŒæ¿å³å¯</p><h2 id="6-5-å¼€å¯HiDPI"><a href="#6-5-å¼€å¯HiDPI" class="headerlink" title="[6-5]å¼€å¯HiDPI"></a>[6-5]å¼€å¯HiDPI</h2><p><strong>å¼€å¯æ•™ç¨‹é€‰æ‹©ä¸‹é¢ <code>[6-5-1]å°†æ—§ç³»ç»Ÿçš„ HiDPI è½¬ç§»åˆ° macOS 11</code> æˆ– <code>[6-5-2]é€šè¿‡ one-key-hidpi å¼€å¯</code> å…¶ä¸­ä¸€ä¸ªå³å¯ã€‚</strong>  </p><p>ç”±äºmacOS11å¯¹äºå®‰å…¨æ€§æ›´å¼ºçš„è¦æ±‚ï¼ŒmacOS Catalinaä¸­è§£é”sleçš„å‘½ä»¤å·²ç»å¤±æ•ˆäº†ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒHiDPIçš„å¼€å¯ä¸å—å½±å“ï¼Œä¼ ç»Ÿå¼€å¯çš„æ–¹æ³•æ˜¯æŠŠæ˜¾ç¤ºå™¨æ–‡ä»¶å†™å…¥è¿›ç³»ç»Ÿç›®å½• <code>/System/Library/Displays/Contents/Resources/Overrides</code>ï¼Œè¿™æ ·åšæœ‰é£é™©è€Œä¸”å‡çº§åå¤±æ•ˆã€‚  </p><p>æŠŠæ˜¾ç¤ºå™¨æ–‡ä»¶å†™å…¥ç›®å½• <code>/Library/Displays/Contents/Resources/Overrides</code> èƒ½å–å¾—ç›¸åŒæ•ˆæœï¼Œè€Œä¸”è¿™æ ·åšçš„å¥½å¤„æœ‰ï¼š</p><ul><li>æ”¯æŒ Big Sur</li><li>å‡çº§ç³»ç»Ÿåä¸éœ€è¦é‡æ–°å¼€å¯</li><li>ä¿æŒç³»ç»Ÿç›®å½•çº¯å‡€</li><li>å®¹æ˜“æ¢å¤ï¼Œåˆ é™¤<code>/Library/Displays/</code> æ–‡ä»¶å¤¹å³å¯</li></ul><h3 id="6-5-1-å°†æ—§ç³»ç»Ÿçš„-HiDPI-è½¬ç§»åˆ°-macOS-11-éœ€è¦ä½ æ—§ç³»ç»Ÿå·²å¼€å¯HiDPI"><a href="#6-5-1-å°†æ—§ç³»ç»Ÿçš„-HiDPI-è½¬ç§»åˆ°-macOS-11-éœ€è¦ä½ æ—§ç³»ç»Ÿå·²å¼€å¯HiDPI" class="headerlink" title="[6-5-1]å°†æ—§ç³»ç»Ÿçš„ HiDPI è½¬ç§»åˆ° macOS 11 (éœ€è¦ä½ æ—§ç³»ç»Ÿå·²å¼€å¯HiDPI)"></a>[6-5-1]å°†æ—§ç³»ç»Ÿçš„ HiDPI è½¬ç§»åˆ° macOS 11 <strong>(éœ€è¦ä½ æ—§ç³»ç»Ÿå·²å¼€å¯HiDPI)</strong></h3><p>å¼€å¯æ–¹æ³•ï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/hidpi1.png" alt="hidpi"></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/hidpi2.png" alt="hidpi"></p><p>ç»“æœå±•ç¤ºï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/hidpi3.png" alt="hidpi"></p><p><em>å¤‡æ³¨ï¼šå› ä¸ºæˆ‘å¹¶æ²¡æœ‰å¼€å¯HiDPIå› æ­¤è¿™äº›å›¾ç‰‡éƒ½å–è‡ªhxdçš„<a href="https://wanan.run/2020/07/01/%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85Big%20Sur%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/#more">åšå®¢</a>é‡Œ, çµæ„Ÿæ¥è‡ªè¿œæ™¯å¤§ä½¬éƒ‘ä¸–ç¥ºï¼Œ<a href="http://bbs.pcbeta.com/viewthread-1862148-1-1.html">æ¥æº</a>ã€‚</em> <em>ç‰ˆæƒå½’éƒ‘ä¸–ç¥ºæ‰€æœ‰ï¼Œä¾µæƒç«‹åˆ Â©ï¸</em></p><h3 id="6-5-2-é€šè¿‡-one-key-hidpi-å¼€å¯"><a href="#6-5-2-é€šè¿‡-one-key-hidpi-å¼€å¯" class="headerlink" title="[6-5-2]é€šè¿‡ one-key-hidpi å¼€å¯"></a>[6-5-2]é€šè¿‡ <code>one-key-hidpi</code> å¼€å¯</h3><p>æ“ä½œåŸç†ä¸å¼€å¤´è¯´çš„ä¸€è‡´ï¼Œè¿™é‡Œåªæ˜¯å°†ç›®æ ‡ä½ç½®è¿›è¡Œæ›´æ”¹ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯æ‰“å¼€ <code>ç»ˆç«¯</code>ï¼Œ<br>å¹¶è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/mlch911/one-key-hidpi/master/hidpi.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p><em><code>one-key-hidpi</code>ç”± <code>xzhih</code> å¤§ä½¬å¼€å‘ï¼Œå¹¶ç”± <code>mlch911</code> è¿›è¡Œforkå¹¶å¯¹ç›®æ ‡ä½ç½®è¿›è¡Œæ›´æ”¹ã€‚åœ¨è¿™é‡Œå†æ¬¡æ„Ÿè°¢ï¼<a href="https://github.com/xzhih/one-key-hidpi/issues/136">ç‚¹å‡»è¿›å…¥issueæŸ¥çœ‹è¯¦æƒ…ğŸ”</a></em>   </p><p>æ¥ç€æŒ‰ç…§ä½ è‡ªå·±çš„æœºå‹è®¾ç½®å¯¹åº”çš„è®¾å¤‡å’Œåˆ†è¾¨ç‡ï¼Œè®¾ç½®å®Œæˆåé‡å¯å³å¯ç”Ÿæ•ˆã€‚  </p><h2 id="6-6-å…³é—­-SIP-amp-Authenticated-root"><a href="#6-6-å…³é—­-SIP-amp-Authenticated-root" class="headerlink" title="[6-6]å…³é—­ SIP &amp; Authenticated-root"></a>[6-6]å…³é—­ <code>SIP</code> &amp; Authenticated-root</h2><p>ç”±äºåœ¨ macOS Big Sur ä¸­ï¼Œè‹¹æœæ›´æ–°äº†å®‰å…¨æœºåˆ¶ï¼Œæ–°å¢äº† <code>authenticated root</code> è¿™ä¹Ÿä½¿å¾—å¼€æœºä»åªè¯»å¿«ç…§å¯åŠ¨è€Œéç›´æ¥ç³»ç»Ÿæ–‡ä»¶å¯åŠ¨ï¼Œå› æ­¤è€æ–¹æ³• <code>E7030000</code> å·²å¤±æ•ˆï¼Œä½†æ˜¯æ ¹æ® dortania å‘å¯¼çš„æç¤ºï¼Œç°åœ¨éœ€ä½¿ç”¨ <code>FF0F0000</code> å…³é—­ <code>SIP</code>ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/sip-1.png" alt="sip"></p><p>å…·ä½“æ“ä½œï¼š<br>æ‰“å¼€ <code>config.plist</code>  </p><ul><li>NVRAM<ul><li>add &#x2F; æ·»åŠ <ul><li>7C436110-AB2A-4BBB-A880-FE41995C9F82<ul><li><code>csr-active-config</code><ul><li><code>FF0F0000</code> ï½œ æ•°æ®ç±»å‹ï¼š<code>DATA</code></li></ul></li></ul></li></ul></li><li>block &#x2F; åˆ é™¤<ul><li>7C436110-AB2A-4BBB-A880-FE41995C9F82<ul><li><code>csr-active-config</code></li></ul></li></ul></li></ul></li></ul><p>å›¾ä¾‹ï¼š</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/sip-2.png" alt="sip"></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/sip-3.png" alt="sip"></p><p>ä¿®æ”¹å®Œæˆåä¿å­˜å…³é—­å³å¯ï¼Œé‡å¯æŸ¥çœ‹æ•ˆæœã€‚   </p><h2 id="6-7-ä¿®æ”¹ç³»ç»Ÿå¿«ç…§-è¿™é‡Œå¹¶ä¸æ¨èä¿®æ”¹ï¼Œå› ä¸ºä¼šå¤±å»OTAçš„æœºä¼šï¼"><a href="#6-7-ä¿®æ”¹ç³»ç»Ÿå¿«ç…§-è¿™é‡Œå¹¶ä¸æ¨èä¿®æ”¹ï¼Œå› ä¸ºä¼šå¤±å»OTAçš„æœºä¼šï¼" class="headerlink" title="[6-7]ä¿®æ”¹ç³»ç»Ÿå¿«ç…§ [è¿™é‡Œå¹¶ä¸æ¨èä¿®æ”¹ï¼Œå› ä¸ºä¼šå¤±å»OTAçš„æœºä¼šï¼]"></a>[6-7]ä¿®æ”¹ç³»ç»Ÿå¿«ç…§ [<strong>è¿™é‡Œå¹¶ä¸æ¨èä¿®æ”¹ï¼Œå› ä¸ºä¼šå¤±å»OTAçš„æœºä¼šï¼</strong>]</h2><p><em>æ„Ÿè°¢macrumorsè®ºå›çš„ASentientBotä¼šå‘˜ï¼Œæ˜¯ä»–æä¾›çš„æ–¹æ³•</em>   </p><ol><li><p>å…³é—­SIPå’Œauthenticated-rootï¼ˆè¿™æ˜¯Big Suræ–°å¢çš„å®‰å…¨åŠŸèƒ½ï¼‰ï¼Œå…³é—­æ–¹æ³•è¯·æŸ¥é˜…ä¸Šé¢çš„ç« èŠ‚<a href="#6-6%E5%85%B3%E9%97%AD-sip--authenticated-root">[6-6]å…³é—­ <code>SIP</code> &amp; Authenticated-root</a>ã€‚   </p></li><li><p>é‡å¯åæ‰“å¼€ç»ˆç«¯æ‰§è¡Œ <code>sudo -s</code> åˆ‡æ¢åˆ°rootã€‚</p></li><li><p>è¾“å…¥ <code>diskutil list</code> æ‰¾åˆ° Big Sur çš„åªè¯»å¿«ç…§ã€‚å¿«ç…§åä¼šå«<code>disk#s#s#</code>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘è¿™é‡Œçš„å¿«ç…§å« <code>disk3s5s1</code>ã€‚<br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/snapshot-1.png" alt="snapshot"></p></li><li><p>è¾“å…¥ <code>diskutil mount disk#s#</code> æŒ‚è½½çœŸæ­£çš„ç³»ç»Ÿåˆ†åŒºï¼ˆå¯¹äºæˆ‘è€Œè¨€å°±æ˜¯<code>diskutil mount disk3s5</code>ï¼‰ç³»ç»Ÿåˆ†åŒºä¸€èˆ¬æ¥è¯´ä¸ºå¿«ç…§åˆ†åŒºä¸Šé¢çš„ç£ç›˜åŒºï¼ˆçœ‹ä¸Šé¢é‚£ä¸ªå›¾ï¼‰ï¼Œä¾‹å¦‚ä½ çš„å¿«ç…§ä¸º <code>disk1s2s1</code>ï¼Œé‚£ä¹ˆä½ çš„ç³»ç»Ÿåˆ†åŒºä¸º <code>disk1s2</code>ã€‚</p></li><li><p>è¿è¡Œå‘½ä»¤ <code>/S*/L*/F*/apfs.fs/C*/R*/apfs_systemsnapshot -v &quot;/Volumes/ä½ æŒ‚è½½çš„åˆ†åŒºå&quot; -r &quot;&quot;</code>ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå…è®¸ä½ ä»çœŸçš„ç³»ç»Ÿç›˜å¯åŠ¨ã€‚<strong>æ³¨æ„ï¼ä½ æŒ‚è½½çš„åˆ†åŒºåä¸ºä½ çš„ç³»ç»Ÿç›˜åç§° + 1ï¼Œæ¯”å¦‚å¿«ç…§ç›˜å« <code>Macintosh HD</code>ï¼Œé‚£ä¹ˆæŒ‚è½½åçš„ç³»ç»Ÿç›˜å°±å« <code>Macintosh HD 1</code>ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ç£ç›˜å·¥å…·ä¸­çš„è£…è½½ç‚¹çœ‹åˆ°</strong><br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/snapshot-3.png" alt="snapshot"></p></li><li><p>å¦‚æœä½ æƒ³åˆ é™¤æ‰ä»¥å‰çš„åªè¯»å¿«ç…§ï¼Œç»ˆç«¯è¿è¡Œ <code>sudo diskutil apfs deletesnapshot</code>å³å¯ã€‚</p></li></ol><h2 id="6-8-å¯ç”¨ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶"><a href="#6-8-å¯ç”¨ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶" class="headerlink" title="[6-8]å¯ç”¨ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶"></a>[6-8]å¯ç”¨ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶</h2><p>åœ¨æ“ä½œå®Œä¸Šè¿°çš„<a href="#6-6%E5%85%B3%E9%97%AD-sip--authenticated-root">[6-6]å…³é—­<code>SIP</code> &amp; Authenticated-root</a> å’Œ <a href="#6-7%E4%BF%AE%E6%94%B9%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7">[6-7]ä¿®æ”¹ç³»ç»Ÿå¿«ç…§</a>åï¼Œé‡å¯åœ¨ç»ˆç«¯è¾“å…¥ <code>mount -uw /</code>å³å¯å¯ç”¨ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶ã€‚</p><h2 id="6-9-USBå®šåˆ¶é©±åŠ¨"><a href="#6-9-USBå®šåˆ¶é©±åŠ¨" class="headerlink" title="[6-9]USBå®šåˆ¶é©±åŠ¨"></a>[6-9]USBå®šåˆ¶é©±åŠ¨</h2><p>é€šè¿‡å®šåˆ¶USBæ¥å£é©±åŠ¨å¯ä»¥è®©ä½ ç”µè„‘çš„USBæ¥å£æ­£å¸¸å·¥ä½œï¼ŒåŒæ—¶ä¹Ÿèƒ½é—´æ¥è§£å†³ç¡çœ é—®é¢˜ï¼ˆå½“ç„¶æˆ‘è¿™ä¸ªç¡çœ ä¸æ˜¯é€šè¿‡è¿™ä¸ªè§£å†³çš„ã€‚ã€‚ã€‚ï¼‰å®šåˆ¶çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå…¨ç¨‹èŠ±è´¹ååˆ†é’Ÿå·¦å³ã€‚   </p><p>å‡†å¤‡å·¥å…·ï¼š</p><ul><li>macOS Big Sur</li><li>Hackintool</li><li>ä¸€ä¸ªæœ‰çº¿é¼ æ ‡æˆ–è€…å…¶ä»– <code>USB2.0</code> æ¥å£çš„ç¡¬ä»¶ç”¨ä½œåç»­çš„æµ‹è¯•</li><li>ä¸€ä¸ª <code>USB 3.0</code> çš„Uç›˜æˆ–å…¶ä»–åŒæ¥å£çš„ç¡¬ä»¶ç”¨ä½œåç»­çš„æµ‹è¯•ï¼ˆ <code>USB3.1</code>ï¼Œ<code>3.2</code> éƒ½å¯ï¼Œè¿™é‡Œåªæ˜¯ç”¨äºæµ‹è¯•æ¥å£ï¼‰</li><li>USBInjectAll.kext (è¿™é‡Œæˆ‘å°±ä¸æä¾›äº†ï¼Œç½‘ä¸Šæœç´¢ä¸€å †)</li></ul><p>å¦‚ä½•åˆ†è¾¨ <code>USB2.0</code> å’Œ <code>USB3.0</code> ï¼Ÿ   </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize.png" alt="usb_customize"><br><em>å›¾ç‰‡è½¬è½½è‡ªç½‘é¡µ <a href="https://heipg.cn/tutorial/custom-usbports-for-hackintosh.html">ä½¿ç”¨ Hackintool å®šåˆ¶é»‘è‹¹æœ USB ç«¯å£ï¼Œé€‚ç”¨äº Clover &amp; OpenCore</a>,ä¾µæƒç«‹åˆ Â©ï¸</em></p><p>æŒ‚è½½ <code>EFI</code> åˆ†åŒºï¼Œç”¨ <code>ç»ˆç«¯</code> æˆ–è€… <code>OCC</code> éƒ½è¡Œ<br>å°† <code>USBInjectAll.kext</code> æ”¾å…¥ <code>/EFI/OC/Kexts</code>ã€‚</p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-1.png" alt="usb_customize"></p><p>å°† <code>USBInjectAll.kext</code> æ·»åŠ åˆ° <code>config.plist</code> ä¸­ï¼Œå¹¶å°†åº•éƒ¨ <code>Quirks</code> çª—å£ä¸­çš„ <code>XhciPortLimit</code> å‹¾ä¸Šä»¥è§£é™¤USBæ¥å£é™åˆ¶ã€‚   </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-2.png" alt="usb_customize"></p><p>è®¾ç½®å®Œæˆåä¿å­˜å¹¶é‡å¯macOS  </p><p>è§£å‹ <code>Tools</code>é‡Œçš„ <code>Hackintool</code> å¹¶å®‰è£…å®ƒï¼Œç„¶åæ‰“å¼€è¯¥è½¯ä»¶ã€‚  </p><p>è¿›å…¥ <code>Hackintool</code> åè·³è½¬åˆ° <code>USB</code> çª—å£ï¼ˆé¡¶éƒ¨ï¼‰ï¼Œä½ ä¼šçœ‹åˆ°ä¸€å †USBæ¥å£ã€‚ï¼ˆ<strong>ç”±äºæˆ‘å·²ç»å®šåˆ¶è¿‡USBï¼Œå› æ­¤å›¾é‡Œçš„æ¥å£æ¯”è¾ƒå°‘</strong>ï¼‰   </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-3.png" alt="usb_customize"></p><p>æ¥ç€å°†ä½ å‡†å¤‡å¥½çš„ <code>USB2.0</code> è®¾å¤‡æŠŠç”µè„‘ä¸Šæ‰€æœ‰çš„æ¥å£éƒ½æ’ä¸€éå¹¶è®°å½•ä¸‹æ¥ã€‚(ç›´æ¥ä¿®æ”¹ <code>è¿æ¥å™¨ç§ç±»</code>å°±è¡Œï¼‰<br>å¦‚å›¾æ‰€ç¤ºï¼Œå½“æˆ‘æ’å…¥æˆ‘çš„ <code>USB2.0</code> ï¼ˆæˆ‘çš„é¼ æ ‡ï¼‰è®¾å¤‡æ—¶ï¼Œæˆ‘çš„ <code>HS01</code> æ¥å£æ£€æµ‹åˆ°äº†è®¾å¤‡æ’å…¥ï¼Œé‚£ä¹ˆå¯¹åº”çš„å°±æ˜¯ <code>HS01</code> â¡ï¸ <code>USB2.0</code>ã€‚<br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-4.png" alt="usb_customize"></p><p>è®°å½•ä¸‹æ¥åå°†ä½ çš„ <code>USB2.0</code> è®¾å¤‡æ’å…¥å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œè¿™æ—¶å¯ä»¥çœ‹åˆ° <code>HS02</code> æ£€æµ‹åˆ°äº†è®¾å¤‡çš„æ’å…¥ï¼Œé‚£ä¹ˆå¯¹åº”çš„å°±æ˜¯ <code>HS02</code> â¡ï¸ <code>USB2.0</code><br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-5.png" alt="usb_customize"></p><p>æ¥ç€å°†ä½ çš„USB3.0ï¼ŒType-Céƒ½è½®æµæµ‹è¯•ä¸€éå¹¶è®°å½•ä¸‹æ¥ï¼ˆç›´æ¥ä¿®æ”¹ <code>è¿æ¥å™¨ç§ç±»</code>å°±è¡Œï¼‰<br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-6.png" alt="usb_customize"></p><p><strong>æµ‹è¯•Type-Cæ—¶ï¼Œè®°å¾—ä¸¤é¢éƒ½è¦æµ‹è¯•ã€‚å¦‚æœåªæœ‰ä¸€é¢æœ‰æ£€æµ‹åˆ°ï¼Œé‚£ä¹ˆå°±æ˜¯ <code>TypeC+Sw</code>ã€‚å¦‚æœä¸¤é¢éƒ½æœ‰æ£€æµ‹åˆ°ï¼Œé‚£ä¹ˆå°±æ˜¯ <code>TypeC</code></strong>  </p><p><strong>åŒæ—¶éœ€è¦æ³¨æ„ç³»ç»Ÿæœ€å¤šæ”¯æŒå ç”¨ <code>15</code> æ¡ <code>USBçº¿è·¯</code>ï¼Œ<code>USB2.0</code> æˆ–ç€å« <code>HSxx</code> çš„ç«¯å£å ç”¨ <code>1</code> æ¡ <code>çº¿è·¯</code>ï¼Œ <code>USB3.0</code>ï¼Œ <code>TypeC</code>ï¼Œ <code>TypeC+Sw</code> æˆ–è€…å« <code>SSxx</code> çš„ç«¯å£å ç”¨ <code>2</code> æ¡ <code>çº¿è·¯</code>ï¼å› æ­¤å¦‚æœå®ƒä»¬åŠ èµ·æ¥è¶…è¿‡ <code>15</code> æ¡ <code>çº¿è·¯</code>ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦åšå‡ºå–èˆï¼å¦‚æœä½ çš„ <code>USBçº¿è·¯</code> åŠ èµ·æ¥æ²¡æœ‰ <code>15</code> æ¡æˆ–è€… åˆšå¥½ <code>15</code> æ¡(æ¯”å¦‚æˆ‘ï¼‰ï¼Œé‚£æ²¡äº‹äº†å½“æˆ‘æ²¡è¯´</strong>    </p><p>æœ€åï¼Œå®šåˆ¶å®Œæˆåï¼Œä½ éœ€è¦åˆ é™¤å¤šä½™æ— ç”¨çš„æ¥å£ã€‚ï¼ˆç¡®ä¿ä½ æ‰€æœ‰çš„æ¥å£éƒ½æµ‹è¯•è¿‡äº†ï¼ï¼Œæµ‹è¯•å®Œæˆåå‰©ä¸‹è¿™äº›ç°è‰²çš„æ¥å£å°±æ˜¯æ— ç”¨çš„æ¥å£ï¼Œé€‰ä¸­ç‚¹å‡»ä¸‹æ–¹çš„ <code>â–</code> å³å¯åˆ é™¤ï¼‰  </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-7.png" alt="usb_customize">  </p><p>åˆ é™¤å®Œæˆåï¼Œç‚¹å‡»å³ä¾§çš„åˆ°å¤„æŒ‰é’®ï¼Œåˆ°å¤„å®šåˆ¶å¥½çš„USBé©±åŠ¨ã€‚  </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-8.png" alt="usb_customize">  </p><p>å¯¼å‡ºçš„é©±åŠ¨ä½äºæ¡Œé¢ï¼Œä½ ä¼šçœ‹åˆ°ç”Ÿæˆçš„è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼Œåœ¨ <code>OpenCore</code> ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦è¿™ä¸ª <code>USBPorts.kext</code>ã€‚å°† <code>USBPorts.kext</code>æ‹–å…¥ <code>/EFI/OC/Kexts</code> å¹¶å°†å…¶æ·»åŠ åˆ° <code>config.plist</code> ä¸­ã€‚  </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-9.png" alt="usb_customize"></p><p>å°† <code>USBInjectAll.kext</code> ä» <code>config.plist</code> ä¸­åˆ é™¤ï¼Œå¹¶å–æ¶ˆå‹¾é€‰ä¸‹æ–¹ <code>Quirks</code> çª—å£ä¸­çš„ <code>XhciPortLimit</code></p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/usb_customize-10.png" alt="usb_customize"></p><p>è®¾ç½®å®Œæˆåä¿å­˜é‡å¯å³å¯å®ŒæˆUSBå®šåˆ¶ã€‚</p><h2 id="6-10-ä¿®å¤Recoveryæ— æ³•è¿›å…¥"><a href="#6-10-ä¿®å¤Recoveryæ— æ³•è¿›å…¥" class="headerlink" title="[6-10]ä¿®å¤Recoveryæ— æ³•è¿›å…¥"></a>[6-10]ä¿®å¤Recoveryæ— æ³•è¿›å…¥</h2><p>ç”¨ <code>OCC</code> æ‰“å¼€ <code>config.plist</code>,<br>æ‰¾åˆ° <code>UEFI</code> -&gt; <code>APFS</code> -&gt; <code>JumpstartHotPlug</code> å‹¾é€‰å³å¯</p><h2 id="6-11-è§£å†³App-Storeæ— æ³•ç™»å½•çš„é—®é¢˜"><a href="#6-11-è§£å†³App-Storeæ— æ³•ç™»å½•çš„é—®é¢˜" class="headerlink" title="[6-11]è§£å†³App Storeæ— æ³•ç™»å½•çš„é—®é¢˜"></a>[6-11]è§£å†³App Storeæ— æ³•ç™»å½•çš„é—®é¢˜</h2><p>é‡ç½® <code>NVRAM</code> å³å¯è§£å†³è¯¥é—®é¢˜<br>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nvram -c</span><br></pre></td></tr></table></figure><p>æ¥ç€è¾“å…¥ç”¨æˆ·å¯†ç åå›è½¦ï¼Œä¸å¿…ç†ä¼šæç¤ºä¿¡æ¯ï¼Œé‡å¯å³å¯</p><h2 id="6-12-ä¿®æ”¹æ˜¾å­˜å¤§å°-å¿ƒç†ä¼˜åŒ–"><a href="#6-12-ä¿®æ”¹æ˜¾å­˜å¤§å°-å¿ƒç†ä¼˜åŒ–" class="headerlink" title="[6-12]ä¿®æ”¹æ˜¾å­˜å¤§å° (å¿ƒç†ä¼˜åŒ–)"></a>[6-12]ä¿®æ”¹æ˜¾å­˜å¤§å° <strong>(å¿ƒç†ä¼˜åŒ–)</strong></h2><p>é¦–å…ˆå£°æ˜è¿™é‡Œçš„æ˜¾å­˜åªæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå¹¶æ— ä»»ä½•å®é™…ä½œç”¨ï¼ä½ è¦æƒ³è£…é€¼å¯ä»¥ç›´æ¥æ”¹ä¸ªRTX3080(åªä¸è¿‡ä¹Ÿæ˜¯Intelçš„æ˜¾å¡å°±æ˜¯äº†xd)ã€‚   </p><p>æ‰“å¼€ <code>config.plist</code>,è¿›å…¥ <code>DeviceProperties</code>:<br>é¦–å…ˆæ·»åŠ ä½ æ˜¾å¡æ‰€éœ€è¦çš„å‚æ•°ï¼Œæ¯”å¦‚ <code>AAPL,ig-platform-id</code>,<br>ç„¶åè¿™æ˜¯æ·»åŠ æ˜¾å­˜å‚æ•° <code>framebuffer-unifiedmem</code>,å€¼æ ¹æ®ä½ æƒ³è¦æ˜¾ç¤ºçš„æ˜¾å­˜ä¿®æ”¹ã€‚    </p><p>æ˜¾å­˜å€¼ä¾‹å­ï¼š<br>000000FF â¡ï¸ 4080MB<br>00000080 â¡ï¸ 2048MB  </p><p><img src="/cn/Open-Core-for-macOS-Big-Sur/image/4080-config.png" alt="VRAM"></p><p>å¤‡æ³¨ï¼š<code>UHD630</code> ç»æµ‹è¯•æœ€é«˜åªèƒ½ä¿®æ”¹åˆ°4080MBï¼Œå†å¾€ä¸Šä¼šå˜æˆ0MBã€‚</p><p>ä¿å­˜é‡å¯å³å¯ã€‚<br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/4080.png" alt="VRAM">  </p><h2 id="6-13-è§£å†³-macOS-ä¸-Windows-æ—¶é—´ä¸åŒæ­¥"><a href="#6-13-è§£å†³-macOS-ä¸-Windows-æ—¶é—´ä¸åŒæ­¥" class="headerlink" title="[6-13]è§£å†³ macOS ä¸ Windows æ—¶é—´ä¸åŒæ­¥"></a>[6-13]è§£å†³ <code>macOS</code> ä¸ <code>Windows</code> æ—¶é—´ä¸åŒæ­¥</h2><p>é€ æˆä¸¤ç³»ç»Ÿæ—¶é—´ä¸åŒæ­¥çš„åŸå› ä¸ºä¸¤è€…å¯¹æ—¶é—´è®¡ç®—çš„æ–¹å¼ä¸åŒï¼Œ<br><code>Windows</code> å°† <code>BIOS</code> æ—¶é—´ä½œä¸ºç³»ç»Ÿæ—¶é—´ï¼Œ<br>è€Œ <code>macOS</code> å°† <code>BIOS</code> æ—¶é—´ä½œä¸º <code>UTC</code> æ—¶é—´ï¼Œå†æ ¹æ®ä½ æ‰€åœ¨çš„æ—¶åŒºè¿›è¡Œè®¡ç®—å¾—å‡ºç³»ç»Ÿæ—¶é—´ã€‚   </p><p>ä½¿ç”¨ <code>Hackintool</code> è§£å†³é—®é¢˜ï¼š<br>æ‰“å¼€ <code>Hackintool</code>,é¡¶æ é€‰æ‹© <code>å·¥å…·</code> &#x2F; <code>Tool</code>ï¼Œç‚¹å‡»åº•éƒ¨ç¬¬äº”ä¸ªå›¾æ ‡ä»¥ç”Ÿæˆ <code>Windows æ³¨å†Œè¡¨</code>ã€‚<br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/time-1.png" alt="time"> </p><p><code>Hackintool</code> ä¼šå°†ç”Ÿæˆçš„è¿™ä¸¤ä¸ªæ–‡ä»¶æ”¾åˆ° <code>æ¡Œé¢</code>ï¼Œå°†è¿™ä¸¤ä¸ªæ–‡ä»¶è½¬å…¥ä½ çš„ <code>Windows</code>ã€‚<br><img src="/cn/Open-Core-for-macOS-Big-Sur/image/time-2.png" alt="time"> </p><p>è¿›å…¥ <code>Windows</code> åï¼Œæ‰“å¼€æ–‡ä»¶ <code>WinUTCOn.reg</code>å°†å…¶æ³¨å…¥è¿›ç³»ç»Ÿé‡å¯å³å¯ã€‚<br>å¤‡æ³¨ï¼š<br>WinUTCOn.reg â¡ï¸ å¼€å¯UTCæ—¶é—´è®¡ç®—<br>WinUTCOff.reg â¡ï¸ å…³é—­UTCæ—¶é—´è®¡ç®—<br>å½“ä½ ä¸éœ€è¦è¯¥æ—¶é—´ç»“ç®—æ–¹æ³•åï¼ŒåŒå‡»è¿è¡Œ <code>WinUTCOff.reg</code> å³å¯ã€‚  </p><h1 id="7-é™„åŠ ï¼šUç›˜ç›´è£…"><a href="#7-é™„åŠ ï¼šUç›˜ç›´è£…" class="headerlink" title="[7]é™„åŠ ï¼šUç›˜ç›´è£…"></a>[7]é™„åŠ ï¼šUç›˜ç›´è£…</h1><p><em>æ¬è¿è‡ª Bochiâ€˜s Blog <a href="https://wanan.run/2020/07/07/OpenCoreU%E7%9B%98%E5%85%A8%E6%96%B0%E7%9B%B4%E8%A3%85BigSur/">OpenCore Uç›˜å…¨æ–°ç›´è£…Big Sur</a></em></p><h2 id="å‡†å¤‡ï¼š"><a href="#å‡†å¤‡ï¼š" class="headerlink" title="å‡†å¤‡ï¼š"></a>å‡†å¤‡ï¼š</h2><ul><li>Uç›˜ 16GBä»¥ä¸Š</li><li>å®‰è£…æ–‡ä»¶</li><li>7&#x2F;6æˆ–æ›´æ–°çš„ <code>OC</code>ï¼Œ<code>Lilu</code>ï¼Œ<code>WhateverGreen</code></li></ul><p><del><code>Lilu</code> å’Œ <code>WhateverGreen</code> æˆ‘å·²æ”¾å…¥<code>Tools</code>é‡Œ,å¯ä»¥è‡ªè¡Œä¸‹è½½ï¼ˆåŒæ ·ç”±Bochiæä¾›ï¼Œåœ¨è¿™é‡Œå†æ¬¡æ„Ÿè°¢ğŸ™ï¼‰ã€‚</del><br><strong>è¯·ä»<code>release</code>é‡Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬é©±åŠ¨ï¼Œé‡Œé¢åŒ…å«ä½ ä»¬éœ€è¦çš„ <code>Lilu</code> ï¼Œ <code>WhateverGreen</code> å’Œ <code>OC</code>ã€‚</strong><br>ä»€ä¹ˆï¼Ÿä½ è¯´Uç›˜ä¹Ÿéœ€è¦æä¾›ï¼Ÿä½ æ€•æ˜¯å†æƒ³peachï¼ï¼ï¼ ğŸ’¢</p><h2 id="Config-ä¿®æ”¹-ï¼ˆOpenCore-0-6-0ï¼‰ï¼š"><a href="#Config-ä¿®æ”¹-ï¼ˆOpenCore-0-6-0ï¼‰ï¼š" class="headerlink" title="Config ä¿®æ”¹ ï¼ˆOpenCore 0.6.0ï¼‰ï¼š"></a>Config ä¿®æ”¹ ï¼ˆOpenCore 0.6.0ï¼‰ï¼š</h2><ul><li><code>NVRAM</code><ul><li><code>7C436110-AB2A-4BBB-A880-FE41995C9F82</code><ul><li>åˆ é™¤ <code>csr-active-config</code></li></ul></li></ul></li><li><del><code>Kernel</code></del> (VirtualSMC 1.1.5+ å·²ä¿®å¤è¯¥é—®é¢˜)<ul><li><del><code>æ·»åŠ  / Add</code></del><ul><li><del>æ·»åŠ  <code>FakeSMC</code></del></li><li><del>ç¦ç”¨ <code>VirtualSMC</code></del></li></ul></li></ul></li></ul><p>ä¿å­˜é€€å‡º</p><h2 id="å°†å®‰è£…æ–‡ä»¶å†™å…¥Uç›˜"><a href="#å°†å®‰è£…æ–‡ä»¶å†™å…¥Uç›˜" class="headerlink" title="å°†å®‰è£…æ–‡ä»¶å†™å…¥Uç›˜"></a>å°†å®‰è£…æ–‡ä»¶å†™å…¥Uç›˜</h2><p>ç»ˆç«¯è¾“å…¥æŒ‡ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /Volumes/Install\ macOS\ Beta/Install\ macOS\ Beta.app/Contents/Resources/createinstallmedia --volume /Volumes/UNTITLED /Volumes/Install\ macOS\ Beta/Install\ macOS\ Beta.app --nointeraction</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>createinstallmedia</code>ã€<code>Install macOS Beta.app</code> è¿™ä¸¤ä¸ªæ–‡ä»¶ã€è¿˜æœ‰ä¸­é—´<code>/Volumes/UNTITLED</code>çš„<strong>Uç›˜åå­—</strong>å¯ä»¥ç›´æ¥<strong>æ‹–æ‹½</strong>åˆ°ç»ˆç«¯ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>é‡å¯ä»¥Uç›˜å¯åŠ¨å³å¯è¿›å…¥ç³»ç»Ÿå®‰è£…ç•Œé¢ï¼Œæ¥ç€ä¸€ç›´ç‚¹ï¼Œé‡å¯å‡ æ¬¡ä¾¿å¯å®Œæˆç³»ç»Ÿå®‰è£…</p><h2 id="å¯åŠ¨é¡¹é—®é¢˜"><a href="#å¯åŠ¨é¡¹é—®é¢˜" class="headerlink" title="å¯åŠ¨é¡¹é—®é¢˜"></a>å¯åŠ¨é¡¹é—®é¢˜</h2><p>å¦‚æœå®‰è£…æˆåŠŸååœ¨OCä¸­æ‰¾ä¸åˆ°æ–°ç³»ç»Ÿçš„å¯åŠ¨é¡¹ï¼Œå°±è¿›å…¥å·²ç»è£…å¥½çš„Macç³»ç»Ÿ â¡ï¸ <code>ç³»ç»Ÿåå¥½è®¾ç½®</code> â¡ï¸ <code>å¯åŠ¨ç£ç›˜</code> â¡ï¸ é€‰æ‹© <code>macOS 11</code> çš„å¯åŠ¨ç›˜ç„¶åé‡æ–°å¯åŠ¨å³å¯ã€‚</p><h1 id="8-å‚è€ƒ"><a href="#8-å‚è€ƒ" class="headerlink" title="[8]å‚è€ƒ"></a>[8]å‚è€ƒ</h1><ul><li><a href="https://github.com/EmeryWan/Razer-Blade-15-2018-Base-Hackintosh">https://github.com/EmeryWan/Razer-Blade-15-2018-Base-Hackintosh</a></li><li><a href="https://github.com/blade15basehackintosh/razerbladehackintosh">https://github.com/blade15basehackintosh/razerbladehackintosh</a></li><li><a href="https://github.com/doanhmaple/Razer-Blade-15-Advanced-2018-Hackintosh">https://github.com/doanhmaple/Razer-Blade-15-Advanced-2018-Hackintosh</a></li><li><a href="https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh">https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh</a></li><li><a href="https://blog.daliansky.net/">https://blog.daliansky.net/</a></li><li><a href="http://bbs.pcbeta.com/viewthread-1862049-1-1.html">http://bbs.pcbeta.com/viewthread-1862049-1-1.html</a></li><li><a href="http://bbs.pcbeta.com/viewthread-1862835-1-1.html">http://bbs.pcbeta.com/viewthread-1862835-1-1.html</a></li><li><a href="http://bbs.pcbeta.com/viewthread-1862148-1-1.html">http://bbs.pcbeta.com/viewthread-1862148-1-1.html</a></li><li><a href="https://wanan.run/2020/07/07/OpenCoreU%E7%9B%98%E5%85%A8%E6%96%B0%E7%9B%B4%E8%A3%85BigSur/">https://wanan.run/2020/07/07/OpenCoreU%E7%9B%98%E5%85%A8%E6%96%B0%E7%9B%B4%E8%A3%85BigSur/</a></li><li><a href="https://wanan.run/2020/07/01/%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85Big%20Sur%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/">https://wanan.run/2020/07/01/%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85Big%20Sur%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/</a></li></ul><h1 id="9-å˜æ›´ç›®å½•"><a href="#9-å˜æ›´ç›®å½•" class="headerlink" title="[9]å˜æ›´ç›®å½•"></a>[9]å˜æ›´ç›®å½•</h1><ul><li><p>8&#x2F;19</p><ul><li>æ›´æ–° beta5</li><li>åˆ é™¤å¯åŠ¨å‚æ•° <code>-brcmfxbeta</code> ï¼Œ<code>-hbfxbeta</code></li><li>é»˜è®¤ç¦ç”¨ <code>VerbStub</code>ï¼Œéœ€è¦ä½¿ç”¨è¯·æ‰‹åŠ¨å¼€å¯ã€‚</li></ul></li><li><p>8&#x2F;17</p><ul><li>æ·»åŠ  Windows &amp; macOS æ—¶é—´åŒæ­¥æ•™ç¨‹</li></ul></li><li><p>8&#x2F;15</p><ul><li>è±¡å¾æ€§æ·»åŠ 3.8GB &#x2F; 4080MBæ˜¾å­˜ ï¼ˆä½¿ç”¨ <code>config_4080.plist</code>ï¼‰</li><li>æ·»åŠ æ˜¾å­˜ä¿®æ”¹æ•™ç¨‹</li></ul></li><li><p>8&#x2F;14</p><ul><li>æ·»åŠ  <code>SecureBoot</code>ï¼Œé»˜è®¤è®¾ç½®ä¸º <code>j132</code> å¯¹åº” <code>MacBookPro15,2 (July 2018)</code></li><li>æ›´æ–° <code>USBPorts.kext</code>ï¼Œä¿®å¤å¼€æœºç”»å¹…å¤§å°çš„é—®é¢˜ã€‚</li><li>æ›´æ–° <code>OpenCore Configurator 2.10.0.0</code></li></ul></li><li><p>8&#x2F;13</p><ul><li>ä¿®å¤ <code>DW1560</code> åœ¨ <code>Beta4</code> å’Œ <code>Public Beta</code> çš„é—®é¢˜</li><li><strong>æ›´æ–°8&#x2F;13å·è‡ªç¼–è¯‘ <code>VirtualSMC</code> (VirtualSMC 1.1.6)</strong><ul><li>Fix audio lags in Safari caused by reading SMM in SMCDellSensors plugin(<a href="https://github.com/acidanthera/VirtualSMC/pull/36">#36</a>)  </li><li>Sync changelog</li><li>Add experimental support for supplement information (<a href="https://github.com/acidanthera/VirtualSMC/pull/34">#34</a>)</li><li>Drop extra semicolon</li></ul></li><li><strong>æ›´æ–°8&#x2F;13å·è‡ªç¼–è¯‘ <code>Lilu</code>  ï¼ˆLilu 1.4.7ï¼‰</strong><ul><li>Sync changelog</li><li>Do not remove osfmk folder from SDKâ€™s libraries (will be used by SMCDellSensors and probably SMCProcessor)</li></ul></li><li><strong>æ›´æ–°8&#x2F;13å·è‡ªç¼–è¯‘ <code>AppleALC</code>  ï¼ˆAppleALC 1.5.2ï¼‰</strong><ul><li>Added missing layout7.xml (<a href="https://github.com/acidanthera/AppleALC/pull/586">#586</a>)</li><li>Update Changelog.md</li><li>Update README_CN.md</li></ul></li><li><strong>æ›´æ–°8&#x2F;13å·è‡ªç¼–è¯‘ <code>AirportBrcmFixup</code>ï¼ˆAirportBrcmFixup 2.0.9ï¼‰</strong><ul><li>boot-arg and property <code>brcmfx-aspm</code> supports special value <code>255</code> in order to skip logic disabling APSM for 0x14e4:0x43a3 (DW1820A).</li><li>Update Changelog.md</li></ul></li></ul></li><li><p>8&#x2F;12</p><ul><li>æ›´æ–°æ­£å¼ç‰ˆ <code>EFI</code> </li><li>æ›´æ–° <code>OpenCore Configurator 2.9.1.0</code> </li><li>æ›´æ”¹æœºå‹ä¸º <code>MacBook Pro 15,2</code></li><li>æ·»åŠ å›¾åƒåŒ–å¼•å¯¼</li></ul></li><li><p>8&#x2F;7</p><ul><li>æ›´æ–°HIDPiæ•™ç¨‹</li></ul></li><li><p>8&#x2F;4</p><ul><li>æ›´æ–°USBå®šåˆ¶æ•™ç¨‹</li><li>æ›´æ–° macOS Big Sur Beta 4</li></ul></li><li><p>8&#x2F;3</p><ul><li>æ›´æ–°EFIé©±åŠ¨åˆ°æœ€æ–°ç¨³å®šç‰ˆæœ¬</li><li>æ›´æ–°å®˜æ–¹Kextå…¨å®¶æ¡¶ï¼ˆæ¬è¿è‡ª@acidantheraï¼‰</li><li>æ›´æ–°OpenCore 0.6.0 ï¼ˆæ¬è¿è‡ª@acidantheraï¼‰</li><li>æ›´æ–°macOSç³»ç»Ÿä¼˜åŒ–ï¼šUSBé©±åŠ¨å®šåˆ¶æ•™ç¨‹</li><li><strong>æ›´æ–°8&#x2F;3å·è‡ªç¼–è¯‘ <code>VirtualSMC</code> (VirtualSMC 1.1.4)</strong> <ul><li>Improve SMC generation debugging</li><li>Force x86_64</li><li>Resolve booting issue on macOS 11 due to provider race condition</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Fixed crashes when trying to read CLKT key</li><li>Update README.md</li></ul></li><li><strong>æ›´æ–°8&#x2F;3å·è‡ªç¼–è¯‘ <code>Lilu</code>  ï¼ˆLilu 1.4.6ï¼‰</strong><ul><li>Fixed another race condition in kext patcher loading code in 11.0</li><li>Resolve init issues on 11.0 with multiple PCI root devices</li><li>Force x86_64</li><li>Process already loaded kexts early in 11.0</li><li>Make function routing atomic in several places</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Initialise kernel patches in parallel to PCI</li><li>Add RTC register indices</li><li>Abort on PCI register read failure</li><li>Implement Lilu loading at console init in 11.0</li><li>Fix typo in debug logging</li><li>Update README.md</li></ul></li><li><strong>æ›´æ–°8&#x2F;3å·è‡ªç¼–è¯‘ <code>WhateverGreen</code>  ï¼ˆWhateverGreen 1.4.1ï¼‰</strong><ul><li>Force x86_64</li><li>fix typo and spaces (<a href="https://github.com/acidanthera/WhateverGreen/pull/59">#59</a>)</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Update FAQ.IntelHD.cn.md (<a href="https://github.com/acidanthera/WhateverGreen/pull/58">#58</a>)</li><li>Update README.md</li><li>Update FAQ.IntelHD.en.md</li></ul></li><li><strong>æ–°å¢8&#x2F;3å·è‡ªç¼–è¯‘ <code>NVMeFix</code>   (NVMeFix 1.0.3)</strong><ul><li>Added constants for 11.0 support.</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Leave a note regarding 11.0</li><li>Force x86_64</li></ul></li><li><strong>æ–°å¢8&#x2F;3å·è‡ªç¼–è¯‘ <code>CPUFriend</code>   (CPUFriend 1.2.1)</strong><ul><li>Added constants for 11.0 support</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Force x86_64</li></ul></li><li><strong>æ›´æ–°8&#x2F;3å·è‡ªç¼–è¯‘ <code>AppleALC</code>  ï¼ˆAppleALC 1.5.1ï¼‰</strong><ul><li>Force x86_64</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Update README.md</li></ul></li><li><strong>æ›´æ–°8&#x2F;3å·è‡ªç¼–è¯‘ <code>AirportBrcmFixup</code>ï¼ˆAirportBrcmFixup 2.0.8ï¼‰</strong><ul><li>Force x86_64</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Fix ordering of build stages (<a href="https://github.com/acidanthera/AirportBrcmFixup/pull/8">#8</a>)</li><li>Update README.md</li></ul></li><li><strong>æ›´æ–°8&#x2F;3å·è‡ªç¼–è¯‘ <code>HibernationFixup</code>   (HibernationFixup 1.3.4)</strong><ul><li>Force x86_64</li><li>Get things compile in Xcode 12 (is not guaranteed to work)</li><li>Added constants for 11.0 support</li></ul></li><li><strong>æ›´æ–°8&#x2F;2å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0)</strong><ul><li>Update SSDT-EC-USBX.dsl</li><li>OcCpuLib: Fix display name for i9 CPUs like 7920X</li></ul></li></ul></li><li><p>8&#x2F;2</p><ul><li><strong>ç¡çœ ä¿®å¤ï¼Œç°åœ¨å¯ä»¥ç›´æ¥åˆç›–ç¡çœ æˆ–æ‰‹åŠ¨ç‚¹å‡»ç¡çœ ğŸ’¤ ï¼ï¼ï¼</strong></li><li><strong>æ›´æ–°8&#x2F;1å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0)<strong>ï¼ˆ</strong>I disable nvmefix, if you are using nvme drive you should enable it!!! &#x2F; æˆ‘åœ¨efiä¸­æœªå¯ç”¨nvmefixçš„kextï¼Œå¦‚æœä½ ä½¿ç”¨nvmeç¡¬ç›˜ä½¿ç”¨ç³»ç»Ÿï¼Œè¯·æ‰‹åŠ¨å¯ç”¨ï¼ï¼ï¼</strong>)<ul><li>Patches: Add AtaAtapiPassThru IDE timeout patch</li><li>OcAppleSecureBootLib: Fix invalid assertion</li><li>OcAppleIm4Lib: Fix memcpy undefined reference</li><li>Include: Add BlockIoVendor header</li><li>EfiLdr: Revert removal of memmap shifts</li><li>Include: Update AppleCsrConfig with 11.0 definitions</li><li>BootSector: Drop unused and non-functional GENPAGE mode</li><li>EfiLdr: Fixed 32-bit booting on machines with over 4 GBs of RAM</li><li>Docs: Document the DeviceProperty limitations for some drivers</li><li>Update SSDT-EC-USBX.dsl (#92)</li><li>OcXmlLib: Free original buffer on failure</li><li>OcXmlLib: Correct&#x2F;clarify XmlDocumentExport</li><li>OcXmlLib: Fix previous commit</li><li>OcXmlLib: Add plist doctype export option</li><li>DataBase: Fixed BIOSReleaseDates</li><li>PlatformInfo Automatic for all models</li><li>Build: Fix warnings</li><li>OcFileLib: Implement AllocateCopyFileData</li><li>OcXmlLib: Implement XmlNodeChangeContent</li><li>Utilities: Drop OpenDuetPkg binary and rebuild it with OC</li><li>OcDevicePathLib: Added a workaround for PCI0 with 0x1 _UID</li><li>OpenCoreMisc: Perform serial init separately via SerialInit option</li><li>Docs: Fix the hint regarding RebuildAppleMemoryMap</li><li>OcAfterBootCompatLib: Fix 32-bit dead loop</li><li>Docs: Provide errata entry on OSXSAVE issue</li><li>OcAppleKernelLib: Fixed OSXSAVE reporting when emulating CPUID on newer CPUs</li><li>Docs: Improve the documentation</li><li>OcConsoleLib: Update UGA comments</li><li>OcFileLib: Consolidate to use GetFileInfo</li><li>DataBase: Update builtin firmware versions for 11.0</li><li>Update SampleLegacy.plist</li></ul></li></ul></li><li><p>8&#x2F;1</p><ul><li>æ›´æ–° <code>USB-Adapter</code> é©±åŠ¨ by <code>chris1111</code></li></ul></li><li><p>7&#x2F;30</p><ul><li>æ›´æ–°BIOSæ•™ç¨‹ (Baseç‰ˆ Only)</li></ul></li><li><p>7&#x2F;26</p><ul><li>ä¿®å¤CLTé—®é¢˜</li></ul></li><li><p>7&#x2F;25</p><ul><li>ä¿®å¤SIPé—®é¢˜</li><li>ä¿®å¤Authenticated-rooté—®é¢˜</li><li>ä¿®å¤ç³»ç»Ÿå†™å…¥æƒé™&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x2F;[Beta3]è²Œä¼¼å·²å¤±æ•ˆï¼Œåç»­ä¼šè¿›è¡Œæµ‹è¯•&#x2F;</li></ul></li><li><p>7&#x2F;22</p><ul><li>æ›´æ–° macOS Big Sur beta3</li></ul></li><li><p>7&#x2F;20 </p><ul><li><strong>æ›´æ–°7&#x2F;20å·è‡ªç¼–è¯‘ <code>WhateverGreen</code>  ï¼ˆWhateverGreen 1.4.1ï¼‰</strong><ul><li>Update FAQ.IntelHD.en.md</li></ul></li><li><strong>æ›´æ–°7&#x2F;20å·è‡ªç¼–è¯‘ <code>AirportBrcmFixup</code>ï¼ˆAirportBrcmFixup 2.0.8ï¼‰</strong><ul><li>Support brcmfx-aspm for all chipsets</li><li>Support boot-arg &amp; property <code>brcmfx-aspm</code> to override value used for pci-aspm-default, support ioreg property brcmfx-wowl</li></ul></li><li><strong>æ›´æ–°7&#x2F;20å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0)</strong><ul><li>Includes: Fix MKext header comments</li><li>OcCompressionLib: Expose Adler32 function</li><li>OcDevicePathLib: Fix potential deadloop</li><li>Patches: Add AtaAtapiPassThru patches for G33</li><li>Includes: Add missing Mach prefixes</li><li>Includes: Fix additional typos</li><li>OcFileLib: Fix typo</li><li>Patches: Add SataControllerDxe patch for G33 in RAID mode</li><li>OcAppleKernelLib: Fix memory corruption with many kexts in 11.0</li></ul></li></ul></li><li><p>7&#x2F;18 </p><ul><li><strong>æ–°å¢è‡ªç¼–è¯‘é©±åŠ¨ <code>VoodooInput</code> (VoodooInput 1.0.6)</strong></li><li><strong>æ›´æ–°7&#x2F;18å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0)</strong><ul><li>Docs: Fix debugging patches</li><li>Docs: generated pdf</li><li>OcMemoryLib: Fix typo</li><li>Utilities&#x2F;KextInject: Determine Info&#x2F;EXE reserve sizes</li></ul></li></ul></li><li><p>7&#x2F;16 </p><ul><li><strong>æ›´æ–°7&#x2F;16å·è‡ªç¼–è¯‘ <code>AirportBrcmFixup</code>ï¼ˆAirportBrcmFixup 2.0.8ï¼‰</strong><ul><li>Fix critical issue introduced in previous 2 commits (getting of brcmfx-driver index)</li><li>Check and fix incorrect value brcmfx-driver (if specified value is unsupported in current osx system)</li></ul></li><li><strong>æ›´æ–°7&#x2F;16å·è‡ªç¼–è¯‘ <code>VirtualSMC</code> (VirtualSMC ?.?.?)</strong> <ul><li>Include SMCDellSensors in package (<a href="https://github.com/acidanthera/VirtualSMC/pull/33">#33</a>)</li><li>Sync changelog</li><li>Compatibility fixes in SMCBatteryManager for 10.16 (<a href="https://github.com/acidanthera/VirtualSMC/pull/32">#32</a>)</li><li>Update Changelog.md</li><li><strong>Added a new plugin SMCDellSensors (adapted SMI Monitor from HWSensors):</strong><ul><li>monitor and control temperature and fans in Dell computers by using SMM technology (<a href="https://github.com/acidanthera/VirtualSMC/pull/31">#31</a>)<ul><li>Port SMIMonitor for VirtualSMC</li><li>Use mp_rendezvous instead of mp_rendezvous_no_intrs and disable&#x2F;enable interrupts in assembler code</li><li>Add keys for fan control, configurable multiplier and names</li><li>Fix issue with non-sorted keys, add target speed support.</li><li>Update Changelog.md</li><li>Fix project &amp; file name in sources, add copyrights and links to the original sources</li><li>Fix issues in fan control, remove unsupported on real Macs key F0As.</li><li>Use _Atomic instead of stateLock</li><li>Do not disable interrupts while reading SMM, rename variables according to review remarks.</li><li>Increase SMM reading interval</li><li>Increase maximum amount of temp sensors 8</li><li>Revert max amount of temp sensors to 6 (we do not have so many smc keys to keep them all), rename variable for FS! again (with comments)</li><li>Fix attributes for F0Mn &amp; F0Mx, add logging if someone wants to update these keys</li><li>Disable update timer during sleep&#x2F;shutdown phase, otherwise reading of SMM prevents sleeping with closed lid.</li><li>Use DBGLOG for logging</li><li>Fix module version and remove unused variable.</li><li><strong>Co-authored-by: lvs1974<br><a href="mailto:&#108;&#118;&#x73;&#49;&#x39;&#x37;&#52;&#x40;&#117;&#x73;&#x65;&#x72;&#115;&#x2e;&#110;&#x6f;&#x72;&#x65;&#x70;&#x6c;&#x79;&#x2e;&#103;&#105;&#116;&#x68;&#117;&#98;&#x2e;&#99;&#x6f;&#x6d;">&#108;&#118;&#x73;&#49;&#x39;&#x37;&#52;&#x40;&#117;&#x73;&#x65;&#x72;&#115;&#x2e;&#110;&#x6f;&#x72;&#x65;&#x70;&#x6c;&#x79;&#x2e;&#103;&#105;&#116;&#x68;&#117;&#98;&#x2e;&#99;&#x6f;&#x6d;</a></strong></li></ul></li></ul></li></ul></li><li><strong>æ›´æ–°7&#x2F;16å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0)</strong><ul><li>OcBootManagementLib: Load icons for custom boot entries (<a href="https://github.com/acidanthera/OpenCorePkg/pull/91">#91</a>)</li><li>Update Changelog.md</li><li>DataBase: Update builtin firmware versions</li><li>Update AutoGenerated.c</li><li>DataBase: Update SmcRevision</li><li>OcFileLib: Provide workaround for buggy drivers</li><li>DataBase: Fixed typos</li><li>Includes: AppleKeyMapAggregator revision is UINT64</li><li>OcMemoryLib: Fix typo</li></ul></li></ul></li><li><p>7&#x2F;15</p><ul><li>æ›´æ–° <code>macOS 10.15.6</code> æ­£å¼ç‰ˆ &amp; <code>Safari 14.0</code> æµ‹è¯•ç‰ˆ <strong>ï¼ˆé <code>Big Sur</code> æ›´æ–°ï¼‰</strong></li></ul></li><li><p>7&#x2F;14 </p><ul><li><strong>æ›´æ–°7&#x2F;14å·è‡ªç¼–è¯‘ <code>VirtualSMC</code> (VirtualSMC ?.?.?)</strong> <ul><li>Fixed running smcread on 11.0 without IOKit framework</li></ul></li><li><strong>æ›´æ–°7&#x2F;14å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0)</strong><ul><li>Docs: Fixed typo</li><li>DataBase: Updeted MBP164</li></ul></li></ul></li><li><p>7&#x2F;13</p><ul><li><strong>æ›´æ–°7&#x2F;13å·è‡ªç¼–è¯‘ <code>VirtualSMC</code> (VirtualSMC ?.?.?)</strong> <ul><li>Update README.md  <strong>(åªæ˜¯æ›´æ–°è¯´æ˜æ–‡æ¡£ï¼Œæ— é©±åŠ¨å˜åŒ–)</strong></li></ul></li><li><strong>æ›´æ–°7&#x2F;13å·è‡ªç¼–è¯‘ <code>WhateverGreen</code>  ï¼ˆWhateverGreen 1.4.1ï¼‰</strong><ul><li>Update README.md  <strong>(åªæ˜¯æ›´æ–°è¯´æ˜æ–‡æ¡£ï¼Œæ— é©±åŠ¨å˜åŒ–)</strong></li></ul></li><li><strong>æ›´æ–°7&#x2F;13å·è‡ªç¼–è¯‘ <code>AppleALC</code>  ï¼ˆAppleALC 1.5.1ï¼‰</strong><ul><li>Update README.md  <strong>(åªæ˜¯æ›´æ–°è¯´æ˜æ–‡æ¡£ï¼Œæ— é©±åŠ¨å˜åŒ–)</strong></li></ul></li><li><strong>æ›´æ–°7&#x2F;13å·è‡ªç¼–è¯‘ç‰ˆæœ¬ <code>Lilu</code> (Lilu 1.4.6)</strong><ul><li>Update README.md  <strong>(åªæ˜¯æ›´æ–°è¯´æ˜æ–‡æ¡£ï¼Œæ— é©±åŠ¨å˜åŒ–)</strong></li></ul></li><li><strong>æ›´æ–°7&#x2F;13å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0)</strong><ul><li>Delete OpenCore_with_text_Right.png</li><li>Docs: Fixed previous</li><li>Docs: Added links to customised icons.</li><li>Docs: Update SampleLegacy</li><li>Docs: Fixed Samples</li></ul></li></ul></li><li><p>7&#x2F;12</p><ul><li><strong>æ–°å¢7&#x2F;12å·ç¼–è¯‘ç‰ˆæœ¬ <code>OpenCore</code> (OpenCore 0.6.0) [è½¬è½½è‡ª<code>OpenCore-Factory</code>]</strong><ul><li>Docs: Drop Generic key as it is unused from Legacy</li><li>Docs: Rename SampleFull to SampleLegacy and fix typos</li></ul></li><li><strong>æ›´æ–°7&#x2F;12å·è‡ªç¼–è¯‘ <code>VirtualSMC</code> (VirtualSMC ?.?.?)</strong> <ul><li>Fix sign issues in legacy smc tool</li></ul></li></ul></li><li><p>7&#x2F;11</p><ul><li>æ›´æ–°ä¸€äº›æˆ‘è‡ªå·±ç”¨çš„å£çº¸â€¦.ï¼ˆç®—æ˜¯ç»™è‡ªå·±çš„å£çº¸åšå¤‡ä»½ï¼Ÿï¼Ÿï¼Ÿ)</li><li><strong>æ›´æ–°7&#x2F;11å·è‡ªç¼–è¯‘ <code>AirportBrcmFixup</code>ï¼ˆAirportBrcmFixup 2.0.8ï¼‰</strong><ul><li>Merge remote-tracking branch <code>refs/remotes/origin/master</code></li><li>Fix wrong base class IOService for FakeBrcm, now it works in older osx</li><li>Update README.md</li><li>Commit required files for previous commit</li><li>Remove injectors for AirPortBrcm4360 and AirPortBrcmNIC from main Info.plist and move them into separate plugins AirPortBrcm4360_Injector and AirPortBrcmNIC_Injector (kexts with plist only)</li></ul></li></ul></li><li><p>7&#x2F;10</p><ul><li>Releaseæ‰“åŒ… ğŸ“¦  æ”¹ä¸ºåˆ†åŒ…æ¨¡å¼ï¼š<ul><li><code>x/x-DEBUG.zip</code></li><li><code>x/x-RELEASE.zip</code>  (ä¸€èˆ¬ä½¿ç”¨<code>RELEASE</code>ç‰ˆå³å¯)</li></ul></li><li>ä¿®å¤Wi-Fiä¸å®šæ—¶è‡ªåŠ¨æ–­å¼€çš„æ¯›ç—…</li><li>æ›´æ–°releaseåˆ†æ”¯ï¼Œä¸€èˆ¬ä¼šåœ¨8 ~ 24å°æ—¶å·¦å³æ›´æ–°é©±åŠ¨<ul><li><strong>âš ï¸ æ³¨æ„ï¼šæˆ‘å‘å¸ƒçš„è‡ªç¼–è¯‘é©±åŠ¨æœªç»åŸä½œè€…åŒæ„ï¼Œå› æ­¤æœ‰é—®é¢˜è¯·ä¸è¦åœ¨åŸä½œè€…çš„issueé‡Œå‘è¡¨ï¼âš ï¸</strong></li></ul></li><li><strong>æ›´æ–°7&#x2F;10å·è‡ªç¼–è¯‘ <code>Lilu</code>  ï¼ˆLilu 1.4.6ï¼‰</strong><ul><li>Silence stupid clang analyzer</li></ul></li><li><strong>æ›´æ–°7&#x2F;10å·è‡ªç¼–è¯‘ WhateverGreen  ï¼ˆWhateverGreen 1.4.1ï¼‰</strong><ul><li>Revert workaround for ATIController::start on 11.0</li></ul></li></ul></li><li><p>7&#x2F;9</p><ul><li><strong>æ›´æ–°7&#x2F;9å·è‡ªç¼–è¯‘ <code>OpenCore</code> ï¼ˆOC 0.6.0ï¼‰</strong> (å·²æ·»åŠ è¿›Toolsé‡Œ)<ul><li>DxeIpl: Fix ACPI reset register detection</li></ul></li><li><strong>æ›´æ–°7&#x2F;8å·è‡ªç¼–è¯‘ <code>Lilu</code>  ï¼ˆLilu 1.4.6ï¼‰</strong><ul><li>Added device publishing API to monitor device startup</li></ul></li><li><strong>æ›´æ–°7&#x2F;9å·è‡ªç¼–è¯‘ <code>WhateverGreen</code>  ï¼ˆWhateverGreen 1.4.1ï¼‰</strong><ul><li>Add first generation Intel HD Graphics support</li></ul></li><li><strong>æ›´æ–°7&#x2F;8å·è‡ªç¼–è¯‘ <code>AppleALC</code>  ï¼ˆAppleALC 1.5.1ï¼‰</strong><ul><li>Use new device publishing API for 11.0 syncing</li></ul></li><li><strong>æ›´æ–°7&#x2F;5å·è‡ªç¼–è¯‘ <code>AirportBrcmFixup</code>  ï¼ˆAirportBrcmFixup 2.0.8ï¼‰</strong><ul><li>Fix warning â€˜Value stored to â€˜subSystemDeviceIDâ€™ during its initializâ€¦</li></ul></li></ul></li><li><p>7&#x2F;7</p><ul><li><strong>æ›´æ–° macOS Big Sur beta2</strong></li><li><strong>æ›´æ¢ <code>VisualSMC</code> ä¸º <code>FakeSMC</code></strong></li></ul></li><li><p>7&#x2F;5</p><ul><li>æ›´æ¢ <code>Broadcom BCM94352Z</code> &#x2F; <code>DW1560</code> ç½‘å¡ <ul><li>è“ç‰™å¾—åˆ°è§£å†³</li><li>Wi-Fiå¾—åˆ°è§£å†³</li><li>çŠ¶æ€æ å¡é¡¿å¾—åˆ°è§£å†³</li></ul></li><li><strong>ä¿®å¤çŠ¶æ€æ å¡é¡¿</strong></li></ul></li><li><p>7&#x2F;4</p><ul><li><strong>ä¿®å¤å¼€æœºç”»å±</strong></li><li><strong>ä¿®å¤ç”µæ± æ˜¾ç¤º</strong></li><li><strong>ä¿®å¤è§¦æ‘¸æ¿</strong></li></ul></li><li><p>6&#x2F;30</p><ul><li><strong>æ›´æ–° macOS Big Sur beta1</strong>  </li><li><strong>æ›´æ–° OC 0.6.0</strong></li></ul></li></ul><p><del>åç»­å†…å®¹è¿˜åœ¨æ–½å·¥ä¸­ğŸ‘·ï¼Œè¯·è€å¿ƒç­‰å¾…âŒ›ï¸</del><br><del>ä½œè€…ä¸ä¼šé¸½çš„æ”¾å¿ƒå§ï¼Œå’•å’•å’•å’•ï½ï½ï½</del></p><blockquote><p>æ–‡ç« å¤§è‡´å·²ç»å®Œæˆ  âœ… ï¼Œåç»­å°†ä¸ºå„ç§å°ä¿®å°è¡¥â€¦</p></blockquote><h2 id="æœªæ¥è®¡åˆ’-x2F-Plans-ï¼š"><a href="#æœªæ¥è®¡åˆ’-x2F-Plans-ï¼š" class="headerlink" title="æœªæ¥è®¡åˆ’ &#x2F; Plans ï¼š"></a>æœªæ¥è®¡åˆ’ &#x2F; Plans ï¼š</h2><ul><li><del>å¢åŠ BIOSä¿®æ”¹çš„å›¾æ–‡æ•™ç¨‹ &#x2F; Add detail for BIOSâ€™s tutorial  [ä¸ƒæœˆåº• &#x2F; Late July]</del> [å·²å®Œæˆ &#x2F; Finished] âœ…</li><li><del>ç‹¬ç«‹å˜æ›´ç›®å½• &#x2F; Separate <code>changelog</code> to a individual file [ä¸ƒæœˆåº• &#x2F; Late July]</del> [å·²å®Œæˆ &#x2F; Finished] âœ…</li><li><del>å¢åŠ è‹±è¯­ç‰ˆæœ¬æ•™ç¨‹ &#x2F; Add <code>English</code> version [å…«æœˆåº• &#x2F; Late August]</del> âŒ<ul><li><strong>Reason for cancellation</strong> : <code>OC</code> now support <code>OTA</code>, no more need for this tutorial.</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
          <category> OpenCore </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macOS </tag>
            
            <tag> é»‘è‹¹æœ </tag>
            
            <tag> OpenCore </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
